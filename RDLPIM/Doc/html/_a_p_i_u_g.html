<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.17"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>RDLPIM: Client API User&#39;s Guide</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="RDL.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">RDLPIM
   &#160;<span id="projectnumber">1.0</span>
   </div>
   <div id="projectbrief">RDL Plugin Manager</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.17 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('_a_p_i_u_g.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="PageDoc"><div class="header">
  <div class="headertitle">
<div class="title"><a class="el" href="class_client.html" title="A Class to represent the behaviour of a Client connected to the RDLPIM.">Client</a> API User's Guide </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><dl class="section user"><dt>Table of Contents</dt><dd></dd></dl>
<ul>
<li>users_guide<ul>
<li><a class="el" href="_a_p_i_u_g.html#apiIntro">API Introductin</a></li>
<li><a class="el" href="_a_p_i_u_g.html#apiConnection">API Connection and Handshake</a></li>
<li>Unity Implimentation</li>
</ul>
</li>
</ul>
<h2><a class="anchor" id="apiIntro"></a>
API Introduction</h2>
<p>Connections and requests made to the RDLPIM are done so by a custom API. This section of the documentation provides a detailed description of how to build connection and request packets, as well as pointing to helper classes which will make this easier for a developer developing a client.</p>
<h2><a class="anchor" id="apiConnection"></a>
Requst Connection and Handshake</h2>
<p>The RDLPIM exposes a synchronous/blocking TCP listener socket on port 8000. Once a client makes a connection to this socket, the RDLPIM will serve the client with connection details and close the connection. The format of the connection details packet is as follows</p>
<p>[Function Word]=[Port]=[<a class="el" href="class_client.html" title="A Class to represent the behaviour of a Client connected to the RDLPIM.">Client</a> ID]</p>
<p>[<b>char*</b>]= [<b>int</b>] = [<b>int</b>]</p>
<p>CONNECT={0x41}{0x1f}{0x00}{0x00}={0xe8}{0x03}{0x00}{0x00}</p>
<h3><a class="anchor" id="autotoc_md12"></a>
Deserialised:</h3>
<p>Function = Connect</p>
<p>Port = 8001</p>
<p>ClientID = 1000</p>
<p>The RDLPIM will then open a listening asynchronous TCP socket of the specified port for the client to reconnect and bind to. A helper class has been provided for c++ application (<a class="el" href="classrdlpim_client.html" title="A class to handle a client connection to the RDLPIM.">rdlpimClient</a>) an example of its initialisation has been provided below.</p>
<h3><a class="anchor" id="autotoc_md13"></a>
Example</h3>
<div class="fragment"><div class="line"><a class="code" href="classrdlpim_client.html">rdlpimClient</a> client1(<span class="stringliteral">&quot;127.0.0.1&quot;</span>, 8000);</div>
<div class="line">client1.connectToRDLPIM();</div>
<div class="line"><a class="code" href="class_buffer.html">Buffer</a> recieved;</div>
<div class="line"> </div>
<div class="line"> </div>
<div class="line"><span class="keywordtype">bool</span> SomethingToSend;</div>
<div class="line"><span class="keywordflow">while</span> (<span class="keyword">true</span>) {</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">if</span> (client1.CanRead()) {</div>
<div class="line">        client1.Recieve(&amp;recieved);</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">if</span>(SomethingToSend &amp;&amp; client1.CanSend(){</div>
<div class="line">        client1.Send(<span class="stringliteral">&quot;some message&quot;</span>);</div>
<div class="line">    }</div>
<div class="line">}</div>
</div><!-- fragment --><h2><a class="anchor" id="APICommands"></a>
API Commands/Functions</h2>
<p>A client is able to Push, Pull, Subscribe and Unsubscribe from data stored within the RDLPIM/RDL, The client does not need to make a destinction between whether the data requested exists on the RDLPIM or <a class="el" href="class_r_d_l.html" title="A class to handle the interface between external code and the RDL&#39;s runtime memory and execution.">RDL</a> runtime, this is handled by the RDLPIM. In addition to the data manipulating requests, function codes denoting a data packet, server info and inter-client chat also exist. This section of the documentation attempts to explain in detail how to build these packets from the ground up, and what helper classes exist to help you serialise and deserialise messages to and from the RDLPIM.</p>
<h2><a class="anchor" id="autotoc_md14"></a>
Push</h2>
<p>The Push data request code is used to push data onto the RDLPIM. If the RDLPIM recognises that this data exists within the <a class="el" href="class_r_d_l.html" title="A class to handle the interface between external code and the RDL&#39;s runtime memory and execution.">RDL</a>, it is also pushed live into the <a class="el" href="class_r_d_l.html" title="A class to handle the interface between external code and the RDL&#39;s runtime memory and execution.">RDL</a> allowing for realtime interaction with the simulation. </p>
</div></div><!-- contents -->
</div><!-- PageDoc -->
</div><!-- doc-content -->
<div class="ttc" id="aclassrdlpim_client_html"><div class="ttname"><a href="classrdlpim_client.html">rdlpimClient</a></div><div class="ttdoc">A class to handle a client connection to the RDLPIM.</div><div class="ttdef"><b>Definition:</b> <a href="_r_d_l_p_i_m___client_8hpp_source.html#l00030">RDLPIM_Client.hpp:30</a></div></div>
<div class="ttc" id="aclass_buffer_html"><div class="ttname"><a href="class_buffer.html">Buffer</a></div><div class="ttdoc">The Buffer class is a container to hold serialised data.</div><div class="ttdef"><b>Definition:</b> <a href="buffer_8hpp_source.html#l00031">buffer.hpp:31</a></div></div>
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.17 </li>
  </ul>
</div>
</body>
</html>
