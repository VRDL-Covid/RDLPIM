<DbmHelp><Topic>add<Text>
/ADD - Add a Point to the Data Dictionary
/MODify - Modify an existing Data Dictionary Point
/MDD - Add or modify MDD point

	The /add command adds a new point to the Master Data Dictionary (MDD).

   Syntax:
	/ADD &lt;ptid&gt; [&lt;level&gt;]
	/MODify &lt;ptid&gt; [&lt;level&gt;]
	/MDD &lt;ptid&gt; [&lt;level&gt;]
	/OMOD &lt;ptid&gt;

   Where:

	&lt;ptid&gt;	   Is the symbol name for the point to be added. Symbol names
		may be up to 31 characters long. They must begin with an
		alphanumeric character, may also contain the special characters
		colon (":") and underscore ("_").  Symbols starting with a digit
		must contain sufficient alphabetic characters to avoid
		confusion with literal values.
		   The symbol name will need to be enclosed in quotes in the
		fairly unusual case of it matching a keyword recognized by
		dbm (such as i1, i4, r4, const).
		   Global root points must be initially defined using the
		ROOT command. They may be modified with Modify. Non-root
		point symbol names may not begin with "global".

	&lt;level&gt;	   Specifies the development system level to add the point at.
		Level specifiers are as follows:

		u    Default. Add to user level.

		o    Add to ODS level directly. Available to privileged users
		     only.

    For each point added, additional information that needs to be supplied.
In the interactive mode, DBM will prompt for the additional information. When
in batch  input the additional fields must be provided on data directive lines
identified by begining with a period followed by a field name.

  The Add, Modify, and Mdd commands accept the same set of data directives.
The Add command will not accept a symbol name which is already defined in the
MDD.

   The Modify command will not accept a symbol name which is not already
defined in the MDD. When an MDD point defined in the ODS is modified at the
UDS level, a copy is automatically extracted to the UDS.

   The Modify command is also used to modify an MSF (Module Specification File)
entry. When the selected symbol name is not defined in the MDD but is defined
in the MSF then the MSF modification routine will be invoked. This may also
be explicitly indicated by the command syntax "/MODIFY &lt;name&gt;,M".
   The Modify commad may also apply to the type data base. This is explicitly
different syntax "/MODIFY TYPE &lt;name&gt; ...".
   The short form, "MOD", of the command can be confused with the ISD MODULE
command. When attached to an executive the MOD command is short for "Module",
when not, it is short for "Modify".

   The MDD command will accept either a new or an existing symbol name, and
perform exactly as add when a new name is given, as Modify when an existing
symbol name is selected.

   The OMOD command modifies an existing mdd point directly at the ODS level but
is limited to the descriptive and value fields (the other data field directives
will be ignored if present).


    These data directives are used by the /ADD, /MOD, /MDD, and /OMOD commands.

.desc		Provides the brief and full descriptions of the point.

.unit		Provides the units of measure for the point. On a global root
		point there are two special conventional values which alter
		how the global partition is treated:

			"Noshare" - This partition is not to be shared. On 
				windows it cannot be.
			"Alias" - This partition is to echo the definition of
				a treaditional Fortran common. The effective
				name of the common is the point name with
				the prefix "global" removed. The effective size
				is not rounded up. On Windows it will not be
				shared in a dll. It must be defined in by
				Fortran object code. Default initialization,
				snap and reset are suppressed.

.sys		Provides the system ID of the point.

.type		Declares the type and precision of the point.

.form		Provides the default isd display format for the point.

.dim		Declares the dimension (or size) of the point if it is an array.

.valu		Provides an initial default value for the point and defines
		the point as variable, constant, or parameter.

.pred		Specifies how the point is located in a global data partitions.

.root		Merge eligibility options (This is not usually used. DBM will
		not prompt for it.)

.desc

   The .desc directive is required. It is used to enter the brief and full
descriptions of a point. A brief description is to be provided on the .desc
line. Additional lines of long and extended description may follow. For each
such line an initial space character, if present, will not be entered into
the description line. As the description field may be of arbitrary length,
description input must be terminated with a line containing period (".") or
slash ("/") in the first character. On interactive modification of description
lines a carriage return as the first character of an input line will leave
the existing content in place. (In contrast, a space followed by return will
clear the line).

The long description may also contain keyword defined information under the
convention :
	@&lt;fieldname&gt;(&lt;value&gt;)
		where &lt;fieldname&gt; corresponds to a field that auxiliary
		programs may search.
Such fields may be edited and deleted via syntax

	@fieldname(&lt;value&gt;)
				to add or replace

	@fieldname-
				to delete

.unit
	   The unit field is to document the engineering units used for a data
	item. The unit field is limited to 8 characters.

.sys
	   The sys field is to document the system id to which the point
	belongs. The system id field is limited to 4 alphanumeric characters.
	It is normally required.

.type

	Syntax:

	.type &lt;type and precision&gt;

	    The .type directive is required to define the type and precision of
	the data item. The type may be either a simple type or a defined type.
	Simple types are specified with a one letter code followed by an
	integer precision specifier. The simple type codes are as follows:

	integer	- i*1, i*2, i*4
	logical - l*1, l*2, l*4
	real - r*4, r*8
	complex - c*8, c*16
	character - H*&lt;precision&gt;

	   Defined or structured types must first be defined in the type data
	base (see types). To define a point based on a structured type place
	the type name, as defined in the type data base, on the .type directive.


.form

The .form directive is optional. It may be used to provide a default output
display format for isd to display the symbol value.

.form &lt;format&gt;

    Where:

	&lt;format&gt;	Is of the form I&lt;w&gt;, F&lt;w&gt;.&lt;d&gt;, E&lt;w&gt;.&lt;e&gt;, G&lt;w&gt;.&lt;d&gt;
			as defined in fortran format statements. The
			format codes must be appropriate to the data type,
			appropriate defaults are provided.


.dim

The .dim directive is optional. It is used to define array dimensionality.
NOTE:   If a symbol is declared as an array, its initial and constant values
are specified in a block data file (using FORTRAN-like data statements)
instead of through the .valu directive).

.dim
.dim 0

	   The .dim directive absent, present with no content, or with a
	value 0  defines a scalar point. In the "/MODIFY" case absent or 
	empty will leave the existing definition. Therefore to modify a point
	from array to scalar requires the syntax ".dim 0"

.dim &lt;n&gt;

	   Where &lt;n&gt; is a non-zero integer defines a single dimensioned array
	starting with element 1.

.dim (&lt;n1&gt;,&lt;n2&gt;,...,&lt;n7&gt;)

	   Arrays with multiple dimensions, with explicit ranges (i.e. starting
	at other than 1), and ranges defined by arithmetic expressions may
	also be defined. In these cases the dimension specifiers must be
	enclosed in parentheses.
	   There may be a maximum of 7 dimensions.
	   Dbm will also accept the FORTRAN syntax

		&lt;start&gt;:&lt;end&gt;

	to specify arrays with index ranges starting at values other than 1.  
	When the range syntax is used the maximum number of dimensions is
	reduced to 3.
	    Dimensionality may be specified by an arithmetic expression using
	integer literals, dbm parameter values and arithmetic operations.

.valu
	   The .valu directive is used to specify the initial value for a
	variable, or constant, and also defines a variable, constant, or
	parameter type code.

	Syntax:

	.valu &lt;value&gt;[,&lt;vcopt&gt;]

	Where:

	&lt;value&gt;		Is a literal value for the point.
	&lt;vcopt&gt;		Is a point type code as follows:

		C	- constant
		V	- variable
		P	- parameter
		M	- macro


	   When the value data directive is absent the default value of zero
	(or FALSE) is provided. Values may be defined as literal values with
	natural syntax or with an arithmetic expression containing literal and
	parameter values and typical fortran or c like operators.

	   Only a single value may be entered and only 8 bytes of precision
	is maintained. For arrays, structured variables or for double complex,
	or character data requiring multiple values or greater precision the
	initial values must be defined in a block data file.

	
	   The vcopt codes of C and V apply to data maintained in global
	partitions. A predecessor must therefore be defined for such points.
	The vcopt codes C and V do not need to be explicitly provided as they
	will be inherited from the predecessor.

	   The vcopt code P defines a parameter point. Parameter points do not
	reside in global, but are defined (by fscan) with parameter
	declarations in the compiler source files where they are used.

	   The vcopt code M defines a macro file. Macros require a source file
	supplied by the user in the "macro" subdirectory. They are to contain
	code fragments, with macro expansion operations as defined by the
	SimExec Component Development System to be expanded in line, by fscan,
	in response to CALLM statements. The .type, .form, .dim, and .pred data
	directives are not applicable to macro points.


.pred 

The .pred directive is required for global data points. It defines where and
how to locate the point.

	Syntax:

	.pred &lt;ptid&gt;[,&lt;category&gt;][,&lt;offset&gt;]
	or
	.pred &lt;ptid&gt;(&lt;array offset)[,&lt;category&gt;]

Where:

	&lt;ptid&gt;

		is the name of the predecessor point.

	&lt;category&gt;

		is a one letter selection specifying how to allocate space
		for the point.

		F	- free - dbm is free to choose offset for the point
		B	- bound - the point is to be fixed at the specified
			offset
		A	- Anonymous - the point is to be placed at the specified
			offset but is not to reserve space.

	&lt;offset&gt;

		an integer offset, relative to to start of the predecessor
		point. A suffix of B, H, W, or D may be used to specify
		that the offset is in bytes (8 bits), halfwords (16 bits),
		words (32 bit), or double-words (64 bit) respectively.



	    When adding a free successor, DBM automatically allocates
	address space in the specified predecessor large enough for the point
	or as specified by the (optional) offset.
	    If the dbm "-r" option is not in effect an offset entry for a free
	successor is ignored. When the "-r" option is in effect, an offset is
	specified and the specified location is occupied or overlaps other
	successors of the specified predecessor, the new point will be located
	by DBM as if no offset were specified. 
	    When adding a bound successor, the operation will fail if other
	free or bound successors are currently located at the specified
	location.
	    When allocating address space, the natural boundary alignment
	based on the specified precision of the point is always automatically
	observed.
	    The anonymous successor category allows adding points which do not
	participate in the unique successor address protocol.  It is present to
	simplify the case where several equivalent names are desired for the
	same data location but no natural ordering applies to define a
	predecessor - successor ordering.


.root &lt;integer&gt;

	   This optional data field to the add, mdd, mod, and omod commands sets
	an integer option flag to control subsequent merge requests on the
	point.
	   A value of 2 marks a point unconditionally ineligible for merge
	(this is used when defining an interface point required for testing a
	system but which is expected to be defined by another system).
	   A value of 1 marks a point as being ineligible for merge
	modification, meaning it may be merged only if it does not already
	exist at the ODS level (use when a point may or may not be defined by
	another system, if it is the other definition is preferred).
	   A value of 3 on a UDS point specifies that when the point is merged
	to the ODS any existing ODS point definition and implicitly all its
	successors are first deleted.  The new point is added and implicitly
	all its successors (this may be convenient or necessary when a 
	structured group of points is rearranged).


</Text>
</Topic>
<Topic>archive<Text>
	Archive - library functionality

    Archive functions support delivery of modeling packages to an environment
where the user does not have access to the source files.
That is: user receives object files only. Export control or other licencing
issues do not allow delivery of source code to all potential users. Creation
of a library based development environment for packages coded in primarily in
Fortran-77 can profit from, but does not require, the use of these features.
Packages such as RELAP5-Revision 4.xx and Melcor 2.xx which rely heavily on
module based interfaces introduced in Fortran-90 require it.


Components include:

DBM:
	MSF Module type ARCHIVE

		The module type "ARCHIVE" is added to the MSF module types as
	    module type 13.

		Commands affected include:

			INCLUDE
			LMSF
			REMOVE
			MMSF


FSCAN:
	Option -L&lt;archive name&gt;

		To inform fscan to load the archive descriptor in order to
	    resolve routines and module data found therein. The archive will
	    be added to the cross reference of the module being compiled.

		For most use, it will be appropriate to invoke this option
	    from within the source file. That is with a source pseudo-statement
	    comment line of the form:

		!*Option -L&lt;archive name&gt;


LLD:
	ARCHIVE command replacement

		The pre-existing lld "archive" command is upgraded or replaced
	    as follows:

		lld&gt;archive &lt;archive name&gt;,&lt;module list&gt;

		    Where:

			&lt;archive name&gt; is an symbolic string which
				may include letters, digits, underscore,
				and period.

			&lt;module list&gt; is a comma separated list of module
				names which are defined in the MSF.


		    The archive command will collect the object code of all
		modules in the module list and, recursively, all additional
		MSF modules which they call, into an object code library file.
		It will also create a description file in the object code
		directory to record the contents of the archive library and
		will create an MSF entry for the archive.
		    The library file name will consist of the archive name
		plus the appropriate suffix for an object code library (".lib"
		on Windows, ".a" on linux).  The library will be created in the
		lld directory and copied to the object code directory. The
		description file will also be placed in the object code
		directory in a file name consisting of the archive name plus
		the suffix ".xml".
		    The archive name will be added to the MSF as a module
		of type "ARCHIVE". If "LLD_XREF" environment setting is "all"
		or "control" archived modules will be added to the MSF cross
		reference data set.

	Load of archive

		    LLD will load an archive in response to either an explicit
		load command (LOAD &lt;archive name&gt;) or when referenced by
		fscan'd module being loaded. All routines and modules defined
		in the archive will be added as archive members to the module
		table of the executive generated.
		
	XTDB functionalities

		    Type definitions found in loaded modules, whether from
		modules defined in the MSF or in archive are collected by
		lld and built into the executive for use by xptmvtab and
		(potentially) other routines.



Distribution of an archive library

	   Transfer of an archive library to a destination system requires
	copy of the appropriate files to that system. This will consist of:
	

		obj/&lt;libraryname&gt;.lib on Windows
	    	    or obj/&lt;libraryname&gt;.a on linux

		obj/&lt;libraryname&gt;.xml 

		obj/&lt;modulename&gt;.mod for each Fortran Module included in the
			library

	    When an archive is built with no shared objects selected (applicable
	only on windows) then these files will be place in the "obj_ns",
	instead of the "obj" directory.


	    Use the dbm "include" command to define the library in the MSF.

		dbm&gt;/INCLude &lt;libraryname&gt;,archive,,sys,&lt;description&gt;






</Text>
</Topic>
<Topic>case<Text>

case for SimExec commands:

	SimExec command keywords are always case insensitive. In many cases
	long and short forms are accepted. In this help collection keywords are
	usually shown with required portions in upper case and optional 
	characters in lower case.

  

case for symbols:

	SimExec defaults to case-insensitive, retain case, for symbols. This
    corresponds to the Fortran programming language and windows file systems.

	The file systems on UNIX (LINUX) systems are case sensitive,
    therefore on these systems module source file names must always match the
    case as defined in the SimExec database.

	SimExec can be configured to be case-sensitive for symbols. This is
    performed by setting the environment variable "S3_CASE=yes" (normally in
    S3_ENV file). When case sensitive mode is chosen all references to symbols
    become case sensitive, and mdd symbols may be identical except for case.
    The fortran programming language is always used as case insensitve, and the
    windows file system is alway case insensitive; therefore, when using a
    case-sensitive mode, it is not valid to use module or global names which
    differ only in case. Global names should always be lower case.


forcing case:

	Definition of optional environmental setting S3_FORCE_CASE with
    value of "Upper" or "Lower" will force symbol names to all upper case
    or all lower case respectively. This was added to support possibility
    of use of an ODBC DBMS with case sensitive behavior with using SimExec
    in a case insensitive manner. It may also be used to override the retain
    case default behavior, such that all database entries are forced to the
    specified case, but input may be in arbitrary case.
    For a given database this setting normally should not change (existing
    symbols which do not match the selected case would not be recognized in
    various instances).
    If desiring to effect case-insensitive behavior in SimExec with a case
    sensitive ODBC DBMS
		set S3_CASE=yes
		and
		set S3_FORCE_CASE=upper
			or S3_FORCE_CASE=lower.

recommended usage:

	case insensitive, retain case is usually appropriate on Windows.
	case insensitive, force lower is recommended on linux.

mismatch and repair:

	When one changes the S3_CASE setting on a system, or mismatches the
    setting by copying files dbm will notice and alarm of the mismatch with
    messages of the form "* * Index is case [in]sensitive, current environment
    is case [in]sensitive. * * * Please restore S3_CASE of rebuild index."
    The dbmchk and dsdchk programs may be used to rebuild indexes. This must
    be performed separately for UDS and ODS and for MDD and msf.
	dbmchk -x	will rebuild index for UDS MDD
	dbmchk -o -x	will rebuild index for ODS MDD
	dsdchk -x	will rebuild index for UDS MSF
	dsdchk -o -x	will rebuild index for ODS MSF


case in cscan:

	As the c language is always case sensitive, but the SimExec database
    is usually configured as case insensitive there are some intrinsic
    inconsistencies in cscan usage.
	cscan defines all items declared in the "/*global" and "/*module" and
    "/*program" pseudo-statements with  "#define" statements. When using
    case insensitive database symbols will be found in the data base
    regardless of the case found on these statements. The case of
    the names by cscan was formerly that found in the database but was
    changed to match the case found on the pseudostatements. The new
    protocol seems preferable as, when in the case insensitive database
    mode, it requires that the source be consistent with itself (though not
    necessarily the case found in dbm), rather than requiring that the
    symbol usage match the case found in dbm, while the case on the
    controlling pseudo-statements may be arbitrary.
</Text>
</Topic>
<Topic>cscan<Text>
the cscan preprocessor is to Compile c or c++ module in SimExec environment

usage : cscan [options] followed by file or module names.
	options:
		-c omit c compilation
		-E UNDEF treat global as _global
		-E WRAP wrap module
		-f fortran style array reference
		-g globals are not sharable (Windows)
		-G globals are sharable (Windows)
		-n c style pointer array reference
		-o compile ods level module(s)
		-s leave files created for compilation
		-u &lt;uds id&gt; select user development system
		-v verbose (messy debug trace prints)
		-wd issue warnings on duplicates
		-Wd suppress warnings on duplicates
		-x "options"  replace c compiler options
		-X "options"  additional c compiler options
		filename or module name(s)

cscan resolves database symbols (only) as identified explicitly by user
provided comment pseudostatements.

	/*program &lt;modulename&gt; */ required to define current entry.
	/*global &lt;list&gt; */	for mdd symbols.
	/*module &lt;list&gt; */	for msf symbols.
	/*arglist &lt;list&gt; */	to define msf argument type list.
	/*type &lt;list&gt; */	to define type from SimExec type database.

	/*_global &lt;list&gt; */	for optional mdd symbol.
	/*_module &lt;list&gt; */	for optional module definition.

The source file must include the definition file generated by cscan
with a line of the form:

#include "&lt;program name&gt;.h"

	This convention may be overriden by environmental variable
	CSCAN_H_SUFFIX or from within a source by "#define CSCAN_H_SUFFIX"

    For Windows fortran compatibility when using the DEC-Compaq fortran
compiler, or ifort with option "/Gm", the program must be declared with the
__stdcall specifier.
    The symbol "STDCALL" is defined by cscan to provide an appropriate
string. Default value is __stdcall when on windows, null otherwise; This is
overridden to null on windows when environmental variable "S3_STDCALL" is
set to 0 (defaults to 1).

That is:
	void	__stdcall &lt;mycsegment&gt;(void);
	int	__stdcall &lt;mycfunction&gt;(int *a1, int *a2);

	will work when on windows, and using DEC compatible calling conventions

	void	STDCALL &lt;mycsegment&gt;(void);
	int	STDCALL &lt;mycfunction&gt;(int *a1, int *a2);

	should work in all environments.


    For subroutines or functions with arguments, the routine argument list
must be explicitly defined to the SimExec database. (In contrast fscan will
automatically extract this from the source). This may be performed from within
a souce by the arglist pseudostatement.
When present this will override any existing msf definition.
    Otherwise, the argument list (if not void) must be defined to the msf
using dbm with the ".arg" directive of /INCLude or /MODify.

    By default cscan provides definitions for Mdd data arrays which require
that references in the source follow fortran syntax &lt;name&gt;(&lt;index list&gt;).
When the option "-n" is selected simple pointers are generated for global
data array reference (this is much more natural for c programmers, no special
provisions are made for multi-dimensional arrays).  This selection may also
be selected by the source lines

#define cscan_fortran_style
or
#define cscan_c_style

    Cscan defines macro term of the form _iDimensionOf&lt;name&gt; and _iDim0_&lt;name&gt;
providing the mdd defined array dimensionalities.

    cscan will provide "#include" statements with the appropriate files (by
full path) for global reference requests of type MACRO and module references of
type TEXT.

    Cscan provides fairly minimal functions to integrate c and c++ modules
with the primarily Fortran SimExec environment. It makes little attempt to
parse the source file and therefore will not automatically recognize which
global variables are stored to. Variables identified on the "/*global"
lines may have a leading asterisk character to inform cscan to set the store
flag in the mdd cross-reference recorded for each point.

    Cscan uses preprocessor "#define" statements to resolve global variable
names. One consequence of this is that these names become fully reserved
within the program. That is: they may not be reused with different context or
scope.

The following environmental variable parameters apply to cscan.

  S3_CC		- replacement string for invoking compiler (default "CL /c ").
  S3_CCOPTS	- replacement option string for compiler (default "").
  S3_NSO	- non-shareable object code environment. (may be overriden
		by cscan argumentes "-g" or "-G").
  CSCAN_H_SUFFIX	- suffix for cscan generated include file. (default
		corresponds to a value of ".h", may be overridden within a 
		source by "#define cscan_h_suffix &lt;value&gt;").
  S3_CSC_OPT	- default (pre-set) cscan options.
  S3_KEEP	- do not delete work files.
  S3_STDCALL	- 0 -&gt; do not use __stdcall convention;
		- 1 -&gt; (windows default) use __stdcall convention
  MIX_CHAR_LEN  - 1 -&gt; (default) - implicit length arguments for character
		data type immediately follows data pointer
		- 0 -&gt; implicit length arguments for character data type
		are all appended at end of list. 

Additional compiler options may be specified from within a source file by

#define cscan_x &lt;compiler option(s)&gt;


	For most MDD data types natural translations to c data types are
always inserted by cscan (r*4 to float, r*8 to double, i*1 to char, etc).

	The following considerations apply to some specific data types.

	C*8, C*16
		    cscan will use the names COMPLEX_8, and COMPLEX_16
		respectively for items defined as of complex data types. When
		not otherwise defined by the user, cscan will define these as
		follows.
		#ifndef COMPLEX_8
			typedef struct _complex8 {
				float	x, y;
			} _complex8;
		#    define COMPLEX_8 _complex8
		#endif
		#ifndef COMPLEX_16
			typedef struct _complex16 {
				double	x, y;
			} _complex16;
		#    define COMPLEX_16 _complex16
		#endif
		    A type named "_complex" and sometimes "complex" is defined
		by the standard include file &lt;math.h&gt;. It is similar to the
		above _complex16 type. To use it one would include the
		following lines before the "#include "&lt;progam name&gt;.h"" in the
		source.
		#include &lt;math.h&gt;
		#define COMPLEX_16 _complex
		

	H*&lt;n&gt;	    (char *) pointers are always generated for MDD points of
		type H (the Fortran CHARACTER data type). A symbol of the form
		_iHLen&lt;name&gt; is also provided to define the variable size.
		(Users may need to be careful of the differences between
		c-strings and the fortran CHARACTER data type).

	I*1, I*2, I*4, I*8
		    cscan will use the names INTEGER_1, INTEGER_2, INTEGER_4,
		and INTEGER_8 for the c data types for 1, 2, 4, and 8 byte
		integers. If this they not otherwise defined by the
		user cscan will define then, as needed,  as "char", "short",
		"int", and "long long" (long long is recognized
		by most c compilers which support an 8 byte integer type).

	L*1, L*2, L*4, L*8
		    cscan will use the names LOGICAL_1, LOGICAL_2, LOGICAL_4,
		and LOGICAL_8 respectively for items defined as of logical
		data types. When not otherwise defined by the user, cscan
		will define these as char, short, int, or long long
		(respectively).


	Compatibility with fortran routine arguments of character or
structured data types, and function return values of character, complex, or
structured data types introduce additional issues.


</Text>
</Topic>
<Topic>dbm<Text>
dbm -&lt;options&gt; [commands]  [&lt;unix redirection&gt;]
&lt;options&gt; 'c' - create database if not present
	  'r' - respect free offsets
	  'O' - default selected commands to ods level
	  's' - interpret remaining arguments as select files
	  'x' - attach to executive (next argument)
dbm r &lt;host&gt; &lt;service&gt; &lt;uds&gt; [&lt;executive&gt;] attach to remote SimExec (s3serv)

dbm is generally compatible with normal unix redirection of standard input
and output (i.e. '&gt;&amp; &lt;output file&gt;' '| &lt;filter program&gt;' etc.)

general - command lines may have leading '/', recommended in command files.
All keywords are case insensitive, and reserved. Collisions of names with
keywords may be resolved by placeing name in quotes. Commas are permitted
between command and first argument, and are nearly always optional.


ADD	&lt;point name&gt;[,{ U | O }]
	&lt;name&gt;	[&lt;quote&gt;] {alphnumeric | :_ }+ [&lt;quote&gt;]
	{ U | O }	{ U | O }
.desc	&lt; 1 line brief description and up to 5 lines full description&gt;
.unit	&lt; 8 char unit name&gt;
.sys	&lt; 2-3 char alphanumeric system id&gt;
.type	{ C*8 | C*16 | I*1 | I*2 | I*4 | L*1 | L*2 | L*4 | R*4 | R*8}
.form	{ E12.6 etc}
.value	[&lt;value&gt;,[{ C | V | P | T}]]
.dim	[(&lt;expr&gt;[,&lt;expr]*)]
.pred	[&lt;predecessor symbol&gt;][,{B,&lt;offset&gt; | F[,&lt;offset&gt;]}]
.root	[ 0 - 3]
	where - 0 - normal,
		1 - not eligible for merge modify,
		2 - unconditionally ineligible for merge,
		3 - delete ods structure on merge modify
@&lt;field name&gt;(&lt;value&gt;) |
@(field name&gt; -  for context edit of long description.


ADD TYPE &lt;type name&gt; [{ U | O }] [F]	or
MOD TYPE &lt;type name&gt; [{ U | O }] [F]
&lt;member definitions&gt;
					to add or modify structured type 
					definition

ATTACH &lt;executive&gt;			attach to executive
CDF	&lt;generic name&gt;				re-expand specifics
CDF	&lt;generic name&gt;[,&lt;path&gt;],{ U | O }[,N]	new or revised generic
CDF	&lt;generic name&gt;,{ U | O },DELete		delete generic component
	&lt;path&gt;	[ { FILE= | PATH= }][&lt;quote&gt;] {alphanumeric | :_.~/ }+ [&lt;quote&gt;]

CDS	&lt;specific name&gt;[,&lt;generic name&gt;][,N][+]	specific component expansion
[%name value]*				iff in command file

CHEck	CDS,{ U | O }[,Full]
CHEck	CONSIstent[,{ U | O }]		check for modified source files
CHEck	{ [MDD,] | MSF, } X,&lt;levels&gt;	check cross reference data consistency

CLOse					close alternate output file (OPEN)

COMPIle	&lt;module name list&gt;		compile modules by list

CONST	[{E H I K O R U V}]	initialize default global image files

DELete	&lt;mdd select (see Lmdd)&gt;		delete mdd point(s)
DELete	TYPE &lt;typename&gt; [&lt;level&gt;] [F]	delete type definition(s)

DETach 				detach from executive

DFTGLOB [{U O}]		initialize default global images, full process

DIFf	[CDS,]&lt;name&gt;[,{ U | O }]		print latest module delta
DIFf	[CDS,]&lt;name&gt;,&lt;revision&gt;[,&lt;revision&gt;]	print ods module specific delta

DUMp	&lt;path&gt; { U | O }			dump full mdd information
	&lt;path&gt;	[ { FILE= | PATH= }][&lt;quote&gt;] {alphanumeric | :_.~/ }+ [&lt;quote&gt;]

EXIT

EXTRact &lt;name&gt;				extract point or module from ods
EXTRact &lt;name&gt;,M			extract module from ods
EXTRact &lt;name&gt;,{FULl | SYMbols | CALl}	recursive extraction
EXTRact &lt;name&gt;, &lt;revision&gt;		extract specific module revision
EXTRact TYPE &lt;name&gt; [F]		extract structured type definition


Help					view this

IC CLEAN &lt;icset&gt;			clean ic files
IC DUMP &lt;icset&gt;			dump ic files (to ascii set files)
IC PATCH &lt;icset&gt; &lt;id range&gt; = &lt;value list&gt; define ic patch
IC PATCH Apply &lt;icset&gt;			apply ic patches
IC SET, [B] &lt;ic level&gt; &lt;icno&gt; &lt;variable&gt; = &lt;value&gt;
IC SHUFFLE &lt;icset&gt;			apply ic updates (requires CIC=1)
IC STACK &lt;icset&gt; [D | L]		stack ic files (many to 1 file format)
IC UNSTACK &lt;icset&gt; [D | L]		stack ic files (1 to many file format)

INCLude &lt;name&gt;[,&lt;name&gt;],&lt;module type&gt;,&lt;ftype&gt;,&lt;system&gt;[,&lt;desc&gt;]
	&lt;ftype&gt; {  | I*1 | I*2 | I*4 | R*4 | R*8 | C*8 | C*D G*0 C*16} (*opt)
	&lt;module type&gt; { &lt;integer (1-10)&gt;  | EXEC | CONTRol | SEGMENT | COMPonent
	      |	SUBROUTINE | FUNCTION | BLocKData | LIBRARY | INTRINsic | TEXT }


INIt	{sccs | ss | rcs}[,&lt;name&gt;]	initialize SCCS for ods modules

LCDf 	[&lt;which&gt;,][&lt;form&gt;,][&lt;levels&gt;] (arbitrary order)
	&lt;which&gt;	{ &lt;name&gt; | &lt;wild&gt; }
	&lt;form&gt;  { | F | Long | X }
	&lt;levels&gt; { U | O | UO }
					list generic component information

LCDS 	[&lt;which&gt;,][&lt;form&gt;,][&lt;levels&gt;] (arbitrary order)
	&lt;which&gt;	{ &lt;specific name&gt; | &lt;generic name&gt; | &lt;wild&gt; }
	&lt;form&gt;  { | F | Long | H | DIFf }
	&lt;levels&gt; { U | O | UO }
					list specific component information
LICF	&lt;lmdd&gt;

LIST TYPE &lt;name&gt; (F I O U X)* 		list structured type definitions

Lmdd	[&lt;lmdd arguments&gt;]*		list mdd information

where:
    &lt;lmdd arguments&gt;	{ &lt;mdd select&gt; | &lt;lmdd order&gt; | &lt;lmdd_form&gt; |
	&lt;lmdd form modifiers&gt; } *

    &lt;mdd select&gt;	{ &lt;name&gt; | &lt;wild&gt; | &lt;globalid&gt; | &lt;field&gt; | &lt;levels&gt; |
		&lt;mddtype&gt; | NR | XO | NOSTORE | LEAF | DATA | SYS=&lt;system&gt; |
		SUCC | TREE | DATE&lt;yymmddhh | DATE&gt;yymmddhh } *
    &lt;mddtype&gt;		{ PARam | TEMP | MACro | V | C | P | T | M }
    &lt;field&gt;		[-]@&lt;field name&gt;[{ (&lt;field value&gt;) | =&lt;field value&gt; } ]
    &lt;field value&gt;	{ &lt;word&gt; | &lt;quote&gt; &lt;phrase&gt; &lt;quote&gt; }
    &lt;levels&gt;		{ U | O | UO | U+O | U&amp;O | U-O }

    &lt;lmdd order&gt;	{ ALPHA | REL | FORWARD | REVERSE }
    &lt;lmdd form&gt;		{ S | L | F | I | W | LONG | FULl | SQL }
    &lt;lmdd form modifiers&gt;  { H | SEQU[+*E] | X | ICNZ | MDD | MOD | ADD | MAP |
		&lt;icset&gt; | DELete }
    &lt;icset&gt;		{ UIC | OIC | IC | IC&lt;integer&gt; | &lt;integer&gt; | B |
		DELta = &lt;deadband&gt;



LMSf	&lt;lmsf arguments&gt;		list msf information
where:
    &lt;lmsf arguments&gt;	{ &lt;lmsf select&gt; | &lt;lmsf form&gt; } *
    &lt;lmsf select&gt;	{ &lt;levels&gt; | &lt;lmsf names&gt; | &lt;lmsf types&gt; | SYS=&lt;system&gt;}
    &lt;lmsf types&gt;	&lt;module type&gt; | CONSIstent | INConsistent} *
    &lt;lmsf names&gt;	{ &lt;name&gt; | &lt;long wild&gt; | ({&lt;short&gt; | &lt;short wild&gt;}) }
    &lt;lmsf form&gt;		{ [FORM=]&lt;integer&gt; | H | DIFf | LONG | X | INCLude |
		FULl | JCL | MOD | SEQU | F | I | L | S | COMPILE | SUBMIT }
    &lt;module type&gt;	{ CONTRol | SEGMENT | COMPonent | SUBROUTINE |
		FUNCTION | BLocKData | LIBRARY | INTRINsic | TEXT }

MACro	&lt;name&gt;[,{ U | O }]		define or modify mdd macro definition
&lt;applicable mdd information fields : .SYS .DESC .UNIT &gt;

MAP	&lt;name&gt;[,{ U | O }]		print successor address usage map

MARk	&lt;module name list&gt;		mark modules inconsistent

MCDF	&lt;name&gt;				merge generic component definition

MDD	&lt;name&gt;[,{ U | O }]		add or modify 
&lt;mdd information fields per ADD&gt;

MERge TYPE &lt;name&gt; [F]			merge structured type definition

MMSf	&lt;lmsf&gt;				merge module(s)

MODify	&lt;name&gt;[,{ U | O }][,H]		modify mdd information
&lt;mdd information fields per ADD&gt;
MODify	[msf] &lt;name&gt;			modify msf information
&lt;msf information fields&gt;

MOVe	&lt;name&gt;[,{&lt;name&gt; | &lt;global&gt;}[{ + | - } &lt;int&gt;[W|H|B|D]][,{ U | O }]
					re arrange mdd point order

ODEL	&lt;name&gt;				delete mdd point(s) from ods

OMOD	&lt;name&gt;[,H]			restricted ods mdd point modification
&lt;applicable mdd information (.DESC .UNIT .SYS .FORM .VALUE .ROOT @) fields&gt;

OPEn	&lt;path&gt;				open list outpu file
	&lt;path&gt;	[ { FILE= | PATH= }][&lt;quote&gt;] {alphanumeric | :_.~/ }+ [&lt;quote&gt;]

OPTion	MMSF [NO] { CHECKOUT COMMENT | DIFf | SCCS | SS | RCS}
OPTion	{ RESTRICT | UNRESTRICT } DFGLOB
OPTion	{ O | U }
					select ods configuration options

PACk	&lt;name&gt;[,{ U | O }]		pack successors of mdd point

MORe(PAGe)	[&lt;integer&gt;]		set pagesize for more emulation

PROmote &lt;name&gt;,&lt;ptype&gt;,&lt;new precision&gt;[,{ U | O }] change mdd data types enmass

REAd	&lt;path&gt;				process command file
	&lt;path&gt;	[ { FILE= | PATH= }][&lt;quote&gt;] {alphanumeric | :_.~/ }+ [&lt;quote&gt;]

REMOve	{ &lt;name&gt; | O,&lt;name&gt;) } *	remove module(s)

REName MDD &lt;old name&gt; &lt;new name&gt;	rename dbm point
REName MOD &lt;old name&gt; &lt;new name&gt;	rename module

ROOT	&lt;global&gt;[,{ U | O }]		define mdd global root point

SELect	[H] &lt;path&gt;			process command file
	&lt;path&gt;	[ { FILE= | PATH= }][&lt;quote&gt;] {alphanumeric | :_.~/ }+ [&lt;quote&gt;]

SETENV &lt;variable&gt;=&lt;value&gt;		add to local environmental settings

ScHUFfle { &lt;icset&gt; | &lt;path&gt; | &lt;field&gt; | { U | O } | &lt;global&gt; | &lt;mddtype&gt; |
	LEAF | DATA | SYS=&lt;system&gt; | &lt;wild&gt; } *
	&lt;path&gt;	[ { FILE= | PATH= }][&lt;quote&gt;] {alphanumeric | :_.~/ }+ [&lt;quote&gt;]
					perform ic maintenance process (obsolete)

SMRG	&lt;mdd select (see Lmdd)&gt;		merge mdd point(s)

START	&lt;executive&gt;			activate task

SUBMIT	&lt;module name list&gt;		compile module(s)

TRIm	&lt;name&gt;[,{ U | O }]		delete mdd point successors

TRUNcate &lt;globalid&gt;[,&lt;level&gt;]		reduce global size to contents

USEr	&lt;name&gt;				reestablish uds directory


&lt;name&gt;	[&lt;quote&gt;] {alphnumeric | :_ }+ [&lt;quote&gt;]
&lt;wild&gt;	{alphnumeric | :_?* }+ 



dbm environment variables

S3_FLUSH	- flag to force immediate writes to physical disk
S3_ICDIR	- flag to maintain directory per ods ic (obsolete)
S3_ICPATH	- directory path for ods ic files
DBM_SELECT	- alternate directory for select command files
S3_SELECT	- alternate directory for select command files
</Text>
</Topic>
<Topic>ddesrv<Text>
	    The object for DDESRV is included in the iexec library.
	DDESRV adds a dde service to any SimExec executive. To
	utilize it one should first add it to the msf as a library module

	That is:
		dbm&gt;/INCLUDE DDESRV,library,,dde

	then add it to the executive load as a module.

	For example:

		lld&gt;load DDESRV,4,1,f,init,term
		lld&gt;ldo $(SimExecBinPath)\s3dll.lib

	for 4 cps update.

	    The dde update rate will be determined by the executive call rate.
	The module should be loaded to execute in freeze and also on init and
	terminate. Linking with s3dll is also required.

	    Execution during freeze is optional. When not called by the
	executive (such as in fail or hold status, or in freeze if loaded in
	run only) the update process will execute every 2 seconds.

	    The dde service name will be the executive name (alias if
	applicable).  On dde requests the Topic is ignored and the item name
	is to be the name of a global variable.

	    To dynamically view a dde value in an excel cell one can use a
	formula of the form "=ddeServiceName|ddeTopic!ddeItem". Thus to see
	problem time in seconds from myexec on excel one could fill a cell
	with the formula

		=myexec|x!d_clocks

	    Excel will reject a item name with parentheses as a conflict with
	its function syntax. This can be worked around by enclosing the item
	name in single quote marks. As an alternative (which may prove easier
	to remember and certainly easier to type) DDESRV we will also accept a
	dot notation to specify an array index. For example: to see element 5
	of "myarray" one might enter either

		 =myexec|x!'myarray(5)'
	    or
		 =myexec|x!myarray.5

</Text>
</Topic>
<Topic>dfglob<Text>
 dfglob usage:

	dfglob &lt;options&gt; &lt;names&gt;

 where
	&lt;options&gt;

	-a	anonymous. overrides MSF integrations
	-C	blank fill character variables (Fortran style)
	-c	zero fill character variables (c style)
	-e&lt;filename&gt;	edit file to list only.
	-E&lt;filename&gt;	edit file to list and data output.
	-h	hold data, i.e. use image files under 'compile' directory
	-ic&lt;##&gt; load data into ic files
	-o	official development system level
	-k	expect fortran formatted input, (default).
	-p	do not expect fortran formatted input, (set file(s)).
	-s	generate set file
	-u	user development system level (default)

	&lt;names&gt; may be either file names or paths or block data module
	names (as defined in the msf).  When name is defined in the msf the
	file will be found only in the conventional location bd/name (iff
	msf name contains period) or bd/d.name (otherwise).

	List files (in list directory) are created for block data
	files defined in the msf, otherwise the source is echoed to
	stdout.  Error messages are printed to stdout and when applicable to
	the listing file.

	The primary purpose of dfglob is to supply default values for global
	arrays. The default global image files (d.glob*) must first be created
	by the const program.  After each time const is executed with
	the create option (default) all block data programs need to be
	reprocessed by dfglob.
	dfglob can also be used as an ic patch facility (using the -ic option).

	Dftglob performs the full process of default global data file creation.
	by invoking first const, then dfglob for each file listed
	in d.bdindx, and uses the -h and -i options of const and -h option
	of dfglob to avoid disturbing the image files until the new file
	generation is complete.  An alternate proceedure is to require all
	block data files be defined in the msf and then use either a command
	file or alias invoking const then dbm to recompile all block
	data modules i.e.
	'const -uc;dbm  /lmsf,blockdata,compile,u'
	or
	'const -oc;dbm  /lmsf,blockdata,compile,o'

	Command line options for the 'const' program are as follows:

	-c	- Clear edit mode; Default.
	-e	- Set edit mode, when selected the image files are not
		initialized but rather edited by posting the values of
		non dimensioned global points.
	-h	- Hold values mode;  When used the default global image files
		are created in the 'compile' directory.
	-i	- Installs files created in the hold values mode.
	-o	- Process Official Development System (ODS).
	-r	- Report status only.
	-u	- Process User Development System (UDS); Default.


	The principal dfglob input form is based on the fortran data statement.
	Most common syntax is accepted, but not all valid fortran syntax is
	recognized.
	In addition simple SET and assignment statements (similar to isd)
	are accepted.  Data initializers may use expressions with a flexible
	mix of fortran or c syntax and may reference data base parameters and
	predefined initial values. Fortran comment lines and inline comments
	may be used.

	Statement syntax summary:

	DATA &lt;data object&gt; / &lt;data values&gt; [, ...] /
	[SET] &lt;name&gt;[(&lt;index list&gt;)] { = , } &lt;expression&gt;
	SQLDEFINE(name, &lt;definition&gt;)
	END

	&lt;data object&gt;	&lt;name&gt;[(&lt;index list&gt;)]
		|	(&lt;name&gt;(&lt;index list&gt;), &lt;index&gt; = &lt;start&gt;,&lt;end&gt;)
		|	SQLVALUE(&lt;source name&gt;, "&lt;sql select&gt;")
	&lt;index&gt;		&lt;integer&gt; | &lt;parameter&gt; | &lt;implied loop index&gt;
		|	&lt;integer&gt; / &lt;integer&gt;
	&lt;data value&gt;	[&lt;repeat&gt; * ] &lt;value&gt; |	&lt;repeat&gt; * &lt;term&gt;
	&lt;value&gt;		&lt;term&gt; | (&lt;expression&gt;)
	&lt;term&gt;		&lt;integer&gt; | .TRUE. | .FALSE. | &lt;real&gt; |  &lt;complex&gt; |
			&lt;name&gt;[(&lt;expression&gt;[,&lt;expression&gt;])]
	&lt;complex&gt;	(&lt;expression&gt;,&lt;expression&gt;)
	&lt;expression&gt;	&lt;term&gt;
		|	&lt;unary operator&gt; &lt;expression&gt;
		|	&lt;expression&gt; &lt;binary operator&gt; &lt;expression&gt;
		|	&lt;expression&gt; ? &lt;expression&gt; : &lt;expression&gt;
		|	( &lt;expression&gt; )
	&lt;unary operator&gt;	~ .NOT. -	binary, logical, arithmetic
						negation
	&lt;binary operator&gt;	* / + - %	arithmetic multiply, divide,
						add, subtract, remainder
		.AND. .OR. .XOR. .EOR. &amp;&amp; ||	logical operators
		&amp; | ~ &lt;&lt; &gt;&gt;			binary logical operators
		.EQ. .GE. .GT. .LE. .LT. .NE. == &gt;=  &gt; &lt;=  &lt;  !=
						relational operators

	Loop start, and end and value repeat specifiers may be literal integers
	or database parameters.  Normal operator precedence is followed.
	Periods may be omitted from operators and logical constants.  Colon
	must be separated from any alphanumeric characters to be recognized
	as an operator.  Index lists must match the corresponding array
	dimensionality.  Implied do loops may be nested for multidimensional
	arrays. Only a single variable may be enclosed in an implicit do.

    The edit file capability:

	The edit file feature is to merge value updates defined by a file
	of set commands into a blockdata source. The syntax expected in the
	file is strictly limited to:
		SET &lt;single variable&gt; = &lt;value&gt;
	The value of any variables matched in the block data file will be
	updated in the list file, and iff the "E" form is used in the
	global image file. The edit file will be re-written with the "SET"
	command forced to lower case ("set") for items where the variable
	was successfully matched in the block data file.
</Text>
</Topic>
<Topic>env<Text>
    SimExec makes liberal use of environment variables to customize SimExec for
the user and project. Most environmental variables are optional with
reasonable defaults.

    Environment variables are also called "System Variables" in Windows
operating systems. They may be set for all applications, on a system wide or
per user basis through the "Control Panel" or within a command window and its
descendants by the "SET" command. The system variable settings include a
system and a user level where system values apply to all users and user values
must be set for each user and can override system values.

    In order to ease the management of environmental option settings and avoid
cluttering the system registry with environment variable settings each SimExec
program first checks for an "S3_ENV" value. If found then it is to provide the
path to a simple text file containing environment variable values.  
These values will override any system settings. This feature allows full
environment option selection with only a single system environment variable
setting.

   Environment variable names are always case insensitive on Windows systems.
   Environment variable names are always case sensitive on unix systems.


   3 most important variables:

	S3_ENV		Full path to the file containing set commands, for all
		the other SimExec environment variables. This variable should
		be defined in the Windows System Environment Variables list.

 	S3_HOME		Full path to the project directory

	S3_ODS		Full path to the ODS directory


   Other variables, alphabetically with exceptions for some strongly
   related groups.

	ALIAS_ADD_SUFFIX  When defined, dbm will append the value to point
			names found on /ADD commands when a point of the
			given name is already present in the MDD.

	CSCAN_H_SUFFIX	Provides override of default ".h" suffix for cscan
			generated include file.

	DBM_FLAGS	Defines preset value for dbm option flags

	DBM_SELECT	Alternate directory for dbm select files

	Fortran_true	The value used for .TRUE. varies between Fortran
			compilers. SimExec defaults to expecting this value
			to be -1 on Windows, 1 on linux. Providing an
			appropriate value for this variable will override
			that default.

	FSCAN_PREFIX	Sets the prefix for fscan source files (normally
			not used).

	FSCAN_SUFFIX	Sets the suffix for fscan source files

	IC_PROTECT	Sets number of protected initial conditions 

	ICSH_MAXLOGR	Chooses a upper limit on the amount of data to be
			read from mdd_merge_log during initialization of
			the automated ic shuffle function. If not specified
			a default limit of 5000000 is chosen.

	S3_ICS_USE_DFG	When set to 1 the automated ic shuffle will read
			the default global image files produced by dftglob to
			find initial values for added array elements.

	S3_ICS_MERGE	Sets interval in seconds for how long after an mdd
			delete operation, an addition of the same point name
			will be detected to treat the pair of operations as a
			modification. Defaults to 3600 (that is 1 hour).

	ICRZ		A non-zero value in ICRZ will apply a simple compression
			algorithm which reduces large volumes of zero values
			to initial condition write operations.

	ISD_INIT	Identifies initialization file to be processed on
			entry by isd

	ISD_PAGES	Identifies directory for isd page files

	ISD_EXEC	Identifies default isd executive attachment

	ISD_SELECT	Identifies alternate directory for isd select files

	ISD_SUSPEND	Sets default isd suspend interval.

	LLD_ON_DES	May identify a command script file to be automatically
			selected by lld upon executing the designate command.

	LLD_ON_DLL	May identify a command script file to be automatically
			selected by lld upon executing the dll command.

	LLD_ON_EXE	May identify a command script file to be automatically
			selected by lld upon executing the executive command.

	LLD_SELECT	Provides path to file to be automatically selected
			by lld for each executive load.

	LLD_XREF	When set to 1 or "control" lld will add cross reference
			information to the MSF for control level modules loaded
			into the executive. When set to 2 or "all" lld will add
			cross reference information to the MSF for modules
			loaded into the executive. In each case modules loaded
			from alternate user development systems are excluded.

	NO_BELL		When set to 1 disables bell tone in isd

	OPS_DIRHOST	Designates Dirserver host for OpenSim and SEIS interface
	OPS_PROJECT	Designates Dirserver project for OpenSim and SEIS
			interfaces

	S3_24HR		When set to a non-zero value will change executive
			default to maintain 24 hour clock, and restore problem
			time on reset. The problem time in "clock" will roll
			over to 0 at 24 hours and the global99 variable
			"clock_days" will increment. JStation does not have
			recognition appropriate to this mode.
			

	S3_CASE		Value "no" for case insensitive system. Default is to
			case insensitive on Windows systems, case sensitive
			on Unix-like systems.

	S3_CL		A value may be provided to override the default compiler
			referenced by lld to build an executive.

	S3_FORCE_CASE=upper
	or
	S3_FORCE_CASE=lower
			Will force names to all upper or all lower case. May be
			combined with either case sensitive or case insensitive.

	S3_CIC		When set to 1 directs SimExec programs to use a single
			file per ic for initial condition data files. When set
			to 0 directs use of the 1 file per global image format.

	S3_CSC_OPT	Specify default options for cscan

	S3_DEFCASE	explicitly specifies the expected case for fortran
			external definitions. Default to uppercase on Windows,
			lower case on linux.

	S3_EXEC_OPTS	Provides default options for all executives
	S3_IEX_OPTS	Provides default options for interactive executives
	S3_RTEX_OPTS	Provides default options for real time executives
	S3_&lt;execname&gt;_OPTS	Provides default options for specific executive

	S3_DEFAULT_UDS	Specifies default UDS selection applied when SimExec
			program is activated with default directory that is
			not a subdirectory of the S3_HOME directory. 

	S3_EXEC		Full path to the iexec.lib library. If not provided
			SimExec will assume that the library exists in the
			S3_HOME directory.

	S3_FORTRAN	Specify the FORTRAN compiler and options to use for
			FSCAN

	S3_FSC_OPT	Specify preset FSCAN options.

	S3_IOMAP, IOMAP_DIR ...	Panel IO systems are supported by instance
			specific software. Many use these, or similar
			environment variables to locate their support files.

	S3_OPERATOR_LOG_PATH	Explicitly identifies the operator log path
			for common operator action monitor support in panel io
			support software.

	S3_GOA_FRAMERATE	Defines the jisserver frame rate for use by
			common operator action monitor support in panel io
			support software.

	S3_LD		Specify c compiler options to use by LLD.

	S3_LINK		Specify link options to use by LLD.

	S3_KILL_SCRIPT	When defined, mst will execute the identified command
			script file on simulation termination.

	S3_PRINT	Command string to execute for text print request.
			Placement for file name on command string must be
			explicitly indicated by "%s" (c printf style format
			element).
			Will default to "notepad.exe /P %s" on Windows; no linux
			default provided.

	S3_CC		Specify the C compiler and options to use for CSCAN.

	S3_CCOPTS	Preset options to use for CSCAN to use when invoking
			 the c compiler.

	S3_DSP_TEMPLATE	Provide template path for lld to produce Visual Studio
			6.0 compatible project file.

	S3_FLUSH	The S3_FLUSH environment variable with a value of 1
			tells SimExec to flush database file (MDD and MSF)
			buffers to disk on each update. When 0 flush will be
			performed on close.

	S3_GKEY_ADDEND	(Linux only) The integer value will be added to the
			shared memory ids found in the s3_globals file. This
			is required to support concurrent execution of multiple
			instances of mst.

 	S3_GSWITCH	The S3_GSWITCH environment variable configures a
			variable point substitution used by instructor station
			for io override and soft panel mimic implementation.
			When the ampersand character ("&amp;") prefix is applied to
			the symbol name for point lookup requests the 
			returned point definition will reflect the lookup
			with the prefix removed and a global name substitution
			applied. The global substitution rules may be defined
			by this variable. It is to contain global name
			replacement pairs separated by commas. A replacement
			pair consists of actual global name followed by a
			caret and the replacement global name. When the
			replacement name is followed by an at-sign ("@") then
			the lookup will also substitute precision and offset
			in accord with analog SW global values in R8,
			instructor station IO interface in R4.

			Default used if S3_GSWITCH is not defined is as
			follows:
				global_dosw -&gt; global_doov 
				global_aosw -&gt; global_aoov 
				global_aisw -&gt; global_aihw

			Thus the default corresponds to "S3_GSWITCH=global_dosw^global_doov,global_aosw^global_aoov,global_aisw^global_aihw"

			When the lookup request point does not match a global
			with an override defined by the above logic then the
			ampersand is ignored.

	S3_HERTZ	Sets default executive cycle rate

	S3_ICPATH	Designates explicit directory path for ODS initial
			condition files.


	S3_BCKDIR_O	Defines alternate directory location for MST backtrack
			initial condition files (by default backtrack IC images
			are placed in the same directory as permanent IC files).

	S3_BCKDIR_U	Defines alternate directory location for iexec backtrack
			initial condition files (by default backtrack IC images
			are placed in the same directory as permanent iexec IC
			files).

	IC_DIR		Override ic directory for dbm and dfglob.

	S3_ICDIR	individual directory per ic

	S3_IC_SUFFIX	Provides suffix to be applied to initial condition
			files.

	S3_KEEP		When set to 1 fscan and cscan will default to retain
			the work files created during compilation process.

	S3_LOG		Overrides mdd_merge_log and msf_merge_log to
			designated file (obsolete).

	S3_MSTG		Provides path of mstg.lib for lld creation of an rtexec

	S3_MSTSYS	Provides system id for mst, rtex, and related to
			allow concurrent operation of more than 1 mst.

	S3_NAME		Service name for s3serv, and project name for VSS

	S3_NSO		Designates non-shared object environment.

	S3_ODBC		Identifies access/ODBC environment.
	S3_ODS_DB	Identifies data source name (DSN) for ODBC DBMS ODS data
	S3_ODS_UID	Identifies explicit username for ODBC DBMS ODS data 
			connection
	S3_ODS_AUTH	Identifies authorization string for ODBC DBMS ODS data 
			connection
	S3_UDS_DB	Identifies data source name (DSN) for ODBC DBMS UDS data
	S3_UDS_UID	Identifies explicit username for ODBC DBMS UDS data 
			connection
	S3_UDS_AUTH	Identifies authorization string for ODBC DBMS UDS data 
			connection

	S3_ODS_HOST	Identifies remote host system for official development
			system (obsolete).
	S3_ODS_NAME	Service name for remote ODS (obsolete).

	S3_ODS_IMAGE	Overrides path for ODS default global image
			initialization files

	S3_OLIST	Directs LLD to use list of object files instead of
			creating object libraries (default set).

	S3_OPS		When set to 1 s3serv will operate in an OpenSim
			environmnet for soft panel integration.

	S3_SEISDATA	Identifies directory for gdaserver and SEIS data files.

	S3_SELECT	Provide alternate directory path for isd/dbm select
			files.

	S3_SERVICE	The S3_SERVICE environment variable provides a default
			TCP/IP service name or port number to be used by the
			s3serv program. If not defined then the "S3_NAME"
			environment variable or default of "s3" will be used.

	S3_STDCALL	When set to 1 (default) SimExec will expect the
			__stdcall subroutine calling protocol. When set to 0
			it will not. Compiler option settings must independently
			match.

	S3_TOD_Reset	When set to 1 mst will set the simulation problem time
			to the current system time of day on IC reset.

	USE_SEND_RECV	Integer valued
			0 - s3serv will use ReadFile, WriteFile for socket io
			1 - s3serv will use send, recv for socket io

	S3_VCPROJ_TEMPLATE	Provide template path for lld to produce
			Visual Studio .NET compatible project file.



S3_ENV file -

	   When reading an S3_ENV file commands which look like either unix
	csh style "setenv" commands or Windows cmd.exe "SET" commands may
	be used. Each line is also scanned for environment variable substitution
	under either the Windows style "%&lt;variable&gt;%" or unix "$(&lt;variable&gt;)"
	syntax.  Content with does not match either is silently ignored.

	   An additional command to edit path list variables is recognized as
	follows.

	   The EDITPV command is to edit value of an environment variable
	taking a semicolon separated list.

	    "PATH", "LIB", "INCLUDE", and some other environmental variables
	are to contain a list of items separated by semicolon. They are often
	set with something like "SET PATH=%mybin%;%PATH%" to add a directory
	to whatever else is already there. One problem with this is that
	it often leads to an excessively long path value with redundant
	entries.
	   These pathlist variables need to be set by s3_env to
	conveniently use visual studio invoking lld to build an
	executive because visual studio excludes unrecognized user
	directories from the inherited path when it activates build
	programs.
	   Therefore from within an s3_env file the EDITPV command is
	provided to edit a path variable. The command requires a
	variable name followed by optional equal sign, followed by
	path elements separated by semicolons where each path element
	will be included in the value without duplication. The paths
	may have a leading special charater as follows:
	$ - force to end of list
	^ - force to front of list
	+ - if not present place at end of list
	- - delete from list
	default (i.e. none of the above) - if already present, leave it
	where it is, else place in front of list.



Environment variable string substitution

	    All dbm, ISD, and LLD command input will be scanned for
	elements of the form %&lt;symbol&gt;% (like Windows cmd processing) or
	$(&lt;symbol&gt;) (like many unix shells' processing) to substitute
	environmental variable symbol definition values. When the syntax is
	matched but the environment variable is not defined the command input
	is left as is.
	    When dbm is attached to a remote host this substitution will be
	performed against the local (client) environment in all cases and
	then against the host in some cases (somewhat arbitrarily per
	implementation details).



SETENV command

	   Environment variables may also be set with a dbm session using the
	SETENV command. The SETENV command sets a value to an environmental
	variable for the remainder of the execution of the current instance of 
	DBM. 
	   When attached to a remote host the setting is performed locally
	and echoed to the server. (This is principally intended for use with the
	Environment variable string substitution capability for dbm commands,
	the effectiveness of using this to set the various environmental
	variable used to select SimExec options will vary somewhat arbitrarily).

	Syntax:

	SETENV &lt;variable&gt;=&lt;value&gt;

	Where:
	&lt;variable&gt;	is the symbolic name of an environmental variable
			to be set.
	&lt;value&gt;		is a quoted string defining the value to set the
			environmental variable to.

tbd:
	S3_GII_LOGIC
	SS_CHECKOUT
	XTIME_CLOCK_ID
	IC_PATCH_LEVEL
	LLD_EXTRACT
	LLD_SC_OPT
	S3_TEMP
	S3_UMDD_LOG
	S3_REF_PREF
	S3_REF_DB
	SmartExamHome
	SystemDrive
	REMSHM
	S3_DOLLARCHAR
	USE_DEFSYM
	S3_SHARE_BASE
	S3_SEGSIZE
	DLLBASE
	S3_FileFlag
	OLD_FORMAT_DSD
	S3_SHAREPRIVATE



</Text>
</Topic>
<Topic>exec<Text>
   executive option arguments

	-a &lt;name&gt;	set executive alias name

	-b 		use buffering for iexec snapshot

	-c ##	select cpu bias
	-c day	select 24 hour clock mode
	-c local	synchronize to local time
	-c system	synchronize to system (UTC) time

	-d	enable automatic module out on inconsistent or FAIL

	-e &lt;symbol&gt;=&lt;value&gt; set environmental variable value
	-E &lt;symbol&gt;=&lt;value&gt; set environmental variable and repeat S3_ENV process

	-f 0	disable floating point exceptions

	-F continue	floating point overflow and invalid result 1.267651e300
	-F debug	enable just in time debug popup (iexec default)
	-F fast[##]	set iexec default rate to fast ## (default 100)
	-F homed	SimExec execution environment (default)
	-F homeless	non SimExec execution environment
	-F lock		disallow most isd interventions
	-F unlock	allow isd interventions
	-F nodebug	disable just in time debug popup (rtexec default)
	-F mload	enable memory load process (rtexec default)
	-F nomload	disable memory load process (iexec default)
	-F icpatch	enable exec icpatch process (iexec default)
	-F noicpatch	disable exec icpatch process (rtexec default)
	-F icshuffle	enable exec icshuffle process (iexec default)
	-F noicshuffle	disable exec icshuffle process (rtexec default)
	-F nootx	disable mst overtime exception
	-F otxenable	enable mst overtime exception (rtexec default)

	-f ec##	set frame error correction

	-F HOLD	request executive to hold in intterupt receiver when floating
		point exception is encountered until status request taking
		simulation out of FAIL is received

	-F ##	Set explicit float point exeception mask

	-h ##[,##]	Set execution cycle rate (hertz, limit 60)
			[, slip limit]

	-i	disable automatic module out on inconsistent or FAIL

	-n ##	set priority level

	-o ##	set frame overlap limit depth (configure overtime definition)

	-p	disable ic patch processing
	-P	enable ic patch processing (default)

	-q	suppress some messages from printing

	-s	obsolete, do not use

	-t	collect detailed time statistics for isd display

	-T	collect detailed time statistics for isd and rts display

	-u &lt;system&gt;	set executive uds system directory

	-X 	execute executive built as RTEXEC in IEXEC mode

	-z	select debug traces

executive environment variables

S3_24HR		select 24 hour clock mode
S3_HERTZ	select default executive base cycle rate
S3_ICDIR	select ods ic individual directories
S3_ICPATH	select ods ic location
IC_PROTECT, IC_UNLOCK configure ic protection
S3_ODS_IMAGE	override directory for ods default global images

The following environment variables are searched on executive activation
to provide environmental presets for the various executive activation options.

S3_EXEC_OPTS	applied to each executive
S3_IEX_OPTS	applied to each interactive time executive
	or
S3_RTEX_OPTS	applied to each real time executive
&lt;exname&gt;_OPTS	specific for a given executive

Executive option selections in lld


	The executive task serves as host to user developed simulation programs.
It has no direct user interface. Instances of the executive are created by
lld.

</Text>
</Topic>
<Topic>exesrv<Text>


	Exesrv:

    (Supported on Windows, not on linux at this time).

	The exesrv routine supports inclusion of an instance of s3serv as part
    of an executive task. It is a module included in the iexec library. It
    also requires entries in s3dll.
	To include exesrv in an executive one must first define it in dbm and
    then add appropriate lines to the executive's lld script.

	To define in dbm:

		dbm&gt;/include exesrv,library,,s3


	lld commands to configure in an executive:

		load exesrv,0,0,init
		linkoption $(S3_BIN)\s3dll.lib

	The routine will establish an instance of s3serv which runs within
    the executive task. This instance has almost all the capabilities of a
    separate instance. Exceptions include:
	It is always implicitly connected to the executive in which it resides.
    It will refuse to disconnect from the executive, or to connect to another.

	By default the service is configured for pipe mode with name equal to
    the executive name. The "c" client connection service call will connect to
    this by the convention of backslash followed by the executive name. In
    addition "." must be used as the equivalent of "localhost" for tcp
    connections.

	In order to configure exesrv as a TCP service one must reserve a port
    number for it and define it in one of the following ways:

	- Add line in the %WINDOWS%\system32\drivers\etc\services file with
	  service name equal to the executive name.

	- configure the &lt;execname&gt;_port environment variable such as by lld line
	  EXOption -emyexec_port=9009

	- configure the exesrv_port environment variable such as by lld line
	  EXOption -eexesrv_port=9009


</Text>
</Topic>
<Topic>fpe<Text>

	The floating point control flags may be explicitly set by the
    option

		-F &lt;hex value&gt;

	Where the hex value required is specific to the operating system
    and hardware environment.


	The floating point control flags determine when a floating point
    exception is or is not generated, how floating point results are rounded,
    the effective precision of the floating point registers, and how inifinite
    values are ordered.

	On WINDOWS the bit values for the floating point control flags
   are as follows:


Exception enable flags - Set to disable exception, Clear to enable

	_EM_INVALID	0x00000010
				invalid operations include any floating
				point operation including "Not a Number"
				as one of its terms, and a few mathematically
				undefined operations such as 0. / 0.

	_EM_DENORMAL	0x00080000
				denormal values are values between zero and
				the smallest number which can be represented by
				as correctly formated float point number
				(1.175494351e-38 for single precision,
				2.2250738585072014e-308 for double). Arithmetic
				can still be performed with these numbers but
				can be very imprecise).

	_EM_ZERODIVIDE	0x00000008
				division by zero is arithmetically undefined.

	_EM_OVERFLOW	0x00000004
				when the magnitude of the result of an
				operation is greater than the largest number
				which can be represented by the floating point
				format. (3.402823466e38 for single precision,
				1.7976931348623158e308 for double).

	_EM_UNDERFLOW	0x00000002
				when the result of a non-zero calculation 
				loses all significance due to the limited
				precision of the floating point representation.

	_EM_INEXACT	0x00000001
				whenever rounding the result of a calculation
				is necessary due to the limited precision of
				 the floating point representation.




Rounding Control:
	_RC_CHOP	0x00000300
	_RC_UP		0x00000200
	_RC_DOWN	0x00000100
	_RC_NEAR	0x00000000

Precision control:
	_PC_24		0x00020000
	_PC_53		0x00010000
	_PC_64		0x00000000

		When _PC_64 applies operations within the floating point
	registers are carried out with 64 bits of precision. When _PC_53 is
	set this is reduced to 53 bits (as in the ieee double precision
	format).

Infinity control:
	_IC_AFFINE	0x00040000
	_IC_PROJECTIVE	0x00000000





Defaults:

	The executive default is to enable exceptions for INVALID,
    ZERODIVIDE, and OVERFLOW, and to disable exceptions for DENORMAL,
    UNDERFLOW and INEXACT, round nearest, and use 64 bit precision for register
    to register floating point operations. This corresponds to the executive
    option:

	-F 80003


	The system default is to disable all floating point exceptions, round
    nearest, and set the floating point register precision to 53 bit. This
    corresponds to the executive option:


	-F 9001f




* * * LINUX * * * 

    On LINUX floating point control is a 16 bit integer, flags are set to enable
(rather than disable) floating point exceptions by type. Register precision
and infinity control are not supported.

Available flags are defined as follows:

	FE_INVALID	0x0001
	FE_DENORM	0x0002
	FE_DIVBYZERO	0x0004
	FE_OVERFLOW	0x0008
	FE_UNDERFLOW	0x0010
	FE_INEXACT	0x0020

    Rounding mode may also be controled through floating point exception control

	FE_TONEAREST	0x0000
	FE_DOWNWARD	0x0400
	FE_UPWARD	0x0800
	FE_TOWARDZERO	0x0C00


    The executive default of catching INVALID, DIVBYZERO and OVERFLOW
corresponds to the option setting

	-F 000d

    Disable all floating point exceptions can be specified through

	-F 0


* * * Truncation of denormalized results * * * 


    Many processors also support a floating point control flag to force
denormalized results to zero. This is a compatibility issue with regard to
code ported from systems formerly hosted on Alpha and Mips processors where
doing so was the default or usual practice. Early x86 compatible processors
did not support this, but recent and current models do.
    Control of this option is not integrated into iexec due to compatibility
uncertainties. Because gradual underflow is required by the IEEE floating
point standard and flush to zero is not, use of flush to zero is not recommended
unless specific issues are encountered with code developed on older
platforms.

    GNU compilers (AFAIK) do not support controlling this mode, but Intel
compilers and modern MSVC do.

    When the ifort compiler is used it should work to add the following module
to the load to set this mode.


	subroutine setftz
c*option -wi
	use ifport
	use ifcore
	integer result
	integer for_m_abrupt_und/x'0110000'/
	result = for_set_fpe(for_m_abrupt_und)
	return
	end



    With Microsoft Visual C compilers the following cscan module may be used.


/*program mmftz	*/
#include "mmftz.h"
#include &lt;xmmintrin.h&gt;
void STDCALL mmftz(void)
{
	_MM_SET_FLUSH_ZERO_MODE(_MM_FLUSH_ZERO_ON);
}



* * * * * * some ieee 754 floating point format details


    32 - bit

	masks:
 
	x80000000  sign
	x7f800000  exponent mask
	x007fffff  mantissa mask (or significand)

	special values:

	x80000000  -0		negative zero
	x7f800000  inf		positive infinity
	xff800000  -inf		negative infinity
	i.e. exponent all set, mantissa == 0 -&gt; infinite, per sign
	exponent all set, mantissa != 0 -&gt; Not a Number (NaN)
		quiet NaN -&gt; msb of mantissa not equal to sign bit
	exponent zero, mantissa != 0 -&gt; Denormal or subnormal number (DeNorm)

    64 bit masks:

	x80000000 00000000  sign
	x7ff00000 00000000  exponent mask
	x000fffff ffffffff  mantissa mask


   Some numbers:

	Epsilon		single	1.192092896e-7	double	2.2204460492503131e-16
	Max			3.402823466e38		1.7976931348623158e308
	Min			1.175494351e-38		2.2250738585072014e-308










</Text>
</Topic>
<Topic>fscan<Text>
fscan -&lt;options&gt; &lt;module(s)&gt;

    fscan options are as follows

	-!	- drop in line comments
	-0&lt;global name&gt; - declare global as temp
	-72	- chop off input lines after column 72
	-no72	- allow long input lines (default)
	-8	- option default double for real and complex types
	-a	- create ".add" file(s)
	-c	- suppress fortran compilation
	-D&lt;symbol&gt;	- define preprocessor symbol
	-d	- do not save compilation files
	-Eab1 - treat "&lt;" and "&gt;" as alternate parentheses (default)
	-Eab0 - treat "&lt;" and "&gt;" as operators
	-Echopa - chop off calling argument list longer than expected.
	-Ecim	- enable fscan of MODULE routines referenced on USE (default)
	-Enocim	- disable recursive fscan of MODULE routines referenced on USE
	-Ecno	- beware card numbers may be present in col. 73-80
	-Enocno	- no recognition of card numbers in col. 73-80
	-Ecolon - recognize colon as symbolic character (default).
	-Enocolon - do not recognize colon as symbolic character.
	-Ecolon2_ - replace colon w/ underscore in symbols prior to lookup.
	-ECP	- recognize CP pseudostatement.
	-EnoCP	- do not recognize CP pseudostatement (default).
	-Exdata - data statements may be mixed with executable
	-Enoxdata - data statements may not be mixed with executable
	-Edbolocal - allow global resolution with local type definition
	-Enodbolocal - restore default
	-Eeqv	- obsolete
	-EExpandArrayAss - expand simple array assign (for f77 env only)
	-EnoExpandArrayAss - do not expand array assignment (default)
	-Efcd	- allow symbols with leading digit (default)
	-Enofcd	- dis allow symbols with leading digit
	-Efix	- recognize fixed format input (default)
	-Efree	- recognize free format input
	-Egenlci - generate &lt;name&gt;lo.i file for capture of locals
	-Enogenlci - suppress generate &lt;name&gt;lo.i file for capture of locals
	-Ehk	- recognize 1 or 2 byte hollerith constant, warn on others
	-Enohk	- no recognition of hollerith constant terms
	-Eimportaliasg	- import alias global common partitions
	-Enoimportaliasg - disable import alias global common partitions
	-Elower	- force lower case
	-Eretain- retain input case
	-Eupper	- force lower case
	-Emdd	- search mdd for symbols (default)
	-Enomdd	- do not search mdd for symbols
	-Eminmax - replace MIN1, AMIN1 DMIN1, MAX1, AMAX1, DMAX1 with generic
	-Enominmax - restore default
	-Epad&lt;value&gt; - pad short argument list on CALL with &lt;value&gt;
	-Etab	- recognize tabbed format input
	-Enotab	- do not recognize tabbed format input (default)
	-Ensdoi	- do not allow do loop indices in global common
	-Esequence - force local type definitions to include SEQUENCE attribute
	-Enosequence - cancel -Esequence option
	-Esplit	- enable provisions to recognize split terms
	-Enosplit - disable provisions to recognize split terms (default)
	-Etype	- recognize fortran keyword "type" (default)
	-Enotype - do not recognize fortran keyword "type"
	-Es.	- look for anomylous s.&lt;name&gt; source (default)
	-Enos.	- disable seek for anomylous s.&lt;name&gt;
	-Eslp	- obsolete
	-Ewrap	- Wrap the module
	-Enowrap - Do not wrap the module
	-ExrAlias - enable cross reference for alias global points
	-EnoxrAlias - disable cross reference for alias global points
	-E1list - merge cross reference with data dictionary listing
	-E2list - separate cross reference and data dictionary listing
	-f&lt;string&gt; - pass additional option(s) to f77
	-g	- compile in no-shared object mode (Windows only)
	-G	- compile in shared object mode (Windows only, default)
	-i&lt;system&gt;	- select import mode and system id for MSF includes
	-o	- fscan ODS source module
	-q	- suppress list creation, strip comments
	-p	- print the list
	-r	- regenerate source file (compile directory)
	-s	- save compilation files
	-u&lt;name&gt; - set uds system

	-w{acflkm} - suppress selected error check warnings
	-W{acflkm} - select error check warnings
		a - mixed mode arithmetic (i.e. float/int, default off)
		c - subroutine argument lists (default on)
		d - subroutine argument lists array expected (default on)
		D - multiple data statements warning (default off)
		f - treat warnings as fatal errors (default off)
		i - undefined (implicit) symbol as fatal error (default on)
		k - type checking (e.g. float/logical, default on)
		l - label order warnings (default on)
		m - some mpx compatibility translations (default on)
		p - subroutine argument lists I,L precision (default on)
		t - warn implicit type (default on)
		u - temp usage warning (default off)
		v - array assignment (default off)
	-x	- store xref to database (even if errors prevent compile)

	Option values defaults may be preset throught environment variable
S3_FSC_OPT and may also be overridden from within a source file through
a pseudo-statement of the form "C*OPTION &lt;option string&gt;"

    Modules may be specified by msf name, or by source file name or path.
Directory portions of module source file names are ignored;
fscan will only accept source files properly located per the convention
	src/[&lt;FSCAN_PREFIX&gt;]&lt;name&gt;&lt;FSCAN_SUFFIX&gt;
	or src/s.&lt;name&gt;
    When no appropriate source file is found fscan will invoke cscan in case
a c or cpp module source is present.


environment variables

FSCAN_PREFIX	- prefix for fscan source files
FSCAN_SUFFIX	- suffix for fscan source files
		i.e. FSCAN_SUFFIX=.fsc will set the source file naming	
			convention to "&lt;name&gt;.fsc"
S3_FORTRAN	- compiler command string and option selection
S3_FSC_OPT	- default fscan options (presets)
S3_KEEP		- default to retain created files (.f .h .l)
S3_NSO		- generate non-sharable (not dll) global common references
S3_PRINT	- sh command to submit print file
S3_STDCALL	- windows calling convention used - 0 -&gt; __cdecl
						    1 -&gt; __stdcall
S3_TEMP		- define temp bases and sizes to overrride declared size
		from 1 to applicable logical range.


	fscan is to compile Fortran based modules in the SimExec environment.
   All modules must be defined in the MSF "Module Specification File" through
   the dbm "Include" command. Source files must be placed in the appropriate
   UDS "src" subdirectory and must follow the file naming convention
   established by the FSCAN_SUFFIX. Each module must be placed in a separate
   source file.

	Sources are maintained with no declarations for variables defined in
   the MDD.  Fscan performs a shallow parse of the module source. Fscan will
   detect the global symbols used and generates a version of the source for the
   Fortran compiler. fscan provides appropriate declaration statements and
   proforms translations for a few other differences between the dialect it
   recognizes and pure Fortran. Fscan will recognize the vast majority of
   Fortran-77 syntax, and much, though not all, of the additions defined by
   more recent standards. After successfully scanning the input fscan will
   present its alternate version of the source to the Fortran compiler, and
   when that compiles successfully store the object code and module cross
   reference.

	Differences between Fortran standard coding and that recognized by
   fscan include the following.

	- Keywords are not reserved in standard Fortran, they are usually
	(not always) reserved in fscan.

	- Spaces have no significance in standard Fortran input (except in
	character literals, they may be inserted arbitrarily within symbols,
	keywords and literals, and are never required to separate terms).
	Spaces are often significant in fscan input. They may not be included
	within symbols nor arbtrarily within literal terms and keywords, and
	are occasionally required to separate terms.

	- Source input lines are truncated at 72 characters in standard 
	Fortran. They may extend much further in fscan input.

	- Fscan introduces the "segment", "cseg", and "component" keywords
	which translate to subroutine and call statements.

	- Fscan introduces the "CALLM" statement for macro expansion operation.

	- Symbols defined in the MDD may begin with digit characters. They
	must contain sufficient non-digit content to avoid confusion with
	literal values.

	- Symbols defined in the MDD may contain colon characters. This collides
	with the range syntax introduced in fortran 77 and extended in more
	recent fortran standards. In some cases it may be necessary to add
	space characters around the colon for fscan to differentiate range
	from symbol syntax. (Or use the fscan option -Enocolon).

	- fscan accepts square brackets ("[]"), squigle brackets ("{}") and
	angle brackets (less than, greater than - "&lt;&gt;") as alternate parentheses
	and translates them to parentheses. This collides with the use of
	"less than" and "greater than" characters as alternate forms for
	relational operators in the more modern Fortran standards. This behavior
	can be overridden with the fortran option "-Eab1".

	- fscan will not recognize Fortran "program" or "block data" statements.

	- fscan will translate the STOP statement to call STOPX(&lt;reason&gt;).

	- The character zero in the continuation column (6) is equivalent to
	a space in the fortran standard and therefore can be present there on
	the initial line of a statement. fscan will recognize a 5 digit label,
	followed by a zero in the continuation column and a space in the next
	column as the initial line of a statement. It will interpret 5 spaces
	followed by a zero in the continuation column as a continuation line.
	It will not accept other combinations (i.e. a mix of spaces and digits
	in the first five followed by a zero in column 6).

	- Fscan will translate the (mpx-style) LEAVE statement to EXIT.

Miscellaneous notes -

 - inline comments

	Fscan attempts to retain inline comments, that is comments which begin
    with an exclamation point and extend to the end of line. In a few cases
    it has difficulty with their placement.
	Inline comments are included in the input to the fortran compiler.
    Some compilers most pedantic warning settings will alarm when these extend
    beyond column 72.

 - option -8

	The option "-8" informs fscan to treat default real items as double
    rather than single precision. The corresponding option needs to be
    passed to the fortran compiler. On Windows fscan automatically inserts
    option /4R8 for this, this is recognized by the compilers used to date,
    however that is in compatibility with a very old compiler. On linux
    the corresponding compiler option is not inserted by fscan, but rather,
    must be explicitly configured in the options or environment.


 - intrinsic functions

	Fscan automatically recognizes the intrnsic functions defined in the
    Fortran-77 standard (as long as the opening parenthesis immediately
    follows the function name). Intrinsic functions added in more
    recent standards, or as compiler extensions are not recognized. They must
    be defined in the MSF (using the dbm "/INCLUDE" command) as modules of
    type INTRINSIC.




</Text>
</Topic>
<Topic>help<Text>
/HELP [&lt;topic&gt;] [&lt;subtopic&gt;]

	The help command with no arguments prints a dense summary of dbm
	and isd commands.

	Help with a topic searches the available help topics for a match to
	to give specific information. Help with a topic and subtopic searches
	subtopic.


	Help topics available include the following

		help		this summary of available help topics

		dbm		dbm command summary
	 		subtopics:
			    invoking remote general summary default
			    add modify mdd addtype tdb attach cdf cds
			    check compile const del deltype detach dftglob
			    drop dump exit extr ic import include initss
			    lcdf lcds listm listtype lmdd lmsf macro map
			    mark mcdf mergetype mkinclude mmsf move odel
			    open option more promote rename remove root
			    select setenv smrg start submit trim version

		isd		isd command summary
	 		subtopics:
			    entry summary async attach brk call change
			    clear clock close cont copy d20 d40 dcm date
			    def desc display dll drive fresh dump echo ecm
			    exec examine fast flip freeze incre kill limit
			    line log look mod more option pack page print
			    quit ramp rate read reset run save scan
			    search sel set show sine slow snap status
			    switch table title user wait


		rel4.3.27 rel4.3.28 rel4.3.29 rel4.3.30	rel4.3.31
		rel4.3.32 rel4.4.0 rel4.4.1 rel4.4.2 rel4.4.3 rel4.4.4
		rel4.4.5 rel4.4.6 rel4.4.7
				old release notes

		rel4.5.0	release note
		rel4.5.1	release note
		rel4.5.2	release note

		case		note on case-sensitivity
		env		environment variables description

		cscan		cscan options and notes
		dbmchk		dbmchk program
		dfglob		dfglob options and notes
		exec		executive option summary
		fscan		fscan options and notes
		lld		lld options and command summary
		jdb		SimExec dashboard program (formerly s3if)

		add		dbm add, mdd, mod commands
		include		dbm /Include command
		lmdd		dbm lmdd command
		lmsf		dbm lmsf command
		sequ		dbm lmdd sequ options

		reftab		reference data tracking table
		shuffle		automated ic shuffle summary
		type		structured types summary

		intrinsics	fscan / Fortran intrinsic routines
		s3serv		server program notes
		vcproj		Visual Studio project files by lld
		vsdebug		brief introductory note for Visual Studio debug
		jitdebug	note about "Just In Time" debug
		mkmstg		create shared global on windows
		ddesrv		dde interface present in executive library
		priority	Windows priorities
		fpe		Windows floating point control
		mbin		Miscellaneous unsupported utilities
		linux		Miscellaneous linux issues
			subtopics:
			    msgmni, su
		rpcservers	rpc server programs
			subtopics:
			    dbaserver, dirserver, gdaserver, portmap

		mst		master synchronization task
		msts		multiple instances of mst

		opcdcsexec	OPC data access client
		opcserver	OPC data access server

		SmartExam	SmartExam program integration
		vss		integration of Visual Source Safe with MMSF
		if_diagnostic	ifort run time diagnostic interception
		xpt, mvtab, scfgetput
				dynamic symbol resolution features
		hdx		HD client and server modules
		stopx, poststop	exception routines
		execincludes	/INCL commands for Windows iexec library
		backtrack	how to configure backtrack snapshots into
				your standalone iexec
		archive		notes on library archive support
		svn		notes on mmsf subversion integration
		jscr		Jade-Script


	Help SQL [ U | O]
		lists information specific to an active ODBC connection
		when applicable.



</Text>
</Topic>
<Topic>isd<Text>isd command line arguments

 isd r &lt;host&gt; &lt;server&gt; &lt;user&gt; &lt;executive&gt; {&lt;options&gt; | &lt;select files&gt;} *
	- to establish remote connection via s3serv

 isd s &lt;p | s&gt; &lt;host&gt; &lt;service&gt; &lt;uds&gt;
	- to establish connection via scf services

 isd &lt;executive&gt; {&lt;options&gt; | &lt;select files&gt;} *
	&lt;options&gt; - minus sign followed by one character, asynchronous commands


SINGLE  CHARACTER ASYNCHRONOUS COMMANDS

? ! . , ^ + = - _ C D E F J K L M P Q R S U V X Y  are also valid from prompt.

	? /	issue prompts
	&lt;cr&gt;	(default) issue prompt
	' '	(space) refresh screen
	.	select default screen format
	,	clear error line
	^	shift display up 1 line
	+ =	shift display up 5 lines
	- _	shift display down 5 lines
	0-9	select screen
	c	clear limit data
	d	select description screen format
	e	toggle echo
	f	freeze
	h	toggle hilight
	j	shift lines down 1
	k	shift lines up 1
	l	select limit screen format
	m	select 40 line screen format
	p	print screen
	q	quit (leave iexec active)
	r	run
	s	step
	u	disable continuous monitor mode
	v	update
	x	exit (inquire on iexec)
	y	show fail


ISD COMMANDS

DISPLAY MANIPULATION COMMANDS

&lt;symbol range&gt; [[,]{&lt;indexs&gt; | &lt;param&gt;}] [ / &lt;line range&gt;] [&lt;override&gt;]*
						display variable
CHAnge [&lt;line range&gt;] { N &lt;name&gt; I &lt;intpar&gt; U &lt;symbol&gt; [T ]&lt;type&gt; &lt;format&gt; } *
{CLear | ER | EA} { $ | [&lt;line range&gt;] }	clear display line(s)
CONt [ { K | D } ]				continue SCAN, SEARCH or &lt;wild&gt;
COPy &lt;integer&gt; [ [,]&lt;integer&gt;]			copy display line
D20						select (default) 20 line display
D40						select 40 parameter display
Display &lt;symbol range&gt; [&lt;line range&gt;] [&lt;override&gt;]*
[Display] &lt;wild&gt; [ { K | D } ]			display (dump) data by wildcard
DECrement [&lt;line range&gt;]			decrement index
FLIp						swap display lines 1-20 w/ 21-40
INCrement [&lt;line range&gt;]			increment index
^&lt;integer&gt;					shift line contents
LIMit						select limit display format
LINe &lt;integer&gt;					select line info
MODule &lt;module name&gt;				select module
MONitor						return to monitor
MOVe &lt;integer&gt; [,] &lt;integer&gt;			move display line
PACk						pack display contents
PAGe { &lt;integer&gt; | &lt;name&gt; }			restore saved display page
SAVe &lt;page name&gt;				write page save file
SCAN [&lt;module name&gt;] [ { K | D } ]		display or dump cross reference
SEArch [&lt;module name&gt;] [&lt;integer&gt;][ { K | D } ]	display or dump from source
SWitch &lt;integer&gt;				switch display screens

On group display commands (SCAN, SEARCH, &lt;wild&gt;, CONT) the K option indicates
include constants (suppressed by default), D specifies DUMP mode.


DATA MODIFICATION COMMANDS

&lt;symbol range&gt; [[,]{&lt;indexs&gt; | &lt;param&gt;}]  = &lt;expression&gt;	set variable
&lt;symbol range&gt; = &lt;expression_list&gt;		set variable
&lt;line range&gt; = &lt;expression_list&gt;		set variable by display line(s)
[SET] $[&lt;basename&gt;] [&lt;sep&gt;] &lt;expression&gt;	evaluate expression, set base
EXAmine &lt;symbol range&gt; [&lt;override&gt;]*		list and modify data
EXAmine &lt;wild&gt; 					list and modify data
SET &lt;symbol range&gt; [signed real [&lt;repeat&gt;]]	set global data
SET &lt;symbol range&gt; &lt;sep&gt; &lt;expression&gt; [&lt;repeat&gt;] set global data
SET &lt;integer&gt; [&lt;sep&gt;] [&lt;expression&gt;] [&lt;repeat&gt;]	set data by display line

ISD CONTROL COMMANDS

ASYNC { ON | OFF }				disable/enable isd async
ATTach &lt;executive name&gt;				switch executive
CLOSe						close print file
DATE [int],GMTIME,LOCALTIME			control isd clock display format
DCM						disable continuous monitor
ECHo [ { ON | OFf } ]				set or toggle echo mode
ECM						enable continuous monitor
EXIt						exit (inquire if exec)(X)
FReSh						redraw display 
INIt						reset limit data collection
MORe &lt;integer&gt;					set paging logic
Quit						exit (leave exec running)
SUSpend { &lt;integer&gt; | &lt;real&gt; }			set isd update pause
USEr [&lt;uds name&gt;]				attach to alternate uds
WAIt &lt;integer&gt;					pause in seconds
WAIt STEp					pause until step complete
!&lt;shell command&gt;				perform unix command

EXECUTIVE CONTROL COMMANDS

ASYNC						cancel isd synchronization
BRK [&lt;expression&gt;]				insert/remove breakpoint
CIS &lt;SCF command&gt;				send command to SCF
CALl [&lt;module name&gt;]				call module
CLOck [&lt;time&gt;]					set clock
EXEc [&lt;executive name&gt;]				restart executive
FASt [&lt;integer&gt;]				set iexec fast time factor
Freeze						freeze simulation
GMTIME						isd time mode to GMT
KIll						terminate load and exit
LOCALtime					set iexec time mode to local
MODule [&lt;module name&gt;] { In | Out }		enable/disable module
NICe &lt;integer&gt;					alter executive priority
NORmal						set normal time mode
OPTion &lt;executive option&gt;			pass new option select to exec
RATe [&lt;signed integer&gt;]				select time mode
RESet { &lt;icname&gt; | [K,]&lt;integer&gt; }		reset initial condition
Run						request run status
SCHedule &lt;module name&gt;,&lt;integer&gt;,&lt;integer&gt;[,F]	reschedule control module
SLOw [&lt;integer&gt;]				set slow time mode and factor
SNApshot { &lt;icname&gt; | K,&lt;integer&gt; | &lt;integer&gt;[,&lt;password&gt;] }
STAtus [&lt;integer&gt; | &lt;status name&gt;]		request simulation status
STEp [&lt;time&gt;]					request STEP status
SYNC &lt;integer&gt;					synchronize isd update to frames

COMMAND FILE COMMANDS

DEFine @{Symbol | integer} &lt;pattern&gt;		define symbol replacement macro
DO WHILE &lt;expression&gt;				loop within command file
ENDDO						do while block termination
IF &lt;expression&gt; [THEN]				conditional command execution
ELSE						conditional command alternative
ENDIF						conditional block termination
END						select file termination
FILe &lt;file name&gt;				select isd command file
SELect &lt;file name&gt;				select isd command file

INFORMATIONAL LIST COMMANDS

*&lt;comment&gt;
DUMp &lt;wild&gt; [ { K | D } ]			list data
DUMp &lt;symbol range&gt;[[,]&lt;offset_list&gt;] [&lt;override&gt;]*	list data
DUMp SCREEN					scroll screen contents
Help						view this
LI [&lt;expression&gt; , &lt;expression&gt;]		disasemble
LISt &lt;symbol&gt;					list hex/ascii data by name
LISt &lt;expression&gt;, &lt;expression&gt;		list hex/ascii data by address
LOCALtime &lt;expression&gt;			translate epoch time to local
LOG [&lt;integer&gt;]				scroll screen
LOOk [&lt;module name&gt;][&lt;integer&gt;]		view module source
PGM [&lt;module name&gt;]				load variable addresses
PRInt [ { ON | OFF | &lt;filename&gt;[+] } ]		allocate/deallocate print file
REGs						display registers
SHOw $						display base values
SHOw F						display failure message
SHOw Control					display control modules
SHOw Global					display global table data
SHOw [&lt;module name&gt;][{OUT | K | D}]		dump module map information
SHOw &lt;integer&gt;					dump module map by address
SHOw T [,INIt | K]				display timing information
TITLE [&lt;title&gt;]					list annotation
TRA						debug print toggle

DYNAMIC DATA MODIFICATION COMMANDS

{CLear | ER | EA} {&lt;symbol range&gt; | TABle &lt;symbol&gt; }		clear ddm
DRIVE &lt;symbol range&gt; -&gt; &lt;expression&gt;			calculate by name
DRIVE &lt;line no&gt; -&gt; &lt;expression&gt;			calculate by line
RAMp &lt;symbol range&gt; , &lt;slope&gt; [ ,&lt;stopvalue&gt; [&lt;repeat&gt;]]	ramp by name
RAMp &lt;integer&gt;[,]&lt;slope&gt;[,&lt;stop value&gt; [&lt;repeat&gt;]]		ramp by line
SHOw { DRIVE | DDM | RAMp | SINe | TABle}			dump ddm information
SINe &lt;symbol range&gt; , &lt;amplitude&gt; , &lt;frequency&gt; , &lt;bias&gt; , &lt;damp&gt;	sine
SINe &lt;integer&gt; , &lt;amplitude&gt; , &lt;frequency&gt; , &lt;bias&gt; , &lt;damp&gt;		sine
TABle &lt;symbol&gt; &lt;expression&gt; [&lt;time&gt;]			ddm table definition
TABle CONnect &lt;symbol&gt; &lt;symbol range&gt; [&lt;repeat&gt;]	ddm table attachment
TABle CONnect &lt;integer&gt; &lt;symbol range&gt; [&lt;repeat&gt;]	ddm table attachment




WHERE:

&lt;symbol id&gt;	{ &lt;symbol&gt; | {REAL | IMAG}(&lt;symbol&gt;) }
&lt;symbol range&gt;	{ &lt;symbol id&gt; [ ( &lt;offset list&gt; ) ]
		| {REAL | IMAG}(&lt;symbol id&gt;)}
&lt;offset list&gt;	{ &lt;intpar&gt;[{:|/}&lt;intpar&gt;] | \&lt;expression&gt;} [, &lt;offset list&gt;]
&lt;intpar&gt;	{ &lt;integer&gt; | &lt;parameter symbol&gt; | $[&lt;basename&gt;]}
&lt;line range&gt;  &lt;line&gt;[ { / : } &lt;line&gt;] [,&lt;line range]*
&lt;line&gt;	{&lt;integer&gt; | $&lt;line no&gt; }

&lt;type&gt; { R*4 I*4 I*2 I*1 R*8 L*4 L*2 L*1 {REAL | IMAG}(C*{8 | 16}) H*&lt;integer&gt;}
&lt;format&gt; %[{ + - #]*[0-9]*[.][0-9]*[#]{ c d o u x X f e E g G}
&lt;override&gt; { &lt;type&gt; | &lt;format&gt; | n[,]&lt;name&gt; | u[,]&lt;unit&gt; }
&lt;indexs&gt;  &lt;integer&gt;[ : &lt;integer&gt; ] [, &lt;indexs&gt;]
&lt;time&gt;   [[[[&lt;hours&gt;:]&lt;minutes&gt;]:seconds&gt;.]&lt;frames&gt;]

&lt;expression_list&gt;	&lt;expression_list_item&gt;, &lt;expression_list_item&gt; ...
&lt;expression_list_item&gt;	&lt;expression&gt; | &lt;integer&gt; ( &lt;expression&gt; )

&lt;expression&gt;	{ &lt;expression term&gt; | &lt;arithmetic expression&gt; |
		  &lt;binary expression&gt; | &lt;logical expression&gt; |
		  &lt;relational expression&gt; | &lt;conditional expression&gt; }
					- c precedence rules applied
&lt;expression term&gt;	&lt;ivalue&gt;		- literal value
		&lt;real&gt;				- literal value
		&lt;symbol&gt;			- parameter or global value
		&lt;intrinsic&gt;(&lt;expression&gt;)	- function value
		&lt;symbol&gt;(&lt;subcripts&gt;)		- global data value
		(&lt;expression&gt;, &lt;expression&gt;)	- complex value
		REAL(&lt;expression&gt;)		- real part of value
		IMAG(&lt;expression&gt;)		- imaginary component of value
		.				- result of last expression
		$				- result of last base evaluation
		$&lt;basename&gt;			- recall value
		#&lt;symbol&gt;			- module entry point
		&amp;&lt;symbol&gt;[(&lt;subscripts&gt;)]	- global data address
		$&lt;integer&gt;			- display line value
		$&lt;integer&gt; { HIGH | LOW }	- display line limit value
		DIMENsion(&lt;symbol&gt;)		- mdd dimensionality
		char(.)				- ascii character
		char(....)			- four ascii characters
		( &lt;expression&gt; )		- parenthesized expression

&lt;arithmetic expression&gt;	     - &lt;expression&gt;	- unary negation
		&lt;expression&gt; - &lt;expression&gt;	- minus
		&lt;expression&gt; + &lt;expression&gt;	- plus
		&lt;expression&gt; * &lt;expression&gt;	- multiply
		&lt;expression&gt; / &lt;expression&gt;	- divide
		&lt;expression&gt; % &lt;expression&gt;	- remainder
&lt;binary expression&gt;          ~ &lt;expression&gt;	- binary negation
		&lt;expression&gt; &amp; &lt;expression&gt;	- binary and
		&lt;expression&gt; | &lt;expression&gt;	- binary or
		&lt;expression&gt; ^ &lt;expression&gt;	- exclusive or
		&lt;expression&gt; &gt;&gt; &lt;expression&gt;	- shift right
		&lt;expression&gt; &lt;&lt; &lt;expression&gt;	- shift left
&lt;logical expression&gt;         NOT &lt;expression&gt;	- logical negation
		&lt;expression&gt; AND &lt;expression&gt;	- logical and
		&lt;expression&gt; OR &lt;expression&gt;	- logical or
		&lt;expression&gt; XOR &lt;expression&gt;	- logical exclusive or
		&lt;expression&gt; EOR &lt;expression&gt;	- logical exclusive or
		&lt;expression&gt; NEQV &lt;expression&gt;	- logical exclusive or
		&lt;expression&gt; EQV &lt;expression&gt;	- logical equivalence
		&lt;expression&gt; &amp;&amp; &lt;expression&gt;	- logical and
		&lt;expression&gt; || &lt;expression&gt;	- logical or
&lt;relational expression&gt;
		&lt;expression&gt; LT &lt;expression&gt;	- less than
		&lt;expression&gt; GT &lt;expression&gt;	- greater than
		&lt;expression&gt; LE &lt;expression&gt;	- less than or equal
		&lt;expression&gt; GE &lt;expression&gt;	- greater than or equal
		&lt;expression&gt; NE &lt;expression&gt;	- not equivalent
		&lt;expression&gt; EQ &lt;expression&gt;	- equivalent
		&lt;expression&gt; &lt; &lt;expression&gt;	- less than
		&lt;expression&gt; &gt; &lt;expression&gt;	- greater than
		&lt;expression&gt; &lt;= &lt;expression&gt;	- less than or equal
		&lt;expression&gt; &gt;= &lt;expression&gt;	- greater than or equal
		&lt;expression&gt; != &lt;expression&gt;	- not equivalent
		&lt;expression&gt; == &lt;expression&gt;	- equivalent

&lt;ivalue&gt; { &lt;integer&gt; | F | T | .FALSE. | .TRUE. }

&lt;intrinsic&gt; { ABS ACOS ASIN ATAN CEIL COS EXP FABS FLOOR FMOD LOG
	 MAX MIN POW 'SIN' SQRT TAN }	- math library functions

&lt;integer&gt; [0-9]+ | 0X[0-9A-F]+ | X'[0-9A-F]+'
&lt;sep&gt;	= | ,


names which collide with other syntax must be enclosed in quotes.
Commas are allowed in many additional locations, they are required in many
cases where shown above.

isd uses the following markings in the display column between the line number
and symbol name to note unusual line definition attributes.
 '.'	(period)	user development system level point is displayed
 '*'	(asterisk)	point definition modified since executive loaded
 '#'	(pound)		point data type definition overridden
 '$'	(dollar)	display name changed
 '+'	(plus)		index exceeds defined array bounds
 '~'	(tilde)		executive defined point
 '!'	(exclamation)	modified by refresh


isd environment variables:

S3_PRINT	sh command template for printing
ISD_INIT	initialization command file
ISD_PAGES	directory path for isd page files
ISD_SELECT	second chance directory for command files
S3_SELECT	additional alternate directory for command files
NO_BELL		set to disable audible alert on status change and error
ISD_EXEC	to identify default executive (on no argument activation)


S3_HOME, S3_ODS, S3_ODS_HOST, S3_ODS_NAME - general S3 system definition.

</Text>
</Topic>
<Topic>include<Text>
	dbm INCLUDE command

/INCLUDE - Define a New Module

	    The /Include command defines a new module to the Module
	Specification File. A name (up to 31 characters), module type,
	and system ID must be specified. If the module is a function
	subroutine then the type of function return must also be supplied.
	An optional brief description may also be provided.

	Syntax:

	/INCLUDE &lt;lname&gt;,[&lt;sname&gt;,]&lt;type&gt;,[&lt;return&gt;],&lt;sys&gt;[,&lt;desc&gt;]

    Where:


	&lt;lname&gt;

	    Is the module name. This name must be used for all references to
	the module.

	&lt;sname&gt;

	    A short name field is accepted on the include command for
	compatibility with the older S3 software product input. If present
	it is ignored.

	&lt;type&gt;

	    Indicates the module's type. This field may be specified by keyword
	or an integer  code as follows:

	1 or EXECUTIVE - executive task
	2 or CONTROL - control modules.
	3 or SEGMENT - segment modules.
	4 or COMPONENT - component modules.
	5 or SUBROUTINE or function - subroutine or function modules.
	7 or BLOCKDATA - blockdata modules.
	8 or LIBRARY - external library subroutine.
	9 or INTRINSIC - intrinsic subroutines.
	10 or TEXT - datafile identification
	11 or PACKAGE - package identification
	12 or MODULE - Fortran MODULE

		    Simulation executive tasks may be defined in the MSF as
		module type EXECUTIVE. LLD will create such entries when this
		has not been performed explicitly. LLD will update
		executive MSF entries to record the executive type and
		date/time created. No cross-reference or consistency tracking
		is performed, and executive MSF entries are not merged to ODS.
		    Compile requests against executive modules will
		invoke lld with select file named per the convention
		"&lt;executive name&gt;.lld" in the UDS base directory.

		    Control modules are normally the main routines for each
		system. They are loaded separately to be scheduled or called
		directly by the executive task. fscan will post an error should
		a segment, component, or subroutine module call a control
		module.

		    Segment modules are loaded along with the control module
		which calls them. Segments are normally called only by a single
		control module. fscan will post an error should a component or
		subroutine module call a segment.

		    Component modules are usually maintained by the
		component development system. Component modules are called by
		segments or control modules and may also be called in
		response to changes in DI states through the Input Scanning
		and Activation System (ISAS). Components should not be called
		by more than one segment. fscan will post an error should a
		subroutine call a component module.

		    Subroutine modules may be called by many different system
		modules. Function subprograms are classed as subroutines with
		the additional requirement that a two-character return code
		(data type and precision) be specified.

		    Blockdata modules consist of data initialization
		statements (normally based on the Fortran data statement
		syntax) and serve to initialize array constants, via dfglob,
		prior to execution of simulation. These source files must be
		place in the "bd" subdirectory. When no period is included in
		the blockdata module name "d." is prefixed to the file name.

		    Library subroutines are those subroutines that are defined
		in external libraries such as the Fortran/C run time libraries.
		SimExec does not track a source or object. LLD will expect the
		linker to be able to locate an entry point for such modules.

		    Intrinsic routines (usually functions) are modules defined
		by the Fortran compiler.  A few (mostly very simple) intrinsic
		functions are predefined in the fscan program; others
		must be defined in the MSF as intrinsic modules.  The function
		return type 'G0' is specifically for generic Fortran intrinsic
		functions.

		    Text type is used for include files and for general data
		files. For example, the configuration data file generated by
		TOPMERET is often included as a text file in order to receive
		the development system level treatment and revision tracking
		accorded to module sources.
		    The Text module type is used for source fragment files to
		be used with the fscan "include" statement, or with the cscan
		module pseudo-command. cscan will insert a c++ preprocessor
		"#include" statement cscan in response to the "/*module"
		pseudo-statement naming a text in cscan modules. fscan will
		read the text file in response to a fortran INCLUDE statement
		naming a text.
		    The text module type may also be used to track binary data
		files.
		    Files defined by the TEXT module type must be placed in
		the "text" subdirectory.

		    A module package provides the means to reflect in the MSF
		that a group of modules are closely related to each other.  An
		appropriate example would be the group of modules produced by
		a TOPMERET system.  A package msf entry has no source. Modules
		are added to a package through data MSF modification directives.
		Merge of a package module implicitly includes merge of all of
		its members. Extract of a package module implicitly extracts all
		of its members. The association of a module into a package is
		otherwise fairly weak. There are no restrictions imposed on the
		member modules by being a member of a package. ODS modules
		can be added to a package defined at the UDS, UDS modules can
		be added to an ODS level package.
		

		   A Fortran MODULE must be defined with the 'MODULE' type.
		Only partial support appropriate to this type is implemented
		at this time.

	&lt;return&gt;

		    Indicates the data type and precision of the data returned
		from a function. (May be appropriate with module types of
		subroutine, library, and intrinsic.)

		Return data types are to be encoded are as follows:

		i1, i2, or i4 - Integer valued functions.

		r4 or r8 - Real valued functions.

		c8 or cd - Complex functions.

		l1, l2, or l4 - Logical functions.

		G0 - Generic intrinsic functions.

		Input of the return types can include an asterisk (*) if
		desired. For example, I*2.

	&lt;sys&gt;

		    Is the alphanumeric acronym identifying the simulation
		system in which this module will be used.

	&lt;desc&gt;

		    Is the brief description.

	    After successfully processing an INCLude command, dbm will accept
	data directives to modify or add data fields in the MSF entry created.
	These include the following:

	.args &lt;argument list&gt;

		    Where &lt;argument list&gt; is a comma separated list of argument
		type codes describing the calling parameters for a subroutine.
		(Control and segment modules normally have no arguments,
		component modules normally have only a single argument used
		to signal an out-of-turn call).
		    Encode the argument lists as a single character data type
		code followed by integer precision, then parentheses if an
		arry is expected, and w if the argument is written to by the
		routine. That is:

		i1, i2, i4		input integers
		i1w, i2w, i4w		output scalar integers
		i1(), i2(), i4()	input integer arrays
		i1()w, i2()w, i4()w	output integer arrays

		l1, l2, l4		input logicals
		l1w, l2w, l4w		output logicals
		l1(), l2(), l4()	input logical arrays
		l1()w, l2()w, l4()w	output logical arrays

		r4, r8			input reals
		...
		r4()w, r8()w		output real arrays

		c8, c16			input complex
		...

		h0			for character
		s0			for structures
		...
			    The length of character arguments and the specific
			type of structured arguments are not tracked.

			    Several minor variations to the above argument list
			syntax, including that required by OpenSim, are
			accepted.


			    For modules compiled through fscan it is not
			necessary to provide this argument descriptor (fscan
			will fill in the required data when the subroutine is
			compiled).
			    For modules compiled through cscan the
			argument list description must be explicitly provided
			either through dbm or through the "/*arglist"
			pseudo-statement in the source.
			    For library modules the argument list description
			must be defined through dbm.
			    The argument list tracking does not include full
			provisions for the optionalities applicable to many
			Fortran intrinsic routines.  A precision indication of
			0 in combination with any of the simple data types is
			appropriate on definition of intrinsic routines
			requiring a specific data type of any precision. 'g0'
			may be used for an argument of any type. No argument
			list descriptor is appropriate for the more generic
			intrinsics.

	.note &lt;note&gt;

		    Msf entries include an additional 72 character note field.

	.fscan
	.cpp
	.c

		    Which language preprocessor applies to the module may be
		explicitly indicated with data directives. This is normally
		not necessary as the pre-processor programs will fill it in
		when the module is compiled.

	.package &lt;package name&gt;

		   Will add the module to the list of modules grouped into
		a package.

	.module &lt;module name&gt;

		   For modules of module type PACKAGE only the .mod data
		directive may be used do assign other modules to the package.

	.package &lt;package name&gt;

		    For module types other than package this data directive
		may be used to add the module to the list of modules assosciated
		with a package.

	    Additional fields appropriate to MSF modify, (they override
	fields entered on the INCLUDE command line) are also recognized.

	.system &lt;new system id&gt;
	.description &lt;new description&gt;
	.return &lt;function return type&gt;
	.&lt;module type&gt;	(CONTROL, SEGMENT, etc.) &lt;new module type&gt;
	.revision &lt;revision number&gt;
	.uncheck



Short forms:
The INCLUDE keyword may shortened to INCL.
The EXECUTIVE keyword may be shortened to EXEC.
The COMPONENT keyword may be shortened to COMP.
The BLOCKDATA keyword may be shortened to BLKD.
All data directive keywords may be shortened to 3 characters beyond the period.


Examples:

/incl fw4cpsxrv,fw4cps,control,,fw,fw control 4 cps

	This would define a control module with a name of fw4cpsxrv, and
   indicate that it is part of the feedwater system.

/incl sial01md2,3,,ia

	This would define a segment with a name of sial01md2, and indicate
    that it is part of the instrument air system.

/incl nusqrtr4,sqrtr4,function,r4,ys

	This would define a function with a name of nusqrtr4, return data type
    of single precision real, and assign system id of 'ys'.

/incl bdia4,blockdata,,ia

	This would define a blockdata module with filename d.bdia4.

/incl anssystem,package,ans,ans system
.MOD cansset1
.MOD cansset2

</Text>
</Topic>
<Topic>intrinsics<Text>

         Fscan will automatically recognize intrinsic function names from the 
    Fortran77 standard and a few of those added in Fortran90. Addional intrinsic
    functions were added in the Fortran90 and later standards, and compiler
    implementations usually add some more. These need to be added to the MSF
    for use.
	Intrinsic function semantics has extended significantly since Fortran77
    including array valued functions and optional arguments. Fscan often
    lacks the sophistication to understand these things, but will usually
    pass them through to the compiler without problem.

    
    Intrinsic functions implicitly recognized by fscan include the following.


    name  alternate type    Description			source	argument type
    ----   ----     ----    ------------                ------  ------------
    
    imag	     R	    Imaginary part		f77	C
    
    int		     I      Conversion to Integer	f77	R
    ifix	     I      Conversion to Integer	f77	R
    idint	     I      Conversion to Integer	f77	D
    
    real	     R      Conversion to Real		f77	C/I/D
    float	     R      Conversion to Real		f77	I
    sngl	     R      Conversion to Real		f77	D
    
    dble	     D      Conversion to Double	f77	I/D
    
    cmplx	     C 	    Conversion to Complex	f77	R, R
    
    ichar	     I 	    Conversion to Integer	f77	H
    char	     H	    Conversion to Character	f77	I
    
    aint	     I      Truncation to Integer	f77	D
    dint	     I	    Truncation to Integer	f77	D
    
    anint	     I	    Nearest Whole Number        f77	R/D
    dnint	     I	    Nearest Integer		f77     D
   
    nint	     I	    Nearest Integer	        f77	R/D
    idnint	     I	    Nearest Integer	        f77	D
    
    abs		     G	    Absolute Value		f77
    iabs	     I      Absolute Value		f77     I
    dabs	     D      Absolute Value		f77     D
    cabs	     R      Absolute Value		f77     C
    
    mod		     G      Remaindering		f77
    amod	     R      Remaindering		f77     R R
    dmod	     D      Remaindering		f77     D D
    
    sign	     G      Transfer of Sign		f77
    isign	     I      Transfer of Sign		f77     I I
    dsign	     D      Transfer of Sign		f77     D D
    
    dim		     G      Positive Difference		f77
    idim	     I      Positive Difference		f77     I, I
    ddim	     D      Positive Difference		f77     D, D
    
    dprod	     D      Double Precision Product	f77     R, R
    
    max		     G      Choose Largest Value	f77
    max0    max	     I      Choose Largest Value	f77
    max1    max	     R      Choose Largest Value	f77
    amax0   max      R      Choose Largest Value	f77
    amax1   max      R      Choose Largest Value	f77
    dmax1   max      D      Choose Largest Value	f77
    
    min		     G      Choose Smallest Value	f77
    min0    min      I      Choose Smallest Value	f77
    min1    min      R      Choose Smallest Value	f77
    amin0   min      R      Choose Smallest Value	f77
    amin1   min      R      Choose Smallest Value	f77
    dmin1   min      D      Choose Smallest Value	f77
    
    len		     I      Length of Character Entity  f77	H
    index	     I	    Location of Substring	f77	H, H
    
    aimag	     R      Imaginary Part of Complex	f77	C
    conjg	     C      Conjugate of Complex	f77	C
    
    sqrt	     G	    Square root			f77
    dsqrt	     D      Square root			f77	D
    csqrt	     C      Square root			f77	C
    
    exp		     G      Exponential			f77
    dexp	     D      Exponential			f77	D
    cexp	     C	    Exponential			f77	C
    
    log		     G      Natural Logarithm		f77
    alog	     R      Natural Logarithm		f77	R
    dlog	     D      Natural Logarithm		f77	D
    clog	     C      Natural Logarithm		f77	C
    
    log10	     G      Common Logarithm		f77
    dlog10	     D      Common Logarithm		f77	D
    
    sin		     G      Sine			f77
    dsin	     D      Sine			f77	D
    csin	     C      Sine			f77	C
    
    cos		     G	    Cosine			f77
    dcos	     D	    Cosine			f77	D
    ccos	     C      Cosine			f77	C
    
    tan		     G      Tangent			f77
    dtan	     D      Tangent			f77	D
    
    asin	     G	    Arcsine			f77
    dasin	     D      Arcsine			f77	D
    
    acos	     G      Arccosine			f77
    dacos	     D      Arccosine			f77	D
    
    atan	     G      Arctangent			f77
    datan	     D      Arctangent			f77	D
    atan2	     G      Arctangent			f77
    datan2	     D      Arctangent			f77	D, D
    
    sinh	     G      Hyperbolic Sine		f77
    dsinh	     D      Hyperbolic Sine		f77	D
    
    cosh	     G      Hyperbolic Cosine		f77
    dcosh	     D      Hyperbolic Cosine		f77	D
    
    tanh	     G      Hyperbolic Tangent		f77
    dtanh	     D      Hyperbolic Tangent		f77	D
    
    lge		     H  Lexically Greater Than or Equal f77	H, H
    lgt		     H  Lexically Greater Than		f77	H, H
    lle		     H  Lexically Less Than or Equal	f77	H, H
    llt		     H  Lexically Less Than		f77	H, H
    
    btest	     L	    Test Bit			f90	I, I
    iand	     I      Binary And			f90	I, I
    ibclr	     I      Clear Bit			f90	I, I
    ibits	     I      Extract Bits		f90	I, I, I
    ibset	     I      Clear Bit			f90	I, I
    ieor	     I      Binary Exclusive Or		f90	I, I
    ior		     I      Binary Or			f90	I, I
    ishft	     I      Binary shift		f90	I, I
    ishftc	     I      Binary shift circular	f90	I, I
    not		     I      Binary inverse		f90	I
    
    
    modulo	     G      Remaindering		f90
    ceiling	     G      Round Up			f90
    floor	     G      Round Down			f90

 


        Additional intrinsics defined in the Fortran standards (most introduced
    in Fortran90 or later) which are not implicitly recognized by fscan include
    the following.



 character functions
	h = achar(i) - character ascii i
	h = adjustl(h) - leading blanks suppressed
	h = adjustr(h) - trailing blanks suppressed
	i = iachar(h)  - ascii for char h
	h = repeat(h, n) - concatinates self n times
	i = scan(h, h, [l]) - position in h1 of any member of
		h2; if l then rightmost
	h = trim(h) - deletes blanks
	i = verify(h, h, [l]) - position in h1 of char not in h2
	i = len_trim(h) - length with trailing blanks trimmed
	len, index are in f77
 kind functions
	kind(x)
	selected_int_kind(r)
	selected_real_kind(p, r)
 logical
	l = logical(l, kind)
 numerical inquiry
	i = digits(x) = number of significant digits
	r = epsilon(x)
	huge(x)
	maxexponent
	minexponent
	precision
	radix, range, tiny
 bit inquiry
	bit_size(i) - number of bits in i
 bit manipulation
	l = btest(i, pos)
	i = iand(i, i)
	i = ibclr(i, pos)
	i = ibits(i, pos, len)
	i = ibset(i, pos)
	i = ieor(i, i)
	i = ior(i, i)
	i = ishift(i, n)
	i = ishiftc(i, n, [size])
	i = not(i)
 transfer
	transfer(source, mould, [size])
 floating point inquiry
	exponent(x)
	fraction(x)
	nearest(x, s)
	rrspacing(x)
	scale(x, i)
	set_exponent(x, i)
	spacing(x)
 vector/matrix
	dot_product(v, v), matmul(a, b)
 array
	l = all(mask, [dim])
	l = any(mask, [dim])
	i = count(mask, [dim])
	x = maxval(a, [dim], [mask])
	x = minval(a, [dim], [mask])
	x = product(a, [dim], [mask])
	x = sum(a, [dim], [mask])
 array inquiry
	l = allocated(p)
	i | iv = lbound(a, [dim])
	iv = shape(v)
	iv = size(a, [dim])
	i | iv = ubound(a, [dim])
 array construct
	a = merge(source, source, mask)
	v = pack(a, mask, [v])
	a = spread(source, dim, n)
	v = unpack(v, m, a)
	a = reshape(source, shape, [pad], [order])
 array manipulation
	a = cshift(a, s, [dim])
	a = eoshift(a, s, [b], [dim])
 array location
	i = maxloc(a, [mask])
	i = minloc(a, [mask])
 pointer inquiry
	l = assosciated(p)
 Time
	call date_and_time(h*8 date, h*10 time, h*5 zone,
		i(8) values)
	call system_clock(icount, irate, imax)
 bit copy
	call mvbits(from, frompos, to, topos)
 random
	call random_number(harvest)
	call random_seed([size] | [put] | [get])


    
    
</Text>
</Topic>
<Topic>linux<Text>

	Miscellaneous linux issues

@@su

	The linux instance (and other unix variations) of SimExec programs
    often need super user authority in order to perform their intended
    functions. In order to have this the executable files must be installed on
    a system disk, their owner must be the superuser (that is "root") and
    the "s" bit of their file permission setting must be set.

	Many file move, copy or modify operations will change the file owner
    to the current user, and more will clear the "s" bit. This will cause
    the programs to stop working correctly when any of these operations are
    performed.

	There is a command file named setsu.cmd supplied with the SimExec bin
    directory to set the ownership and permissions as needed on the
    relevant executables. In order to use it perform the comamnd
    "source setsu.cmd" from a super user shell in the SimExec bin directory.


@@msgnmi

System V IPC defined three tunable message queue parameters follows:

1.msgmni: The number of IPC message queue resources allowed.
2.msgmnb: The maximun size of queue.
3.msgmax: The maximum size of the messages in a queue.

The applicability and defaults vary on various successor unix and unix like
systems.

	On Linux, communication between executive programs and isd, s3serv,
    and others uses an inter-process communication mechanism known as
    "message operations". There is a system configuration parameter (msgmni)
    which defines the maximum of message queues which may be concurrently
    active on system. When it is exceeded then executive initialization and
    client program connection attempts will fail with because they can not
    create the message queues they need. Unfortunately, the default value of
    this parameter on many linux distributions is very low (16). This needs
    to be addressed by defining a larger value to this parameter. This requires
    adding a line of the form

kernel.msgmni = &lt;integer&gt;

    with a larger value to the file "/etc/sysctl.conf". A value of a few hundred
    is appropriate. The value supplied will be applied each time the system
    is rebooted. This parameter can also be reset without rebooting, see
    "man sysctl" for how.

	There are additional parameters controled by the same mechanism which
    effect these message operations, and the creation of the shared memory
    segments used for sharing global common partitions in the real time
    system and may need to be adjusted. Default settings have usually been
    sufficient in recent experience for these.


msgmax

	On linux CentOS kernel 3.10 the default for msgmax is only 8192 bytes
    (one eigth of waht it was on previous releases). Therefore this parameter
    will also need update. That is:

kernel.msgmax=65536
 
msgmnb

	May also need increase.



	Similar parameters limit the use of shared memory segments

shmall			total amount of memory (in bytes) that can be used on
		the system at any given point

shmax			largest shared memory segment size allowed

shmmni			maximum number of shared memory segments for system


</Text>
</Topic>
<Topic>lld<Text>
	LLD SUMMARY

lld command line options
	-c	delete working files
	-f	compile inconsistent modules to be loaded
	-F	compile all modules to be loaded
	-i	set IOK 
	-k	leave (keep) working files
	-s &lt;path&gt; select command file
	-t	set load trace

lld command summary:

	What to build commands

AR &lt;module name&gt;		collect object archive. Will collect an
				object file library or archive containing
				the specified module and, recursively, other
				modules which it calls.

DESignate &lt;name&gt;,&lt;execno&gt;	select real time executive. Begins configuration
				of a real time executive.

DLL &lt;name&gt;,&lt;root&gt;,&lt;execno&gt;	configure dynamic load. Begins configuration of
				a dynamic link library which may be loaded
				on demand by a root iexec. (Windows only).

DLL &lt;globalid&gt;			builds dll suitable to define external global.

EXEcutive &lt;name&gt;[,&lt;execno&gt;]	select executive. Begins configuration of an
				interactive executive load.

ROOT &lt;name&gt;			select root interactive executive. Begins
				configuration of an interactive executive with
				provisions for additional dll attachment.

	Global configuration commands

CONst &lt;global list&gt;		configure constant global(s)
EXClude &lt;global list&gt;		exclude global(s)
EXTERNal &lt;global&gt;		configure external global
GLObal &lt;global list&gt;		configure global(s)
IMPORT &lt;global list&gt;		configure external alias global
INItialize &lt;global list&gt;	configure shared initialization
LOCal				set no-share environment (iexec only).
LOCal &lt;global list&gt;		configure local global(s)
SHAre &lt;global list&gt;		configure sharable global(s)
SHAre 				set sharable globals environment
SHAre PRIVATE			configure private globals sharable
RESET &lt;global list&gt;		explicit reset selection
NORESET &lt;global list&gt;		explicit reset exclusion
SNAP &lt;global list&gt;		explicit snapshot selection
NOSNAP &lt;global list&gt;		explicit snapshot exclusion
VARIABLE &lt;global list&gt;		clear CONST
EXCHANGE &lt;global name&gt; &lt;global name&gt;
EXPORT &lt;global list&gt;
INDIRECT &lt;global list&gt;

		   lld defaults to including all normal globals defined in the
		uds and no ods defined globals except global99 (for executive
		interface). Aliased globals defined in the uds must be
		explicitly configured.
		   Global configuration commands (CONST, EXCLUDE, GLOBAL,
		INITIALIZE, LOCAL, SHARE, etc) each accept lists of globals or
		the keyword ODS to configure and select default options for
		all ods globals.
		   The CONST flag is set by default on global partitions with
		VCOPT field 'C' in the mdd.
		   When specifying explicit configuration settings for UDS
		level global partitions they must be identified by applying
		a suffix consisting of underscore, followed by the uds name to
		the global partition name.

DLL &lt;global&gt;			builds dll defining external global (Windows)

	Input/Output control commands

CLOse				close listing file
OPEn &lt;file name&gt;		open listing file
SELect &lt;file name&gt;		select command file
TRAce				select load trace
HELP				view option and command summary

	Settings and environment commands

DSP &lt;path&gt;			set MSVC6 project template file
VCPROJ &lt;path&gt;			set MSVC.net project template file
VCXPROJ &lt;path&gt;			newer forms MSVC.net project template file
EXOption &lt;string&gt;		option string to pass to executive
FIXi [&lt;int&gt;]			compile inconsistent modules
IOK				load with inconsistent module(s)
LINKOPtion &lt;string&gt;		addition linker options for link phase
LDOption &lt;string&gt;		addition c options for link phase
LIBrary &lt;path&gt;			override of S3_EXEC location
USEer &lt;user name&gt;		select alternate uds system

	Load configuration commands

THREAD [&lt;exec options&gt;]		configure local thread

LOAd &lt;module name&gt;,&lt;rate&gt;,&lt;group&gt;[,&lt;flags&gt;]	configure module
&lt;module&gt; &lt;flags&gt; &lt;frames list&gt;	alternate form for load command

	&lt;flags&gt; :: ALL, F	execute in Freeze and in Run
		FREEZE		execute in Freeze
		RUN		execute in Run
		NOFLAG, IN	no action
		OUT		place module initially out
		FRAMESTART	execute at start of every frame
		FRAMEEND	execute at end of every frame
		SNAPSHOT	execute on snapshot
		RESETP		execute prior to start of reset
		RESETS		execute on start of reset
		RESETC		execute on completion of reset
		NOFRAME		execute on non-frame event
		INIT		execute on initialization
		TERM		execute on exit
		SYNC		module replaces the iexec frame start logic
		STOP		module called during status STOP
		EXCEPTION	module called by executive trap handler
		CTRLC		module called by CTRL-C handler


	Completion

END				link executive
EXIT				done
GO				link and activate iexec






environment variables

S3_EXEC			path for executive object library
S3_MSTG			path for mstG.lib (mst defined shared globals)
S3_NSO			non-shared environment
S3_OLIST		use object file list (avoid creating libraries)
S3_CL			compiler name to link phase
S3_LD			additional arguments to c compiler for link (LDOption)
S3_LINK			additional arguments to link phase (LINKOption)
LLD_SELECT		alternate directory for select
LLD_ON_DES		command file for implicit select on DESignate command
LLD_ON_EXE		command file for implicit select on EXEcutive command
S3_SELECT		additional alternate directory for select
S3_MSTG			path for mstG.lib (mst defined shared globals)
S3_NSO			non-shared environment
S3_OLIST		use object file list (avoid creating libraries)
S3_SHAREPRIVATE		sharable dll for locally defined globals
S3_DSP_TEMPLATE		template for visual studio 6 project file
S3_VCPROJ_TEMPLATE	template for visual studio 7x, 8x project file
S3_VCXPROJ_TEMPLATE	template for newer form visual studio project file
S3_STDCALL		Win32 use __stdcall convention, default 1
S3_SHARE_BASE
S3_SEGSIZE
S3_DEFCASE		default: upper on Windows, lower on linux
LLD_XREF		c - control modules; a - all; default - none







9.	LLD - Linker/Loader

	    The lld program builds executive tasks configured with modules
	configured by the user. lld may be executed interactively but a command
	file script is usually used. A point and click interface for lld is
	included in s3if.

9.0	Introduction

	    lld is used to configure data partitions and simulation code into
	an executable task which we call an executive. Input commands define
	which type of executive to build, give it a name, select global
	partition configuration, select what simulation routines to load, and
	how to schedule them, and determine a few other options for configuring
	an executive task. lld collects the appropriate set of objects needed
	for the executive, creates a C source file defining the executive
	configuration, and invokes the C compiler, and through it the linker,
	to build an executive.


		Executive types


	    There are two basic types of executive tasks which lld may create,
	plus two additional varieties.


	- Rtexec - The real time executive hosts model programs to be executed
		in a system of coordinated programs which share memory and are
		controlled by the Master Synchronization Task (MST) program.
		A simulation model system may be split into multiple rtexecs
		and additional programs my directly access simulation data
		residing in shared memory partitions. Creation and configuration
		of an rtexec is initiated by the lld "designate" command.

	- Iexec - The interactive executive executes as an independent task 
		rather than under MST control. It normally does not share
		simulation data memory partitions. The interactive executive
		is highly flexible and can be configured appropriately for use
		in a variety of ways. Its configuration defaults are appropriate
		to its use as an environment for isolated test of models
		destined to executive under MST - rtexec. Creation and
		configuration of an iexec is initiated by the lld "exec"
		command.

	- Root iexec - (Windows only) - A root executive is an instance of the
		interactive executive which is configured to accept additional
		separately linked simulation load spaces. These may be attached
		to the root iexec either during initialization or on demand.
		Creation and configuration of a root iexec is initiated by the
		lld "root" command.

	- dll - (Windows only) a dll created by lld configures a set of modules
		to be attached (either during initialization of on demand) and
		executed in a separate thread of control in a root iexec.
		Creation and configuration of a dll is initiated by the
		lld "dll" command.


		Global configuration

	    A series of lld commands specify which global common partitions are
	configured into the executive and set options relating to how they are
	treated.

	    By default lld includes all non-aliased global partitions defined
	in the user development system (UDS) level MDD in each executive
	configuration. It also implictly includes "global99", which is reserved
	for executive system data, from the official development system (ODS). 
	Additional ODS defined data partitions must be explicitly configured.

	    Aliased globals definitions are indicated in their root point
	MDD definition by the word "Alias" in the ".unit" field. They are
	treated differently from other partitions in a variety of ways in order
	to provide compatibility with fortran codes developed outside the
	system. 

	    On Windows systems shared globals are located in dll files, and
	this must be configured at module compile rather than entirely in
	the link phase. Non-sharable compilation mode may be used with iexec
	only, and produces more efficient code. Specific partitions may be
	marked as always non-sharable by placing "Noshare" in the ".unit"
	field of the root point.

	    The global partition configuration commands accept lists of global
	names. The keywords "ods" and "uds" are also recognized as
	specifying all partitions defined at the corresponding level.





LLD global configuration commands

    CONSTANT
	Mark as containing constants, will exclude from iexec default snapshot
	and reset operations. 

    EXCLUDE
	Exclude from the executive configuration.

    GLOBAL
	Include in the executive configuration.

    INITIALIZE
	Mark for extra initialization actions. Will inform the executive to 
	initialize an an rtexec shared partition on executive initialization
	(normally not performed as deferred to mst), and to re-initialize
	(to default initial values) on iexec reset.

    LOCAL
	Mark as not shared, that is local to the executive. Will exclude from
	iexec default snapshot and reset operations.

    SHARE
	Configure as to be shared in rtexec, root and dll executives.

    VARIABLE
	Clear constant marking, will include in iexec default snapshot and reset
	operations. 

    RESET
    NORESET
    SNAP
    NOSNAP
	Will explicitly request inclusion or exclusion in iexec snapshot or
	reset operations (overriding defaults implied by other global
	configuration commands).


    EXTERNAL
	(linux)
		Will configure partition to be shared by iexec.
	(windows)
		Will inform lld that global will be defined to the linker by
		user provided load commands.

    EXPORT
	(windows)
		Will configure local partition as sharable.

    IMPORT
	&lt;windows&gt;
		To configure an alias global partition as imported from a dll

    INDIRECT
	(windows)
		Will configure indirect partition.

    EXCHANGE
	(linux)
		Will exchange 2 global names.




</Text>
</Topic>
<Topic>lmdd<Text>
	/LMDD - List Point Data command

	    The /lmdd directive lists information on points in the MDD.

	Syntax:

	/LMDD [&lt;ptid&gt;] [,&lt;type&gt;] [,sys,&lt;sys&gt;] [,&lt;globalid&gt;]
		[,&lt;ord&gt;] [,@&lt;fieldname&gt;] [,&lt;form&gt;] [,&lt;xrf&gt;] [,&lt;level&gt;] 
		[,&lt;ic&gt;] [,map] [,succ] [,tree] [&lt;restrict&gt;]


Point selection arguemts

    &lt;ptid&gt;

		    Is a symbol name or wild card symbol specification.
		Symbol names may be up to 31 characters long. Question mark
		characters (?) for single wild card character, and asterisk
		(*) for wild string may be used to select groups by partial
		names. The symbol name may be enclosed in quotation marks
		(this allows specific listing of names that conflict with the
		DBM command keywords).
		    The default is to list all points.
		    When standing alone, the symbol name indicates the point
		or points to be listed. When followed by the keyword SUCC, the
		symbol name indicates the point whose immediate successors are
		to be listed. When followed by the keyword TREE, the symbol
		name indicates the point whose successors (at all levels) are
		listed.
		    May be repeated to request listing data for multiple
		points or wild card groups (one after another in the order
		entered).


    SYS=&lt;sys&gt;

		    Is the alphanumeric system ID (2 to 4 characters). When
		specified, ony points with the specified system are listed.


    &lt;globalid&gt;

		    Specifies the global partition whose points are to be
		listed. The partition is specified as global&lt;specific_id&gt;.

    &lt;globalid&gt; + 0x&lt;hex offset&gt;

		    Specifies search for and listing of the successor point
		or points occupying the specified location.

    BYTYPE
		    Selects points by TDB type name. That is: &lt;ptid&gt; specified
		is a TDB type name, produce a listing of points of that type.


    BYMODULE
		    Selects points by module name. That is: &lt;ptid&gt; specified
		is an MSF module name, produce a listing of points referenced
		by that module.


  Type specifiers

	    These options limit the symbol type to list. Valid type specifiers
	are as follows:

    M
		macro - Lists only points which declare an FSCAN macro routine.

    P		parameter - Lists only those points defined as parameters.

    data	This option acts differently when applied to a normal lmdd
		listing or to an lmdd ic listing. When applied to a listing
		request without IC information it will result in parameter and
		temp points being excluded from the listed output. When applied
		to an lmdd ic data listing, it option will result in output
		with a single value per line and no identification.

    V	 - Limit selection to variable data partitions

    C	 - Limit selection to constant data partitions


  Level selection

    U
		- List only symbols found in the user level MDD.
    O
		- List only symbols found in the ODS level MDD.

    UO
		- Lists points from amended MDD (default). An amended MDD
		consists of all points from the user and ODS level MDD, where
		only the user level information is printed for points defined
		at both levels.

    U+O
		- Lists both user and ODS level MDD points.

    U-O
		- Lists points that exist on user level but not on ODS level.



  Cross Reference selection

    NR
		- List points that do not have any cross-reference information.

    XO
		- List points whose cross-reference includes modules, whose
		system ID is different from the point (e.g. interface points).

    NOSTORE
		- List those points that are referenced by at least one module
		but have no cross reference entry indicating stored to (points
		that may be used but never assigned a value) except by dfglob.

    MULTISTORE
		- List those points that are stored to by more than one module,
		excluding dfglob blockdata modules.



  Selection by modification time

    DATE&lt;relational operator&gt;&lt;date time&gt;

		    MDD point listing may be selected by the last modification
		date and time. This is specified by the key word DATE, followed
		(immediately) by the relational operator less than ("&lt;") or
		greater than ("&gt;") and a numeric date time. The date time must
		be entered as a string of 2 to 10 digits, where
			1st two digits are year (90-99 for 1990 to 1999,
				00-xx for 2000 to date)
			next two digits (3rd,4th) are month (01 to 12)
			next two digits (5th,6th) are day of month (01 to 31)
			next two digits (7th,8th) are hour of day (00 to 23)
			next two digits (9th,10th) are minute of hour (00 to 59)

		    That is

			YYMMDDHHMM

				shortened in accord with desired degree of
				specificness.
			


  Selection by Long Description field contents

    @fieldname (&lt;wild card value&gt;)
	or 
    @fieldname = (&lt;wild card value&gt;)

		    may be used to restrict the listing to points containing
		the named field in the long description matching the defined
		value.

    -@fieldname (&lt;wild card value&gt;)

		     A leading minus sign may be used to restrict the listing
		to points without the named field matching the defined value.



  Alternate User Development system

	UDS=&lt;uds name&gt;

		    When specified the list operation will be performed
		under the specified alternate user development system.


  Order Specifiers

	    These optional arguments specifiy the listing order.

	ALPHA	alphabetical ordering of the listing. This is the default order.

	REL 	relative, by address, ordering of the listing.

	Forward - points at the same level in the MDD structure as the point
		named be listed in ascending address order.

	Reverse - points at the same level in the MDD structure as the point
		named will listed in descending address order.

  Format Specifiers

	S	 - Short Format. Contains two lines of point information,
		including everything specified in the /add command, except the
		full description. The short format also a user/ODS indicator,
		global partition name and code, and global address.
		    This is the default format.

	L 	- Long Format. Contains the short format plus the full
		description of the point and the date added or last modified.

	F	- Full Format. Includes the long format plus pointer
		information established internally by DBM. Will also append
		a list of equivalent points.

	W	- Wide Format. Contains the same information as the short
		format, but formatted into one 132 character line.

	I	- Input Format. Contains the point information in select file
		input format with /cmd as the command directive. The command
		may be specified by one of the following:

		==&gt;	ADD	/add
		==&gt;	MOD	/mod
		==&gt;	DEL	/del

		    When specified with intial condition listing option, the
		point information is suppressed, IC data is listing in the form
		of ISD set commands.


	Bare	- list point names only, one per line.

	XML	- format all listing information in simple xml style. Xml
		formatting is also applied for any additional data requested.

	FORM=&lt;integer&gt;

		    Some additional listing formats are specified by number.
		These are principly for internal use. This includes the
		following.

		form=6

			"Jade" form - form feed separated fields.


Additional Data Listing Specifiers


  Cross Reference Listing

    X	
		- List the names of modules that reference the selected point.

    SEQU[ + * E S]

		    List source code sections of modules that reference the
		selected point. The sequ process will accept fscan, cscan, and
		block data modules. It has FORTRAN language specific logic to
		recognize and include complete Fortran statements and relevant
		block structure statements. Equivalent syntax specific logic
		is not implemented for cscan formats.

		Character options may be appended to the SEQU keyword.
	+
		    Include references under equivalenced or "alias" names.
	*
		    Restrict to files where the point is set.
	E or S
		    Include full equation sections.

		    An extended explanation of these options may be found
		by requesting "/HELP SEQU".
		    


    H	 
		    (History) - supplement the point listing(s) with a history
		of the revisions made to the ODS definition of each point.
		    This is performed by searching the mdd_merge_log file.


   Initial Condition Data Listing

	UIC,&lt;nn&gt;[,&lt;nn&gt;] or
	OIC,&lt;nn&gt;[,&lt;nn&gt;] or
	IC&lt;nn&gt;

	UIC
		- Specifies that user IC file data is to be listed.

	OIC
		- Specifies that ODS IC file data is to be listed.

	IC
		- Specifies that amended IC file data is to be listed.

	&lt;integer&gt;
		- Provides the IC number, or range of IC numbers, whose data
		is to be listed. 

	B
		- The keyword "B" may be used to request data from backtrack
		instead of initial condition files.

	DELta=&lt;integer&gt; or
	DELta=&lt;real&gt;

		   Is to select listing showing where the values in 2 ics
		differ. Data values from 2 ic sets are compared and the listing
		will show only points where the values differ. A floating
		point value specifies a deadband ratio. An integer specifies
		an equivalent ratio as percent. This ratio is multiplied by
		the average of the absolute values of the 2 ic values.

	ICCAT=&lt;letter&gt;

		   Listing of ic data from IC files with the more general
		naming convention of a letter followed by 3 or more digits
		may be selected by the ICCAT argument.

	ICNZ

		    The keyword ICNZ, when combined with a request for IC data
		listing will suppress data lines for values of zero.

	LEAF

		    The keword LEAF, when combined with a request for IC data
		listing will restrict the listing to points which have no
		successor points.

	&lt;ptid&gt;(&lt;offset range list&gt;)

		    An array offset range list may be included when entering
		specific point names to lmdd. It is ignored except in
		combination with ic data specifiers and the "LIST" option, in
		which case it will restrict the data listing to the requested
		range.

	    The LMDD initial condition listing features support the numbered
	ic sets. That is those named i000 to i999 for normal snapshot initial
	conditions and b000 to b999 for backtrack initial condition sets. In
	addition ic number -1 may be requested to display data from the default
	global data image files. Initial condition sets outside the numeric
	convention are not supported by lmdd.
	
    Initial condition data format

	    The default for initial condition data listing is a tabular 
	form.

	I    -	The format option "I" overrides the ic data listing format to
		SET or assignment commands compatible with isd. It also
		suppresses the non-ic data portion of the point listing.

	LIST -	The option "LIST" formats ic data in the condensed set-list
		assignment statement. Combine with "I" to suppress the point
		definition portion of the listing.

	DATA -	The option "DATA" (may also be combined with "I") formats ic
		data in a bare one item per line form.

	SWAP -	The option "SWAP" is odd special for listing data from initial
		condition files copied in binary form from a computer with
		opposite endianness to that being used.

	+    -	A plus sign ("+") as an additional argument requests extended
		precision format for ic data values (6 additional places).
		In the absence of IC data arguments the "+" option specifies
		inclusion of a list of equivalent points.

	HEX  -  This option will dump ic data in hexadecimal format, instead
		of using a format appropriate to the data type.



    Equivalences

	+

		A listing of point equivalences is always included with the 'F' 
	    ("FULL") format listing, and is included when the "+" suffix is
	    used with SEQU. The optional argument "+" will append this
	    information to any of the other format listings except when IC
	    data listing is also requested. When IC data is requested the +
	    option instructs dbm to include extended precision on floating
	    point values.

    No result notification

	^

		A caret sign ("^") in the lmdd argument list will initiate
	    a "not found" (rather than no output) when no mdd points matching
	    the requested setting are found.

    MAP

		    Specifies that a successor's address bit map similar to
		that produced by the DBM /map command should be produced.


   Redirection

	    By default the LMDD listing will be displayed at the standard
	output of dbm with page continuation logic. The page continuation
	assumed page size can be adjusted with the dbm "MORE" command.

	    The listing may be redirected to a file by the dbm print or open
	commands.

	    The optional argument pound sign ("#") will override the
	redirection to a file opened by the dbm print or open command.

	    The optional argument PRINT will direct the lmdd process to open a
	print file for the listing, and on completion, send it to the printer.



Examples: 

/lmdd

	All points in the amended Master Data Dictionary will be listed.

/lmdd *,p

	All symbols in the amended Master Data Dictionary defined as being 
	parameters will be listed.

/lmdd *,sys=fw,l

	All symbols in the amended Master Data Dictionary that have been
	defined as belonging to the system fw (typically feedwater) will be
	listed in long format.

/lmdd fw:*,sequ,u

	All symbols in the user level Master Data Dictionary that start with
	"fw:" will be listed. For each of the points listed, the modules that
	reference the point and the applicable source code lines will also be 
	listed.


</Text>
</Topic>
<Topic>lmsf<Text>
 The LMSF command lists information from the Module Specification File.

LMSF Module Selection arguments:

	&lt;name&gt;	- module name or wild card name specification

	&lt;module type&gt;
		- restricts the module listing to modules of the specified
		type, where type codes are as follows.
			EXECUTIVE, CONTROL, SEGMENT, COMPONENT, SUBROUTINE,
			BLOCKDATA, GENERIC, LIBRARY, INTRINSIC, TEXT, PACKAGE,
			MODULE
		- only one type may be specified, if multiple type arguments are
		used the last will override.

	&lt;level&gt; - development system level:
		- U	- list only User development system level modules.
		- O	- list only Official development system level modules.
		- UO	- Amended system - (default) list modules from both
			levels, when a given module is present at both levels
			only the UDS level is listed.
		- U+O	- list modules at both levels
		- U-O	- only list UDS level modules for which no ODS level
			version is defined.
		- U&amp;O	- only list UDS level modules for which an ODS level
			version also exists.

	&lt;consistency&gt; - when specified restricts listing to modules matching
			the specified consistency state
		CONSISTENT
		INCONSISTENT

	&lt;system id&gt; - when specified the module list selection is restricted
			to modules with the specified system id
		SYS=&lt;id&gt; - where &lt;id&gt; is 2 to 4 alphanumeric characters.

LMSF Format or action arguments:

 	The Lmsf process uses a numeric format or action specifier, there are
    quite a few selections, most of the frequently useful selections have a
    nmemonic selector, some (mostly special purpose) must be selected by number.

	S (1)	- short form
		include module name, level, generic (when applicable), function
		return type (when applicable), module type, consistency, flags,
		description.

	L (2)	- long form
		supplements short form with module date stamps (included,
		modified,  compiled), note field, argument list descriptor,
		and package name (all as applicable).

	X (3)	- cross reference - adds list of modules which call the module
		being listed.

	V (5,8)	- variables (mdd) - adds list of variables referenced by listed
		module.

	I or INCLUDE (6)	- input - lists modules in the
		form of dbm include commands; includes argument list
		and cds definitions as applicable.

	C (7)	- calls - list of modules which are called by the module being
		listed.

	F (9)	- full - combines 2,3,7,8 and 14

	COMPILE or SUBMIT (13)	- compile module. Will perform fscan, cscan,
		dfglob, or lld, as applicable, to re-compile each selected
		module.

	H (14)		- history listing: Normally applicable only to ODS
			level modules.  If Source Safe integration is active
			then the Source Safe history will be extracted to the
			listing. If Source Safe integrtion is not active then
			the merge history of the subject module will be
			extracted from the msf merge log file.

	DIFF (15)	- difference listing

	SEQU (23)	- source equation - module cross reference (i.e. modules
		which call that being listed) is supplemented with appropriate
		source fragments.

	MOD  (18)	- module call tree structure - produces a single line
		listing followed recursively by a similar indented list of the
		modules it calls; thereby showing the call tree structure.

	XML		- will request that the output be produced in a
			simplified xml format. The base XML format include most
			information from the MSF entry and will override most
			other format specifiers. Where appropriate, xml may be
			specified in combination with other formats to include
			additional information.

	    The following formats are relatively obscure, for special purposes
	or obsolete.

	4		- interactive
	JCL (10)	- JCL
	51, 52		- for java interface
	53		- list note field and module name iff note has content
	54		- list source file name (bare)
	55		- list source relative path (bare)
	56		- list source full path (bare)
	57		- full path name followed by source content
	10, 11, 12	- minor variations on compile
	100, 101	- bare name, bare name with tab
	103, 107, 108, 114, 115 - like X, C, V, H, DIFF, respectively,but
			without leading short form listing.


LMSF Other arguments:

	UDS=&lt;uds id&gt;	- when specified the list action will be performed
		against the specified (alternate) user development system.

	#	- forces output to standard output (i.e. overrides active
		listed output file).

	PRINT	- sends output to print file.

	U.&lt;name&gt;
	O.&lt;name&gt; - a level specifier followed by period may be supplied as a
		prefix to the module name specification.

	(&lt;name&gt;) - a name specification may be enclosed in parentheses.

	D=&lt;reference data id specification&gt; - to list reference data usage,
		see help reftab.

	/mark -	Each module listed will be marked inconsistent.

LMSF notes:

	When a print file is active (per dbm "OPEN" or "PRINT" commands) the
	module listing will normally be sent to the selected file and not to
	the standard output. This may be overridden by the pound sign argument.



	Flags:	O cdf
		U cdf
		cscan
		cpp
		wrap
		CheckedOut
		rtexec
		root
		dll

</Text>
</Topic>
<Topic>mbin<Text>
	A group free, extra, unsupported utility programs may be provided in
    directory "mbin". Their usefulness may be marginal.

	aexpr.exe
		aexpr provides an instance of arithmetic expression evaluation 
	    as a standalone calculator implementing syntax as recognized by
	    the isd drive command and some other SimExec functions.

	byacc.exe/byacc19
		byacc is a free, unrestricted, version of the classic unix
	    "yet another compiler compiler" as used for implementation of
	    dbm, dfglob, fscan, isd and lld.

	flex.exe/flex254a
		flex is a free, unrestricted, version of the classic unix
	    "lexical analyser" as used for implementation of dbm, dfglob,
	    fscan, isd and lld.

	concord.exe
		concord is a source file concordence and reference search
	    program. Activation with no arguments will produce a very terse
	    summary of its use.

	deluando.cmd
		Command script using dbm, makesense and cleanit.

	cleanit.exe
	makesense.exe
		Programs used by deluando.cmd

	ddum.exe
		ddum is a file dump program. Arguments as follows:
		1st - file name, required
		2nd - start location (optional)
		3rd - type/format selection codes
			a - ascii
			c - char (decimal)
			d - double
			f - float
			i - int
			s - short
			x - hexadecimal
	err.exe
		err provides descriptions for recognized Windows numeric error
	    codes.

	giidemo.exe
		giidemo demonstrates gii subroutines.

	lmddicmp.exe
		Compares 2 or more lmdd form i alphanumeric order files to
	    identify commonality and differences.

	mpichk.exe
		Collects reference data for rtexecs to identify interface
	    variables which may be subject to timing concern.

	run.exe
		Executes Windows command window command.

	SimView.exe
		OpenSim monitor and trend program (uses dirserver, dbaserver,
	    and gdaserver).
	CommonLib.dll
		Required by SimView.exe

	SqlPatch.exe
		SqlPatch can connect to an ODBC database and apply SQL patches.

	stacker.exe
		stacker concatenates a series of text files into a single text
	    text file. Activation with no arguments will produce a very terse
	    summary of its use.

	te.exe
		Version of common unix utility "tee" for Windows.

	xbin.exe
		xbin will read a series of object library files and produce
	    output files "dups", "defs", and "calls" listing duplicate
	    definitions, definitions, and external references found in them.
</Text>
</Topic>
<Topic>priority<Text>
Microsoft Windows does not provide a way to set priority as a simple single
integer. Instead, it has separate process and thread priorities, which translate
(with duplications, and voids) to an underlying priority value in the range
1 to 31. The process priority setting always applies to all threads within the
process. Time sharing priority migration logic applies to all priorities except
real time. Threads in tasks with normal priority (usually) receive a two
priority boost when they have the window focus (background 5-9, foreground
7-11). There are a variety of minor differences in defaults for different
editions of windows, and of system settings which effect scheduling. There is
a user permission setting required for using real time priorities which
in many cases defaults to off. When real time priority is requested but denied
the task will receive high priority. When this occurs in a SimExec executive
or mst task it will print a message as warning, and then continue.

The SimExec executive "-n &lt;integer&gt;" option to set the task or thread priority
maps the single integer value accepted as follows. (Numbers outside the range
1 to 31 are ignored with message.)


	1	treated same as 2
	2	idle priority class, thread priority lowest
	3	idle priority class, thread priority below normal
	4	idle priority class, thread priority normal
	5	idle priority class, thread priority above normal
	6	idle priority class, thread priority highest
	7	normal priority class, thread priority normal
	8	normal priority class, thread priority above normal
	9	normal priority class, thread priority highest
	10	normal priority class, thread priority highest (same as 9)
	11	high priority class, thread priority lowest
	12	high priority class, thread priority below normal
	13	high priority class, thread priority normal
	14	high priority class, thread priority above normal
	15	high priority class, thread priority highest
	16	real time priority class, thread priority idle
	17-21	same as 16
	22	real time priority class, thread priority lowest
	23	real time priority class, thread priority below normal
	24	real time priority class, thread priority normal
	25	real time priority class, thread priority above normal
	26	real time priority class, thread priority highest
	27-30	same as 26
	31	real time priority class, thread priority time critical

</Text>
</Topic>
<Topic>shuffle<Text>
automatic ic shuffle facility.

    The automated ic shuffle logic bases its activity on the mdd
modification log.  This log is always maintained for ods points.
For UDS points, it is off by default, but may be enabled by providing
an environmental value for S3_UMDD_LOG. A time stamp is recorded in
each ic file which contains the date/time that the load which created
the ic was built. On reset iexec or mst will apply ic shuffle
operations corresponding to mdd modifications actions performed between
the load time stamp in the ic file to the current load time.i
    It is also possible, but not usually necessary, to explicitly
perform the ic updates to the current mdd state through the dbm
command:

	"/IC SHUFFLE &lt;icsets&gt;"

	where:
	    &lt;icsets&gt; ::= [ UIC | OIC] &lt;ic number range&gt;
	    &lt;ic number range&gt; ::= &lt;first ic number&gt; &lt;last ic number&gt;

    The dbm "/IC SHUFFLE" command requires use of the 1 file per ic
(rather than a file for each partition) option. This is set by
environmental setting "S3_CIC=1".

    The automatic ic shuffle activity defaults to enabled in mst and
iexec, and to OFF in rtexec. This can be overridden by the following:

	    Trainer configuration file command "icshuffle,0" will disable the
	mst ic shuffle.

	    Executive option "-F icshuffle" will enable ic shuffle actions
	performed by iexec or rtexec.

	    Executive option "-F noicshuffle" will disable ic shuffle actions
	performed by iexec or rtexec.

	    Online value of global99 variable rtflags 0x10 bit set disables the
	automatic ic shuffle activity in either mst or the executives. It is
	set or cleared if the executive option (that is "-F icshuffle" or
	"-F noicshuffle") is entered after executive initialization complete.

    The following (seldom of interest) environmental settings will
modify details of the ic shuffle process.

	"S3_ICS_MERGE=&lt;seconds&gt;"

		On reading the mdd change log the ic shuffle program will detect
		the case of a variable deleted and then re-added, and will
		merge the pair of actions into a modification record. A time
		limit, defaulting to 1 hour, is placed on this logic. That time
		limit may be shortened or lengthened by providing a this value.

	"S3_ICS_USE_DFG"

		When processing for mdd addition or expansion of arrays the
		shuffle process will default to filling the new area with
		the single value from the mdd. If a non-zero value is provided
		for this setting then the shuffle routine will, instead, read
		the default global image files (built by dftglob) and use the
		additional data from block-data files to set such values.

	The dbm command ICS performs IC shuffle operations using a different
interface and algorithm. It is, for most purposes, made obsolete by this
automated process, and collision between its use and the new process could make
a mess. For the present, it has not been deleted because it might be
appropriate in transition, and there are a few peculiar cases which it can
handle better. If it is used, a warning message is added.



* * * WARNINGS * * * 

	Data is added to the mdd_merge_log file whenever points are added or
modified in the ods mdd. In the past this data would normally accumulate
indefinitely, and was likely to show a complete history of all ods mdd edits
from MDD initialization to maintenance of a mature simulation system. This can
become a significant efficiency problem because initialization of the
automated ic shuffle procedure reads the entire file. It may be necessary to
reset this file to contain only recent data to avoid excessive time and memory
use by the automatic ic shuffle.

	Certain (usually rare) instances of mdd modification or addition may
define undesired ic shuffle operations. For example if a new successor point is
added to define an equivalent name for an existing data point, the ic shuffle
logic will see the new point definition as reason to force the mdd default value
into that location, when the location may already contain a good ic value from
its existing definition. Procedures exist to rebuild all or portions of an
mdd which force the new definitions to correspond to previous definitions.
Manual editing of the mdd_merge_log file may be needed to effect the desired
behavior in such cases.

</Text>
</Topic>
<Topic>type<Text>

    Basic types:

   i*1	Integer 1 byte (8 bit)			INTEGER*1	byte
   i*2	Integer 2 byte (16 bit, halfword)	INTEGER*2	short
   i*4	Integer 4 byte (32 bit, word)		INTEGER*4	int
   i*8	Integer 8 byte (64 bit, double word)	INTEGER*8	long long

   l*1	Logical 1 byte (8 bit)			LOGICAL*1	byte
   l*2	Logical 2 byte (16 bit, halfword)	LOGICAL*2	short
   l*4	Logical 4 byte (32 bit, word)		LOGICAL*4	int
   l*8	Logical 8 byte (64 bit, double word)	LOGICAL*8	long long

   r*4	single precision floating point		REAL*4		float 
   r*8	double precision floating point		REAL*8		double 

   c*8	single precision complex 		COMPLEX*8	_complex8 
   c*16	double precision complex 		COMPLEX*16	_complex16 

   h*&lt;length&gt;	characte			CHARACTER*&lt;length&gt;  char*

   On the include command:

   CD	c*16 - double precision complex
   G0	for generic intrinsic functions

   On msf argument list:

   H0   character, size not tracked
   S0   structure, specific type, size not tracked

The SimExec MDD also accomodates structured types and maintains a data
base for their definitions.

The Type database is separate for UDS//ODS

	That is for any UDS mdd points of structured type where the type
	definition was found at the ODS the type definition will be copied
	(extracted) to the UDS type database (TDB). In order to merge a point
	of structured type the applicable type definition must already exist
	at the ods, if it differs from the UDS definition then the point will
	change definition accordingly on the merge.


dbm&gt;/ADD TYPE &lt;typename&gt; [&lt;level&gt;] [F]
dbm&gt;/MODify  TYPE &lt;typename&gt; [&lt;level&gt;] [F]

	Will add or modify type definition at given level. (Add and Mod on
	type definitions are treated as synonymous, that is either will add a
	new definition or modify an existing definition.)

	When interactive will bring up notepad to edit.

	When in batch mode the type definition lines are to immediately follow
	on input.

    Operational detail:

	- If a type definition undergoing modification is referenced by other
	type(s) by default dbm will refuse to perform the modification; The
	operation will continue, and recursively modify appropriate outer types
	and data points when the "F" option is specified.

	- If remote UDS mode will refuse.

	- If type is referenced by MDD points will automatically modify them
	(skipped as not needed if only descriptive information is changed).


	- If MDD modification, implied by the change to the type definition,
	fails then will delete the point, if DEL also fails or process is
	interrupted might leave inconsistent result.

	- Members each have a type, name, dimensionality, units, description.

	- Member type names are limited to 16 characters. They are not allowed
	  to duplicate by case insensitive comparison.

	- Member type may be simple type (i*1...i*8, l*1...l*4, r*4, r*8,
	  C*8 C*16, H*##) or nested defined type.

	- ADD TYPE and MOD TYPE are synonyms - Either command will add type
	  definition if non-present, modify if present.

	- &lt;level&gt; U or O, default U (or O if dbm option O in effect).


dbm&gt;/DELete TYPE &lt;typename&gt; [&lt;level&gt;] [F]
	Will delete type.
	- Wildcard selection may be specified.
	- If type is referenced then by default will refuse; When option "F"
	  is selected will proceed to delete type and all MDD points, or
	  other types (recursively) as may reference it.


dbm&gt;/EXTract TYPE &lt;typename&gt; [F]
	   Will extract a type definition (or wildcard deinitions) from ODS to
	UDS. If the extracted type is already present in the UDS then its
	definition will be updated to correspond with the ODS definition. If
	the extracted type definition includes members of structured type then
	they will also be extracted if not already present in the UDS. When the
	option "F" is selected then member types will also be extracted,
	overriding existing UDS defintions.
	   Type definition extraction will also be performed implicitly as
	needed when addition or modification of UDS MDD points or type
	definitions require.

dbm&gt;/MERGE TYPE &lt;typename&gt; [F]
	   Will merge a type definition (or wildcard deinitions) from UDS to
	ODS. If the merged type is already present in the ODS then its
	definition will be updated to correspond with the UDS definition. If
	the merged type definition includes members of structured type then
	they will also be merged if not already present in the ODS. When the
	option "F" is selected then member types will also be merged,
	overriding existing ODS defintions.
	   If the merged type definition is not referenced at the UDS then it
	will be deleted from the UDS after merge.

	   As type definition(s) are not automatically deleted from the UDS
	except when merged with no current UDS references there will be a
	tendency for no longer referenced, and possibly obsolete, type
	definitions to accumulate at the UDS after the points or types using
	them have been merged. Since delete type without the "F" option will
	delete only non-referenced types the command "/DEL TYPE * U" can be
	used to clean them out. (Will consider automatic deletion of these when
	they are no longer needed, but the range of potential cases appears to
	require a relatively complicated set of rules for when to do so.)

dbm&gt;/LIST TYPE &lt;name&gt; &lt;opts&gt;
	Will list type definition(s).
	&lt;name&gt; - May be specific or wildcard, may not be absent.
	- &lt;options&gt;
		F	simplified xml format
		I	input format
		O	ODS types
		U	UDS types
		UO	amended level
		U+O	both levels
		X	include cross reference listing
		S	short form - one line per item

	form T is peculiar.

	form I will force listing of types used in member definitions of other
	types to preceed those of referencing types

The dbm ADD, MODify, MDD command input field ".TYPE" will recognize
structured types defined in the TDB. LMDD formats for data type and for ic data
are modified correspondingly. A dump of the tdb definitions is performed by the
dbm dump command.

Fscan and cscan will recognize points defined by structured types and
provide the applicable type definitions.
	- Types are not cross-referenced to modules. It might be useful to
	  be able to list such a cross reference. A minor possible inconsistency
	  introduced by this lack is that when a module references a type
	  definition but no mdd points of that type then it would not be marked
	  inconsistent on modification (or deletion) of that type.
	- In case of ODS and UDS points with same type name fscan and cscan
	  currently will declare per the 1st encountered. Each performs a
	  check for whether the definitions match and if they do not treat it
	  as an error.
	- Declaration of local usage of derived types defined in the data base
	  is recognized in fscan. A "/*type" pseudo statement is added to
	  cscan in support of similar usage.
	- Fscan reservation of the keyword "type" may cause a collision
	  problem with existing modules. fscan option -Enotype will allow such
	  modules to compile but no longer recognize the fortran TYPE statement.
	  (Option -Etype will restore default; i.e. type will be recognized as
	  a keyword, not as a variable name).
	- Fscan will accept either the percent sign ('%', as defined in fortran
	  standard) or period ('.', a common extension) as member separator;
	  the translated code presented to the compiler will use percent.
	  Structured data types as subroutine arguments or function returns
	  are specified with the type code letter 'S', argument type checking
	  on module calls is not performed for structured types.

Isd functions:

Isd can monitor, set and dump structured data members. Items may be specified
by name (i.e. member of primitive type), or by structure name which will be
expanded to members. Syntax is mixed with fortran style array subscripting (that
is using parentheses, 1 based, etc.) and using period (c style) as member
separator. (The Fortran syntax of percent sign as separator is interpreted as
the c modulo operator instead.)

Isd can set by specific member name (i.e. of simple type) per mixed syntax
(which feels natural) augmented with member selection.

Isd can set by structure name under syntax:

    &lt;structure name&gt;=&lt;valulist&gt;

	Where: &lt;valulist&gt; is comma separated list of values, each or which may
	be a simple value or an integer repeat count followed by a parenthesized
	value or list. e.g.

		If "ia10" is of a type with 10 numeric members

			ia10 = 1,2,3,5(0),9,10

		will set the 4th through 8th member zero and 1st, 2nd, 3rd,
		9th, and 10th to 1, 2, 3, 9, 10 respectively.


Isd dump and examine should work appropriately for structures and members.

Isd expression evaluator, drive, and ddm features will understand structure
members.

Dfglob can accept

	DATA &lt;structured name&gt;/&lt;value list&gt;/
		Where &lt;structured name&gt; is an MDD point or array element of
		structured type; at this time member syntax not recognized by
		dfglob in data statements.

	&lt;specific member&gt; = &lt;value&gt;
		To set individual members under syntax also recognized by isd.


S3if can monitor/trend case members; and expand case members.

</Text>
</Topic>
<Topic>vcproj<Text>


    LLD will generate a visual studio project file on building an executive,
however, in order to do so, it must have a template file for which no
default has been implemented. The location of this template file  may be
identified through either an enviroment variable default or an explicit
command within the sequence used to build an executive.

   To set a default template file add environmental setting (S3_ENV) as follows.

   If Visual Studio 6.0 is in use -

	S3_DSP_TEMPLATE=%S3BIN%\dsp.tmpl

   If Visual Studio 7.0 (Visual Studio .NET) is in use - 

	S3_VCPROJ_TEMPLATE=%S3BIN%\vcproj70.tmpl

   If Visual Studio 7.1 (Visual Studio .NET 2003) is in use - 

	S3_VCPROJ_TEMPLATE=%S3BIN%\vcproj71.tmpl

   If Visual Studio 8.0 (Visual Studio .NET 2005) is in use - 

	S3_VCPROJ_TEMPLATE=%S3BIN%\vcproj80.tmpl

	Or select from the following:

	    vcproj80.tmpl2 - sources sorted into the following tabs:
			Fscan Files
			Cscan Files
			Fortran Files
			Header Files

	    vcproj80.tmpl3 - sources sorted into tabs by module type:
			Control Modules
			Segments
			Components
			Subroutines
			Fortran Files
			Header Files

	    vcproj80.tmpl4 - Similar to tmpl2 but with UDS module sources
		collected in 1 tab, ods modules by type. That is:
			UDS Modules
			ODS Control Modules
			ODS Segments
			ODS Components
			ODS Subroutines
			Fortran Files
			Header Files

	    vcproj80.tmpl5 - Similar to tmpl4 but for use with executive loaded
		from multiple UDS s, a module sources tab is created for each
		uds, then ods modules by type. That is:
			&lt;uds id&gt; Modules - repeated for each uds used
			ODS Control Modules
			ODS Segments
			ODS Components
			ODS Subroutines
			Fortran Files
			Header Files

   If Visual Studio 9.0 or 10. (Visual Studio 2008) is in use - 

	S3_VCXPROJ_TEMPLATE=%S3BIN%\vcxproj10.tmpl2c


   Other generic templates may be available to implement other sortings, and a
custom template may be used to implement custom sorting and to include other
files. Additional template files are likely to be required for later releases
of Visual Studio; However, they usually provide a sufficient level of upward
compatibility to allow use of the older format files.


The lld command - 
	lld&gt;DSP &lt;template path&gt;
may be used to specify an alternate template file for MSVC6.0.

The lld command - 
	lld&gt;VCPROJ &lt;template path&gt;
may be used to specify an alternate template file for MSVC7.0 or 8.
The lld command - 
	lld&gt;VCXPROJ &lt;template path&gt;
may be used to specify an alternate template file for MSVC9.0 or newer.


   The simplest template files (dsp.tmpl, vcproj70.tmpl, vcproj71.tmpl, and
vcproj80.tmpl) place all sources under the single "Source Files" tab.  Various
other arrangements have been implemented for Visual Studio revision 8.0
(similr and other variations could also be applied to earlier versions, but
hasn't been done because new projects usually must use current compler
revisions).



Use of the visual studio project file:

	There are at least 3 ways one may use to enter visual studio with the
    project file.

	- enter the vcproj file name (i.e. &lt;executivename&gt;.vcproj) in a command
	window.
	- select the vcproj file from windows explorer.
	- select visual studio from a programs menu, then select the vcproj.

	If one does not define S3_ENV in the system environment variable
    settings (but rather relies on settings attached to specific shortcuts)
    then entry from a command window is necessary in order to get appropriate
    environmental settings.

	The build and rebuild all selections from the visual studio build
    drop down menu should work correctly to rebuild the executive, however,
    this requires care with the environmental setup. The S3_ENV environment
    variable must be defined and its contents must perform appropriate edit or
    replacement of some environmental settings. The problems arise because
    Visual Studio replaces the PATH, LIB, and INCLUDE environmental settings
    with contents from its own configuration settings. In order for lld to
    successfully rebuild the executive the SimExec and Fortran binary
    directories need to be added to path and the fortran library directory
    needs to be added to LIBPATH. This can be done in Visual Studio settings,
    but it seems easier to put it in the S3_ENV file.


    The project will normally include 2 version of each source file -

	The raw source which is maintained and is input to fscan (or cscan).

		   The visual studio debugger will not use this source but
		it is the actual source and any editing should be performed
		in it.

	The modified source which is created by fscan (or cscan) and is input
	to the fortran or c compiler.

		    The compiler source is needed for visual studio debug, but
		it should not be edited (as it will be overwritten when the
		module is compiled).  To insert breakpoints one must use this
		file. (Visual studio will accept requests to insert breakpoints
		in the other, but they will not work).



	The project file will include paths to ODS module sources for modules
	loaded from the ODS. If one edits such a module, when it comes time to
	save the changes, Visual Studio will pop-up a warning that the file is
	read-only and ask whether to overwrite anyway. Do not accept that
	offer. Instead, chose the save-as option and navigate to the appropriate
	UDS src directory to save the new version there.



</Text>
</Topic>
<Topic>mkmstg<Text>
    Sharing Globals on Windows

	    The MST and real-time executives require definition of shared
	global data partitions. This function is based on a list of partitions
	to be shared contained in the file "s3_globals". This is usually
	placed in the S3_HOME directory. Each global partition that needs to
	be shared between MST and the real-time executive tasks must have an
	entry in this file.

	Globals are defined in the s3_globals file by the following fields:

		&lt;name&gt;	The complete name of the global as it appears in the
			MDD.

		&lt;size&gt;	An integer size. This may either be listed in bytes
			(multiples of 4096) or pages (1 page = 4096 bytes). A
			page count is the preferred format. Any number less
			than 4096 is considered as a page count. This size
			must match the global size as defined in the MDD.

		&lt;type code&gt;	Usually 1, value 2 for an external global.

		&lt;flag&gt;	A unique number to identify the global.

		&lt;key&gt;	An optional comment for globals with type code of 1,
			library path for type code 2 (external global).


	    The fields are order sensitive but not column sensitive. Fields
	must be separated by white space (space, tab). Any additional trailing
	fields are ignored as comments. Any line that does not begin with a
	global name will also be ignored as a comment.

	    After the s3_globals file has been created or modified the program
	"mkmstG" must be executed to create a dynamic link library named
	"mstG.dll". This DLL contains the shared global memory partitions. The
	associated object library "mstG.lib" must be identified by the
	environmental variable "S3_MSTG" for use by lld when linking a
	real-time executive task.


   Warning:

	    There should be only a single copy of the mstG.dll file on a
	system. If it is duplicated then programs expecting to share global
	memory partitions to participate in the MST system may instead have
	separate copies and therefore fail to communicate.

</Text>
</Topic>
<Topic>reftab<Text>
	Data Reference Tracking


	    SimExec may be configured to collect data for tracking reference
	data usage based on conventional comments in simulation modeling source
	code.
	    This function is enabled by defining the environment setting
	"S3_REF_PREF". It is to be set to a string which sets a line prefix to
	be recognized by fscan, cscan, and dfglob to document reference data
	usage. Appropriate updates are performed on module removal and merge.
	An option is added to the LMSF command to produce listings of modules
	by reference data.

	    By example: if we include in our environment file the line - 

		set S3_REF_PREF=C*Ref:

	then include in our source files comment lines of the form

		C*Ref: &lt;document identifier&gt;

	then for each piece of refence data used in then a data table will be
	collected.

	   Listing by reference data use is performed by the dbm LMSF command.
	The optional argument

		D=&lt;reference&gt;

		where &lt;reference&gt; may be a simple term, quoted string or
		wild card selection

	as part of an LMSF command requests listing of modules by reference
	data use. This term overrides the module selection arguments of LMSF
	(they will be silently ignored if also included).  It may be combined
	with level selection and list format selections, and may be repeated.

</Text>
</Topic>
<Topic>rel4.3.27<Text>
Release 4.3.27

	rpc services (various)

		    retries and extended error reporting added should the
		svc_run routine encounter unexpected io error.

	GdaServer
		    Problem with adjusting data collection after backtrack reset
		corrected.

	dbm, isd

		    Support for I*8 and L*8 data types filled in for various
		functions.


	cscan, dbm, fscan, lld, iexec,...

		    Support introduced for "Alias" global data partitions.
		Aliased partitions are to provide mdd, exec, isd, and lld
		definition (and most of the capabilities that come with that)
		for fortran common blocks defined by code developed outside
		(and therefore not following the conventions of) the SimExec
		environment. The name for an aliased global partition is to
		begin with "global" followed by the actual fortran common name.
		The common must be defined as a normal fortran common in user
		sources.  UDS and ODS definitions of aliased globals are
		equivalent. They can not be shared between tasks.

		    Alias globals are identified in the MDD by the convention
		of placing the word "Alias" in the units field.
	
		LLD
		    LLD does not define space for aliased global paritions, it
		assumes that this will be done by the user objects loaded.
		Aliased uds partitions are not included automatically. That is:
		they must always be explicitly specified for inclusion.
		    A set of global configuration commands is added to
		lld to explicitly define whether global common paritions are
		or are not snapshot and reset. These are:
			SNAP &lt;global list&gt;
				to explicitly specify partitions to be included
				in snapshot.
			NOSNAP &lt;global list&gt;
				to explicitly specify partitions to be excluded
				from snapshot.
			RESET &lt;global list&gt;
				to explicitly specify partitions to be included
				in reset.
			NORESET &lt;global list&gt;
				to explicitly specify partitions to be excluded
				from reset.

		EXEC
		    The executive will not initialize aliased global partitions.
		They will be included in snapshot and reset only when explicitly
		configured by the lld SNAP and RESET commands.



	STDCALL optional configuration

		   In the past the "__stdcall" subroutine calling convention
		has always been used with SimExec on Windows. This was the
		default calling convention in the DEC Fortran compiler (which
		was previously from Microsoft, later from Compaq). The default
		calling convention with the ifort compiler is different. So
		far when using the ifort compiler the compiler option "-Gm"
		has been used for compatibility. Modifications are now
		available to allow use of the ifort default convention.

		   In order to use the ifort default convention add the
		environment variable setting

		    S3_STDCALL=0

		   The "-Gm" option must be removed from the S3_FORTRAN
		environmental setting.

		   cscan now defines the term STDCALL. In the past entry points
		in cscaned modules required the __stdcall modifier. They may
		now use STDCALL instead. cscan will define STDCALL such that
		the source code does not need to reflect which convention is
		in use.


		

	S3SERV

		    s3serv will now issue an explanatory error message (rather
		than silent failure) when the required service definition is
		not present.


	MODULE module type

		    The MSF module type "MODULE" is added to allow the use
		of Fortran Modules (as introduced in the Fortran-90 standard).
		Fscan will recognize most of the related Fortran syntax. This
		support does not include loading the symbols implicitly defined
		by a USE statement. It allows integration of code using the
		Fortran module feature, but is far from complete support.


	ISD wild card

		    The isd dump, display, and related commands are modified
		to interpret array ranges and wild card specifications for
		structured variable members. (The wild card iterpretation is
		currently not identical for the DISPLAY command and implicit
		display as default command).

		    When displaying structured variable members isd will now
		retain the unit and description fields from the lowest member
		level where these are not blank. The description is now appended
		to dump listings. This is separated from the value with a
		back-quote character. Recognition of the back-quote character
		as start of an in-line comment is added for the assign statement
		in isd and dfglob.

		    Isd will recognize the conventional value "Hide" in the
		description field of a point to indicate that the item is
		not to be displayed.

		    Isd will recognize a units field value begining with
		"bit" to indicate that an integer will contain bit flags, and
		provide a default hexidecimal format.

		    The CONTINUE command will now default to continue with
		additional elements or members of the a data point when it
		the previous command stopped in the midst of one. To skip over
		these (i.e. continue with the next point) the B (bump) optional
		flag argument is added.

	ISD Dump, Continue flags

		   The isd DUMP, EXAMINE, and CONTINUE commands will now
		recognize the following flag arguments.

		K - include constants
		D - dump mode
		B - bump; that is skip to next point
		V - do not include constants (i.e. inverse of K)
		M - to monitor (i.e. override D or X mode)
		N - drop point description headings (Dump mode)
		X - to examine (i.e. override D or X mode)

	DBM HELP

		    The dbm help command is modified to require a data file
		named "DbmHelp.xml" in the directory of the dbm executable
		containing help information. Selectable Help documents for
		various topics are now available.

	ISD DXSV function

		    A generic function is added to isd expression evaluation
		to obtain an on-demand dynamic value from a user routine
		configured in the attached exexutive.

			DSXV(&lt;service name&gt;, &lt;argument&gt;)

		    Where:

			&lt;service name&gt;	must be the name of a service routine
				configured in the executive as an m31 service.
			&lt;argument&gt;	is the input string to the m31 service
				routine.

		    The service is required to return a single numeric value.

	ISD expression value retrieval

		    The process to obtain a value or values from global for
		expression evaluation is modified to support array elements
		outside the defined array size and perform more efficiently
		for cases of a single or a few values from a large array.


	The lmdd licf swap function is upgraded to perform correctly in cases
	of structured variables.

	dfglob will also recognize "-Esplit"


	fscan

		    Recognition is added for many instances of Fortran syntax
		previously not accepted.

	    "-a" option

		    The "-a" option of fscan creates skeletal MDD add files
		for undefined variables found in a module source. This function
		is extended to create a series of files, as needed, including
		the following.

		&lt;module name&gt;.&lt;common name&gt;.mdd
				defining points for each fortran common
				partition defined in the source.
		&lt;module name&gt;.equ.mdd
				defining points with equivalence statement
				specifications.
		&lt;module name&gt;.incl
				dbm INCLUDE statements for undefined names
				recognized by fscan as external routines.
		&lt;module name&gt;.par.mdd
				defining locally defined parameters.
		&lt;module name&gt;.mdd
				all else.


	    Additional Fscan edit options

		    Fscan "-E" options include various unusual special purpose
		conditions. Several are added to accomodate Fortran codes
		developed outside the SimExec (or related) environment.

		"-E colon" or "-E nocolon"

			    The use of the colon characters produces ambiguous
			parsing cases due to collision with standard Fortran
			range and span syntax. Fscan defaults to interpreting
			such cases as symbolic names. The "-E nocolon" option
			eliminates any ambiguity by instructing fscan not to
			allow colon as a symbolic character.

		"-E mdd" or "-E nomdd"

			    When using the option to allow undeclared symbols
			("-wi") to support Fortran code not following normal
			SimExec conventions it is possible for symbols which
			should be local to be resolved by fscan to colliding
			MDD variable definitions. Use of the "-E nomdd" option
			eliminates this possibility by suppressing all MDD
			symbol resolution.

		"-E Split"

			    This option modifies the fscan input process and
			its recognition of comments and continuation lines to
			support cases where terms may be split arbitrarily
			across continuation lines.

		"-E 72"

			    This option tells fscan to ignore any source input
			beyond column 72 of the input line. (The original
			Fortran language was developed when card input was
			expected, and therefore ignores anything beyond column
			72, fscan defaults to allowing input lines to extend
			longer.)


	ISD ambiguous logical display

		    Display of ambiguous logical values is modified to indicate
		FALSE plus the hex value when the term contains an ambiguous
		value with the least significant bit clear.


	LMDD SEQU

		    Correction for recognition of THEN on continuation line.

	EXTERNAL global commons

		    LLD assumptions reduced for external globals.
			
			The lld command 
			
				DLL &lt;globalname&gt;

			    May be used to create a DLL suitable to define an
			external global. Moving the resulting dll (executable)
			and lib files to appropriate directories is left to the
			user.

			The lld command

				EXTERNAL &lt;global list&gt;

			    Informs lld to configure the listed global partition
			or partitions as external. Configuring dll library and
			executable files is left to the user. Typically these
			would be created with the (above) lld dll command. An
			appropriate library must be configured by the user, this
			would normally be done either with the lld "LINKoption"
			command or the S3_LD environmental variable.
			

		    Support for external global(s) added to mkmstG.

			    When mkmstG finds a 2 in the global type code
			field (3rd field of a global definition line in the
			"s3globals" file) then an external global is to be
			defined the "key" field (5th field) must provide a
			library file path to define the global partition.

	LLD system command

		    Double apostrophe, followed by a command line may be used
		to perform an external command from lld.

	LLD setxenv command

		    LLD will recognize a new SETXENV command, the executive
		implementation is defered.

	DBM input liberalizations

		    The ".PRED" data directive to the /ADD, /MODIFY and
		related commands will now recognize input of the form

			.PRED &lt;pointname&gt;(index[,...])[, A | B | F]

		   To specify an explicit offset in a form more similar to
		a fortran equivalence specification. When this form is used,
		the default successor category is A (rather than F as in the
		older, assembly like, form).

		    TYPE definition input will now respond appropriately to tab
		characters wherever spaces were required or approprite. It will
		also accept comment lines.

	lld, exec SYNC flag

		    Additional flag argument "SYNC" is now recognized on the
		lld load command. When present, and the executive executes in
		interactive mode, the routine will replace the frame wait
		logic in the executive. At this time the flag is ignored when
		in real-time executive, and having more than one such module
		would tend to make little sense.

	exec

		    The default floating point control setting is changed to
		set precision for register to register floating point
		operations to 53 bits (instead of 64). This corresponds to
		executive option "-F 90003" (instead of "-F 80003").

	mst
		    A fail log file added to mst. Mst will append to a file
		named "mst.log" in its activation directory time stamped records
		of all fail messages.

	s3serv

		    Several instances have been seen where s3serv communication
		fails to work due to a not fully diagnosed issue believed to be
		related to the installation of the Windows ethernet drivers.
		The environmental setting "set USE_SEND_RECV=1" will change
		the way s3serv communicates with clients to work around the
		problem. 

		    An appropriate explanatory message is now printed if s3serv
		is unable to initialize because its service name is not
		defined.

		    Modification made to allow select from s3if command
		line to perform appropriately.

	Data Reference Tracking


	    SimExec may be configured to collect data for tracking reference
	data usage based on conventional comments in simulation modeling source
	code.
	    This function is enabled by defining the environment setting
	"S3_REF_PREF". It is to be set to a string which sets a line prefix to
	be recognized by fscan, cscan, and dfglob to document reference data
	usage. Appropriate updates are performed on module removal and merge.
	An option is added to the LMSF command to produce listings of modules
	by reference data.

	    By example: if we include in our environment file the line - 

		set S3_REF_PREF=C*Ref:

	then include in our source files comment lines of the form

		C*Ref: &lt;document identifier&gt;

	then for each piece of refence data used in then a data table will be
	collected.

	   Listing by reference data use is performed by the dbm LMSF command.
	The optional argument

		D=&lt;reference&gt;

		where &lt;reference&gt; may be a simple term, quoted string or
		wild card selection

	as part of an LMSF command requests listing of modules by reference
	data use. This term overrides the module selection arguments of LMSF
	(they will be silently ignored if also included).  It may be combined
	with level selection and list format selections, and may be repeated.




late issues

4/12/8

- s3if auto extract on modification of ods source places file in wrong place
- dbmchk rejected symbol with leading underscore, dbm accepted it
- fscan incorrect on multiple assign translation
- fscan rejects symbol named STOP
- dfglob icpath does not understand aliased global
- lmsf, mmsf - selection on 4 char system id not correct
- lld needs to create old if not already present to move old .exe file
- mmsf to accept empty file on blockdata, text types

- dbm del by system id deleted everything
- dbmchk on index corruption got into bad loop
- fscan issue on type of member
- old revision purge implemented


5/14/8

- dbm
	lmsf data ref routine to notice, recover from, obsolete cached data.

- dsdchk
	dsdchk upgraded to recognize, abandon repeating index, and to restore
	entries not found by index.

- fscan
	Add "-E chopa". When set fscan will drop excess arguments similar
  	to as it will pad short argument list(s) under "-E pad". Upgrade
	"-E pad" and "-E chopa" and component to include acting on zero
	argument cases when called module is consistent.

	Intercept colon in file names on Windows (they are not supported by
	Windows, and when accepted produce some very strange behavior).

	Add parentheses, when missing, to parameter statement(s). (Fortran
	standards require the parentheses; They may be omitted with many
	compilers, but, at least with ifort, the non-standard syntax has the
	side effect of dis-allowing explicit type definition of the symbol.)

- isd
	repair per exception if window is sized to less than 22 lines.

- lld
	adjust lld select command to open file from current directory of
	activation, in addition to "lld".
	adjust lld input scan/parse to recognize end of file line without "\n"
	adjust per ":" in file names not supported on Windows file system.

- s3if
	Check added to suppress attempted pop-up on FAIL status with nothing
	in fail message.
	Repair Monitor table Column display toggle.

5/29/8

- s3dll
	gii_jadecmd, gii_dbmcmd entries added
	giidemo.exe added to mbin

- dbm
	lmsf xml formats added
	lmsf form=57 to retrieve source file

- isd
	scan routine repaired
	dump routine linesize aware


</Text>
</Topic>
<Topic>rel4.3.28<Text>

Release 4.3.28 - dated 9/10/08


dbm
    "force" option on MODify command

	    Optional flag argument "f" is added to the MODify and MDD commands.
	When it is specified then dbm will allow the size of the point to be
	modified to no longer fit all existing successor points. Successor
	points whose offsets extend past the new size of the the point are
	automatically deleted as part of the modification process.

    help

	    Various help documents added or modified. Subtopic search
	implemented.

	    Help command will now recognize (on windows) when the window width
	is greater than 80, and not split longer lines when it is.

    mod type

	    Logic added to extract ods type definition for UDS modifiy when
	appropriate.

    root
	    Former limit of 100 globals expanded to 200. Similiar limit in
	mst and related programs raised from 120 to 220.


isd

	    Repair recognition of REAL(&lt;complex variable&gt;), and
	IMAG(&lt;complex variable&gt;) syntax on on display command.

	    Adjust or repair recognition of flag arguments (K, D, etc.) on 
	CONTinue, DUMp and EXAmine commands.

	    Correction made for display of array index outside proper range of
	multiple dimensioned array.

    save+

	   A variation of the SAVe command is added to record the state of
	multiple active isd screens as a single page file. It is selected by
	including a plus sign between the save command keyword and the page id.
	   When a page file which was created with this option is restored (that
	is selected on the page command) contents of all 10 isd monitor screens
	will be restored to show their previous contents.
	   When a page file which was created with this option is opened in an
	s3if monitor window, the single table window will include items from all
	10 isd screens.
	

isd, iexec

	   drive command implementation upgraded to recognize multi-dimensional
	arrays and structured data members.

isd, s3serv, various

	    Logic added to indicate error, rather than ignore, when member
	syntax is appended to a point of a base type.

	    Logic added for various commands to accept specification of part of
	a complex variable using implicit member syntax. The real part may be
	selected as member ".real", the imaginary part as ".imaginary"; Either
	name may be shortened to a single character.

dfglob

	    Update of uds reference data table corrected to use uds name rather
	than module system id.
	    Anonymous option "-a" added. When specified the MSF integrations
	of dfglob will be suppressed. That is the no MSF lookup is performed for
	the blockdata file, the directory location and file name must be clear
	from the argument, and no cross-reference update is performed. This is
	also implied by selection of ic patch ("-ic") or set file generation
	("-s") options.

fscan

	    Correction for case of non-mdd reference to uds level type
	definition.

mst

	    Status log functions added.
	    Addition of line containing the keyword "statuslog" will instruct
	mst to include a detailed trace of simulation status changes to the
	"mst.log" file.
	    Addition of line containing the keyword "statusprint" will instruct
	mst to include a detailed trace of simulation status changes to the
	windows console.

	    Recognition, appropriate treatment implemented should an executive
	with an rcc constraint specification exit inappropriately.

mst_icio

	    Recognition added for optional second argument to specify an
	explicit priority for the task.

dbaserver, gdaserver

	    Unnecessary mutex protecting against executing more than single
	instance dropped.

opc - SimExecWTsvr

	    Correction to initialization required to support instances where
	a large number of aliased points are defined in the PointFile.

dbm_pid

	    Add clear of return data fields on point not found to reduce
	likelihood of callers acting erroneously, using previous data values,
	after ignoring not found return status.

iolib

	    Group input (gi) mapping upgraded to support encoded input values.

</Text>
</Topic>
<Topic>rel4.3.29<Text>Release4.3.29 dated 11/10/08

dbm
	    Serious error, such that global root point not added correctly in
	4.3.28 corrected. Level recognition corrected for modify, mdd commands.

	    Peculiar type override set command added.

	    Effective default for S3_FLUSH environmental setting changed to 1.


OPCdcsexec

	    The invert flag defined for DI and DO points is now connected to
	implementation of the function.

	    The initialization file name(s) may now be based on the name of
	the hosting executive instead of fixed. The appropriate initialization
	file names are constructed by appending ".opcc.ini" and ".opcc#.ini"
	to the exeutive name. Where # represents a server number 0 to
	nServers-1.  Recognition of the fixed name initialization files
	is retained for compatibility with previous releases; They should not
	be present (as totally confusing) when the new convention is used.

	    An initialization file entry "PointsFilePath" is added to define
	connection specific point list files. A list of one or more file paths,
	separated by semi-colon (";"), may be provided for each connection. For
	compatibility, the fixed name points list file ("OPCdcsexec.points")
	will also be processed if present.

	    Repetitive error messages suppressed by replacement with "+" and
	message giving count. Error flags checked on items read.

	    Many message modified to include exec name, server number. PrintCA
	messages added giving add item counts.

	    IO Override implementation added for AI and DO points in
	global_aisw and global_aisw, and for DI and DO points in global_disw
	and global_dosw.

	    Corrections introduced for Delta-V special "StatusList" processing.

	    Additional ini file control added for messages related to
	frame timing: PrintClock=&lt;milliseconds&gt;, default is 1000.
	The elapsed time in milliseconds is be monitored for some sub-frame
	operations, and a message printed when the interval exceeds the selected
	value.

	    Additional common ini file control added to select concurrency 
	model. Coinit=&lt;model&gt; where choices are: APARTMENTTHREADED, or
	MULTITHREADED. Default is APARTMENTTHREADED.

</Text>
</Topic>
<Topic>rel4.3.30<Text>
Release 4.3.30 June 15, 2009
Release 4.3.30+ August 28, 2009

	- patch to avoid s3serv connection hang on "look" command referencing
	undefined module name.
	- jade interface - no response interface added

	- const will accept -&lt;global name&gt; argument to act for one partition
	at a time.



    dbm - 

	- dbm long description extended to arbitrarily long. On form i output
	a space is prefixed to each long description line. On input a leading
	space (if present) is deleted. Long description input may continue
	indefinitely. It is terminated by a line with period or slash in the
	first column. When interactive a blank line will terminate. Trailing
	blank lines are not retained.
	    The first 5 lines are (still) of fixed length 72. Description lines
	beyond 5 may be of arbirtray length. Programs which look at the long
	description through old interfaces will only see the first 5 lines, new
	interfaces must be used to access extended description lines.
	    The extended long description is added to lmdd F, I, L, and X forms.

	- dbm option Q will suppress add successful message (the lower case
	q option suppresses the modified message).

	- dbm option R will strictly respect free input offsets (the lower
	case r option respects it conditionally, that is, it will assign a new
	address if the requested address is occupied).

	- adjustments made to dbm ignore of file input after error.

	- allowance for odd predecessor bounding restored. (i.e. if the
	predecessor point is of less precision than the successor, then
	bounding will be applied to the global offset of the successor only,
	which may result in an odd offset from its predecessor).

	- additional keywords recognized as system id without quoting.

	- recording of time of last mdd update restored.

	- processing of optional additional data lines on /INCLUDE command
	modified to avoid swallowing other command(s).


    fscan - 

	-Eno&lt;var&gt; - options added (where not already present) to turn off the
	various -E options.
	This includes:
		"-Enodbolocal" added to turn off option "-Edbolocal"
		"-Enominmax" added to turn off option "-Eminmax"
		"-Enowrap" added to turn off option "-Ewrap"
		"-EnoSplit" added to turn off option "-ESplit"
		"-Eno72" added to turn off option "-E72"

	Additional options added - 

		"-Ecp"	- recognize the "CP" pseudostatement of tecnataom's ppf
			program.

		"-EExpandArrayAssignment" - expand simple cases of array
			assignment to scalar value. This may be needed when
			using a fortran77 compiler (most projects are using
			compilers implementing fortran90 or later).

		"-Einclude" - issue warning on case of an include statement
			referencing a non-present file name, and proceed
			without treating this as a fatal error.

		"-Enocp" and "-EnoExpandArrayAssignment" also added to cancel
			the above.

	    Standard intrinsics automatically recognized. Automatic recognition
	of all intrinsic functions defined by the Fortran77 standard, and some
	of those added in the Fortran90 standard is added to fscan. Fscan
	will also look in the MSF for definitions of the implicitly recognized
	intrinsic functions in order to update the msf cross-reference data.

	    Recognition of the Fortran "intrinsic" statement is added. (Its use
	is seldom appropriate).
	    Names defined on the Fortran "external" statement will now be
	checked against the MSF.
	    Recognition added for several other cases of Fortran syntax which
	were previously rejected. These include the following:
		"stop" statement with an integer argument.
		Use of selected fortran keywords as variable names.
		"blockdata" statement.
		Octal literal value.
		1 or 2 character cases of holerith literal (with warnings,
		warning also added on other instances where holerith form
		literal may have been intended).

	    The non-standard operators ".eor." and ".xor." will be replaced
	with the standard operator ".neqv." in the compiled source.


    cscan
	    New option -X &lt;string&gt; to append field to the options sent to
	compiler (in contrast to "-x" which replaces the S3_CCOPTS string).
	    Option -wd to suppress redundant definition warning (option
	-Wd to reenable).

    gdaserver

	    Extensive additions are made to the gdaserver data collection
	function in support of seminar room functionality defined by KSG.
	    These are entirely disabled until the conventional mdd point
	"srdc_control" is defined.


    iexec -	the "-Fhold" option procedure applied to all error exceptions
	(rather than limited to floating point exceptions). (Applicable
	on Linux only).


    iexec, mst, other users of shared global partitions - (Linux only) 

	environment variable "S3_GKEY_ADDEND" may be used to specify a number
	to be added to all shm keys specified in the s3_globals file.

	Capability added to define a preferred address address in s3_globals
	file. It will be respected by lld.

    iolib


    isd - scan and search functions repaired.

	- convenience function added to convert epoch value

	&gt;localtime &lt;value&gt;

		Will translate the value to a local date and time, interpreted
	    as seconds since 12am 1/1/70 (that is as value returned by c library
	    time function).

	- extended clock time value interpretation provided

	&gt;clock &lt;integer&gt;.&lt;integer&gt;

		Clock and other commands (step, timer) will accept a seconds
	    count, and convert as applicable into minutes and hours fields.

	&gt;rst &lt;icno&gt;
	&gt;snp &lt;icno&gt;

		RST recognized as alternate spelling for the RESET command.
		SNP recognized as alternate spelling for the SNAPSHOT command.

	    Default suspend interval reduced to 700 milliseconds. Environmental
	override "ISD_SUSPEND" accepted.

    lld - default values for SEGSIZE, and BASE updated to value which usually
	works on Linux 5.2.

	- SU command added (for linux only).


    mst - When environment variable S3_TOD_Reset is set, mst will place the
	current time of day in problem time on an ic reset operation.

    opcdcsexec - override function, as expected with JIS, implemented
	implicitly for digital signals which are located in global_disw or
	global_dosw and for analog signals located in global_aisw or
	global_aosw.


    gii
	add calls giiGetMddAtField, giiExm_DS; separate gii_jadecmd as
	not supported local on linux.

</Text>
</Topic>
<Topic>rel4.3.31<Text>
Release4.3.31.0 Dated 11/11/2009


    dbm
	/ADD and related

		    Missing cases of interception of point definitions with no 
		short description or system id  or type added.

		    Recognition of add, mdd, and mod without leading slash
		character is added to logic which skips forward after
		encountering an error in a select file.

	MSF extended data storage for future functions started.

	LMSF

		    Duplication on module - mdd refernce listing corrected.


	terminal input and output

		    linux instance dbm will check actual window size on entry
		and adjust certain outputs to correspond (Windows implementation
		has already been doing so).

		    linux instance should no longer fail to correctly
		recognize commands being read from input select text files with
	 	Windows line ending format.

    isd

	 CALL &lt;registered service name&gt; &lt;Argument string&gt; N

		    Optional additional argument "N" on call dynamic executive
		service specifies nowait, no return data expected.
		    When the N is not specified isd will wait for return data
		after issuing the request.

	 FRESH

		    Fresh command (redraw isd screen) will now re-resolve the
		definitions of the points displayed.

	 XPT point resolution

		    Provisions for point name resolution by code loaded
		in attached executive is added. This functionality is only
		enabled when appropriate matching services are loaded into the
		executive. It is integrated into all isd point resolution
		activity including wild card searches. Listing of available
		point definitions and equivalent functionality for s3if are not
		yet implemented.

	SET

		    Set keyword to be recognized with arbitrary number of
		leading spaces.

	expression evaluation

		    Correction inserted for failure to retrieve values of
		UDS level variables during expression evaluation.

	DRIVE, RAMP, SINE, TABLE

		    Upgrade Drive and other DDM functions to recognize
		multi-dimensional array offsets.


    LLD

	    Will no longer generate a load with dummy module with IOK not in
	effect in the abnormal case of module is recorded consistent in MSF,
	but expected object file is missing.

	    Correction made to automatic expansion of control module table.

	    Environmental S3_FORCE_CASE logic applied to executive name.

	EXTERNAL &lt;global id&gt;

		The external command may now be used to configure a linux
	    iexec to share designated globals. (Windows meaning is unchanged).


	EXCHANGE &lt;globalid1&gt; &lt;globalid2&gt;

		The exchange command is for a special purpose equivalencing and
	    aliasing of global names. it configures an executive specific global
	    partition alias such that one global partition will mascarade as
	    another in the Linux environment.

		    The &lt;globalid1&gt; partition will share as &lt;globalid2&gt;. The
	        two partitions will be equivalent for isd symbol resolution.
		Compiled references should be to the variables referenced in
		&lt;globalid1&gt;; There should be no compiled references to the
		variables defined in &lt;globalid2&gt;.

		    This command is currently not correctly handled by the
		s3if lld interface.


    MST, IEXEC, RTEXEC, LLD

	global99 variable "rictime" added, will show UTC time of most recent
	ic read action. (Existing "icresettime" variable is updated only on
	ic reset, not backtrack or preview.)

	linux executive priority values (option -n &lt;priority&gt;) less than 20
	recognized to request normal, rather than real-time, scheduling with
	specified relative "nice" level priority.

	repairs made to isd sync logic on linux.

	Fatal error during executive initialization enabled on windows for case
	of the actual size of a shared partition is less than that expected
	by the executive configuration.

	Reset event calls

	  ResetP - (new) - module will be invoked before ic image is read
	  ResetS - module will be invoked after ic is read before ic shuffle
		or ic patch.
	  ResetC - module will be invoked after ic shuffle and ic patch actions
		are complete.

    dfglob

	    Provisions added to accomodate expansion of global size when
	performing in ic patch mode.

    gii interface

	    giiGetDbmMap function added.

    s3serv

	     Adjustment made to avoid inappropriate behavior when a second
	copy of s3serv on a given port is started on linux.

    s3if - SimExec Desktop

	    DBM ADD frame fault on refresh of undefined point repaired.

	    Edit entry added to snapshot and reset IC number selection.


	Variables windows

	        Lmdd and Dump selections added to table popup menu. Display of
	    structured type names repaired.

		The Lmdd submenu includes several lmdd format selections and
	    a text field to allow user selection of any other Lmdd options.
	    When any of these menu items are activated the points selected from
	    the table are listed with the selected formatting and the results
	    are added to the listed output window. The other options text field
	    will recall recent selections.


		The Dump selection is enabled only when the desktop is connected
	    to an executive. When selected it will perform an isd dump showing
	    the current values for the dbm variables selected in the table. This
	    will be added to the listed output window.

	Monitor windows

	    Text field selection added to page open menu. A page name may be
	entered or selected from command line recall. The recall list will be
	populated with recently used pages.

	    Several changed made to table popup menu -
		- Order of entries rearranged.
		- "Remove from Monitor" renamed "Clear".
		- "DBM Delete" removed.
		- "Lmdd" submenu added.
		- "Set" submenu added.
		- "Modules" entry added.

		The Monitor table popup Lmdd submenu acts essentially as the
	    lmdd submenu of the "Variables" table described above.

	        The Set submenu includes menu items for the special values
	    zero, one, true, and false plus a text field for entry of any other
	    value. When any of these selections are activated the variables on
	    the currently selected monitor lines are set to the selected value.
	    Attachment of a drive expression may also be performed from this
	    text field by entry of "-&gt;" followed by an appropriate expression.

		The Modules entry will start up a Modules table window with
	    modules referenced by the selected points.


    gdaserver

	    Two potential hangup conditions corrected. Will return abbreviated
	historical data record during backtrack preview.

    rts

	    Module names repaired on "-p" report.

    opcclient

	    A gradual refresh capability is added. DCS inputs (outputs from the
	client) are normally written on an exception only basis. Some users
	desire or require an occasional refresh of point values which have not
	changed, however sending the entire list as a single update may
	overload some servers (with highly undesirable results). This feature
	allows the user to configure a gradual refresh process which will write
	a few unchanged values each pass, cycling through the DCS inputs at an
	easily adjusted rate.
	    Each of the "ProcessVector" definitions in the initialization
	file(s) may now include the actions of the forms:
		LRAi, &lt;z&gt;, &lt;n&gt;, &lt;c&gt;
		LRDi, &lt;z&gt;, &lt;n&gt;, &lt;c&gt;
		LROi, &lt;z&gt;, &lt;n&gt;, &lt;c&gt;
	    Where:
		&lt;z&gt; -	integer, 0 - exclude 0 cps points,
			or	 1 - include 0 cps points
		&lt;n&gt; -	is integer count of signals to be processed on each
			pass.
		&lt;c&gt; -	is integer &lt;ciutype&gt;, always 0 at this time.

		LRAi is abbreviated command to request for lazy or leisurely
	    refresh of analog inputs. LRDi is similar for digital inputs.
	    LROi is similar for Other inputs. When executing the process
	    defined by the ProcessVector, the client will add &lt;n&gt; unchanged
	    inputs from the corresponding list to the items to be written to
	    the server. The group written will cycle through the entire list
	    of items for the given type.


Release4.3.31.1 Dated 11/19/2009

    lld - 

		Reverses the order on command line to build executive such
	    that options specified on LDOption commands for the specific
	    executive preceed those specified on the enviromental variable
	    S3_LD. Rationale is that S3_LD is used to specify common libraries,
	    whereas the command line option is used for executive specific
	    libraries.  The load specific libraries or objects will thereby
	    receive preference over the common libraries, and in linux case,
	    this is necessary for resolving entries in the common library
	    from references in the specific libray.
		Other side effects include increased incompatibility with the
	    inappropriate use of "/link" in S3_LD content.


	    EXCLUDE &lt;module list&gt;

		Specification of module names on lld "exclude" command directs
	    lld to suppress inclusion of the corresponding object file when
	    building the executive. This is for the somewhat odd case where
	    there exists an fscan or cscan instance of the module which the
	    user wishes to override with another object. No indication of this
	    condition is made in the executive module table.

		    This command is currently not correctly supported by the
	    s3if lld interface.


Release4.3.31.2 Dated 11/30/2009
	- per gloinit.c typo


</Text>
</Topic>
<Topic>rel4.3.32<Text>

Release4.3.32 1/14/10 ...1
Release4.3.32 1/21/10 ...2
Release4.3.32 3/1/10 ...3
Release4.3.32 3/31/10 ...4


    General - 

	-   version information resource added to Windows executables

	-   patch number (when applicable) is added on version message prints. 
	This will appear prefixed by 3 periods after the date. Version numbering
	protocol is changed to include this patch number on versions which
	are release candidates or include patches to releases and for it to
	be suppressed when a release version has passed all approvals.

    dbm / isd

	- command keyword recognition modified to eliminate various
	confusing misinterpretations when leading space(s) included on
	requests with no leading keyword.


	- EXTRACT on linux will set owner of extracted copy of source to
	current user.

	-   init command (to reset low - high recording) will now
	accept a line range list to apply to selected lines rather
	than all.

	-   ddm guard against invalid request strengthened.


	-    Wait on send queue full state adjusted per experience of timing
	related problem.


	- cds expansion

	    Additional macro command added as follows:

pselect &lt;pipe command&gt;

		The expansion process will first apply any macro replacement
	    operations applicable to the argument string, then start the
	    resulting string as a command and read component code from the
	    standard output of the process activated. The current directory of
	    the activated program will be the "specific" subdirectory of the
	    development system.

	- check msf x

		Check of generic component cross reference added.

	- list m
	
		x option added.


	- msf functions

	    -	Error causing occasional msf index file corruptions detected
	    and corrected.


	- module type PACKAGE functionality improved

		Error which previously stopped the merge (MMSF) of package
	     modules is corrected.

		Flexibility is added with regard to the development system
	     level of member modules. ODS modules may be added to package
	     modules defined at the UDS level and UDS modules may be added
	     to ODS package modules.

		Support for explicit removal of a member from a package module
	     is added in the form of the data field option

			.remo &lt;module name&gt;

		to the "/MODify &lt;module&gt;" command.

    dfglob

	-   Updated to recognize parameter as array offset on assignment
	statement.

    fscan

	-   Add options "-Es." (default) and "-Enos." to find "s.&lt;name&gt; files
	by module name.

    gdaserver data collection

	-   Fairly detailed log file added. File name is "gdaserverdc.log"
	(in the uds directory where gdaserver was activated). It is normally
	opened in append mode, however when the pre-existing file size exceeds
	2 megabytes the existing file is moved to "gdaserverdc.prev.log"
	(replacing any existing file of that name) and a new file is created.
	This log function may be disabled by adding environmental
	"GDADC_LOG=0".

    lld

	-   Exclude of module will recognize module of type "PACKAGE" to
	propagate exclusion to all members of given package. Module
	exclusions echoed to output lld file (although s3if lld
	interface is still unable to handle it).
	    The module exclude function is also modified such that when the
	exclude command preceeds any load command which would load the
	excluded module(s) then the consistency checking, and load of all
	modules called by the excluded module are suppressed.

	-   Exchange recognition of alias global adjusted.

    exec

	-   control module out check modified to perform exhaustive
	search to return correct indication on unusual case of control
	module also called by other module appearing earlier in load.

	-   Windows case error check for shared global smaller than
	expected repaired.

	-   ddesrv to recognize uds and ods equivalence of aliased
	global.

	-   correction to allow use of real time executive number 99 on linux.

	-   default executive processor affinity is changed from biased to
	processor 0 to no bias.

    mst

	-   linux instance will remove shared memory partitions on
	exit if environmental REMSHM is defined with integer non-zero
	value.  (This removal seems natural to a clean exit of the
	system. It was previously dropped because of problems with an
	auxiliary program remaining in execution across simulator exit
	and restart being still attached to a deleted copy of the
	shared memory. Leaving the shared memory segments in place,
	which remains default, leads to requiring their manual deletion
	on change of global size in addition to the system resource
	being reserved when simulation is not active.)

	- rcc logic adjusted to allow catchup in light cases while
	avoiding overlapping frames.

	- LINUX only - a signal handler is added for the common, previsously
	unhandled, abort signals.  If any of these are encountered mst will
	initiate a fail status, print and add a log record, and
	attempt to place the simulation into a normal fail condition.


	-   Posting of icresettime moved to immediately after ic is read (rather
	than after switch check).

    mkmstG

	-   Will now read the S3_ENV file.

    s3if

	- Main tool bar
	    - Tools drop down menu replaced with its submenus; submenu titles
	    shortened. "view" menu dropped.

	    - status toggle button upgraded to indicate current status
	    (freeze, run or step, fail, other by icon color, all by text).

	- connection status
	    - recognition and appropriate indications implemented for
	   unexpected loss of connection. Tables no longer close on loss of
	   connection. Monitor will re-connect when a new executive connection
	   is established.

	- restore state
	    - will close more tables (previously closed some but left various
	open).

	- dbm add frame - erroneous update attempt eliminated on case of no
	name present.

	-   command line add and modify commands to recognize msf and
	type keywords.

	-   Host box on connection toolbar redone to be same as its neighbors.

	-   Various button sizes increased, and icons modified for size to
	produce cleaner results, especially on motif look and feel.

	-   Backtrack enabled for iexec activated by s3serv and "Settings"
	backtrack interval non-zero, default for interval changed to zero
	(disabled).


	-   Modules table

	    Will now allow direct edit of system id, description, and argument
	list fields of UDS modules.


    	- Monitor frame command line

	   A command line is added to the menu bar. Isd and dbm commands
	can be entered here. Most commands are interpreted the same,
	or close to, as they are in isd.

	    The following commands are ignored silently:

		*, ^, d20, d40, end, isd, limit
	
	    The following commands are rejected as "not applicable":

		cdf, cds, dcm, dowhile, echo, else, endif, enddo, flip, if,
		monitor, more

	    The following commands are rejected as "not implemented":

		!, attach, close, define, exec, file, examine, fresh, log,
		macro, open, pgm, print, read, root, search, select, setenv,
		schuffle, switch, wait, x

	    The following commands are accepted:

		$, add, async, brk, call, check, change, clear, clock, compile,
		const, cont, copy, date, decrement, delete, detach, dftglob,
		dftglob, diff, display, drive, dump, exit, extract, fast,
		freeze, help, ic, increment, include, kill, lcdf, lcds, li,
		licf, line, list, lmdd, lmsf, localtime, lock, look, map,
		mark, mcdf, mdd, merge, mmsf, modify, module, move, nice,
		normal, odel, omod, option, pack, page, promote, quit, ramp,
		regs, remove, rename, reset, run, scan, sine, schedule, set,
		setlist, show, slow, snapshot, start, status, step, submit,
		sync, table, title, trim


		The display commands including wildcard, display as default
	    command in absence of any command keyword, format override should
	    work as they do in isd in almost all cases. One isd capability
	    still not available in s3if is the type override.

	    The following additional commands are accepted:

		dd, sort

		dd command -
		
			deletes any duplicated lines

		sort &lt;column name&gt;

			will sort table by named column

	    s3if internal commands are also recognized.


	    Command line display and change commands allow assigning an
	alias name and unit and format overrides. Format override will be
	saved and restored in page files. Page files will also record and
	restore column show versus hide state.



    Trend

	    The trend table will now be displayed as a tab in the trend
	control window when it is removed from the bottom of the plot
	display.

	    A "Ref" column is added to the table. It is populated with the
	first value seen when a point is added to the plot or after reset.
	It will show the value at any chosen time in the visible plot period
	chosen by a left mouse click.


	monitor "data collection" references dropped.

	MonitorHistorySize setting added.

	Settings command key words to match names (with spaces removed) in
	"Setting" frame.

	TrendExportFill option added to Settings




    Base

	    A series of "initial development system" installation files have
	long been included on the SimExec install CD.  These suffer from
	several problems, probably the worst of which is that there
	are 5 separate instances differing in units convention and inclusion
	of support for super-critical steam, only one of which would be 
	included on each CD, but no labeling indicated which was present. 
	A debatable issue with these installation sets is that they include
	Fortran object code. This introduces a variety of compatibility issues;
	code generated by an old Fortran compiler was used because object code
	files are mostly upwardly compatible, but usually not at all backward 
	compatible. Unfortunately the old compiler is now exceedingly obsolete,
	and all of these should to be recompiled after installation, anyway,
	to use the same compiler version as all new simulation specific code
	will.


	    A new directory tree named "Base" is introduced to define
	these initial development system states entirely in source form.
	A command script named "NewSys.cmd" is included to create and build
	any of the 5 initial systems. Installation and configuration of the
	c and Fortran compilers, and some SimExec specific environmental
	setup must be correct before this can be fully successful. Because
	there are so many possible ways to mismatch these setup expectations,
	the script includes a couple of confirmation pauses and attempts to
	check each step and produce appropriate messages and fallback behavior.

	    The newsys.cmd script is written with the expectation that it
	will be used with a front end script or program to set the units
	selection and the other environment settings which it relies on.

		That is:

	    PATH - needs to include the SimExec bin directory
	    S3_BIN - needs to identify SimExec bin directory
	    S3_ENV - needs to identify customized SimExec environment file
	    S3_HOME - needs to define the new system location
	    S3INSTALLBASE - is to define directory path to the "Base" files
	    UNITS_NAME - is to define the units selection from the following
			Bar
			Bar_SupCritical
			English
			English_SupCritical
			MPA
	    PATH, INCLUDE, and LIB - need to include appropriate paths for c
		and Fortran compilers.


</Text>
</Topic>
<Topic>rel4.4.0<Text>

Release 4.4.0 4/5/10 ...1

	Release 4.4.0 is not a major change from late releases labeled 4.3.x.
   The second level revision number is raised to mark the addition of a patch
   number to the revision labels, and the elimination of model subroutine
   object code and units dependency from the installation CD.

	The update notes below reflect modifications from release 4.3.31.


    General - 

	-   version information resource added to Windows executables

	-   patch number (when applicable) is added on version message prints. 
	This will appear prefixed by 3 periods after the date. Version numbering
	protocol is changed to include this patch number on versions which
	are release candidates or include patches to releases and for it to
	be suppressed when a release version has passed all approvals.



    Base

	    A series of "initial development system" installation files have
	long been included on the SimExec install CD.  These suffer from
	several problems, probably the worst of which is that there
	are 5 separate instances differing in units convention and inclusion
	of support for super-critical steam, only one of which would be 
	included on each CD, but no labeling indicated which was present. 
	A debatable issue with these installation sets is that they include
	Fortran object code. This introduces a variety of compatibility issues;
	code generated by an old Fortran compiler was used because object code
	files are mostly upwardly compatible, but usually not at all backward 
	compatible. Unfortunately the old compiler is now exceedingly obsolete,
	and all of these should to be recompiled after installation, anyway,
	to use the same compiler version as all new simulation specific code
	will.


	    A new directory tree named "Base" is introduced to define
	these initial development system states entirely in source form.
	A command script named "NewSys.cmd" is included to create and build
	any of the 5 initial systems. Installation and configuration of the
	c and Fortran compilers, and some SimExec specific environmental
	setup must be correct before this can be fully successful. Because
	there are so many possible ways to mismatch these setup expectations,
	the script includes a couple of confirmation pauses and attempts to
	check each step and produce appropriate messages and fallback behavior.

	    The newsys.cmd script is written with the expectation that it
	will be used with a front end script or program to set the units
	selection and the other environment settings which it relies on.

		That is:

	    PATH - needs to include the SimExec bin directory
	    S3_BIN - needs to identify SimExec bin directory
	    S3_ENV - needs to identify customized SimExec environment file
	    S3_HOME - needs to define the new system location
	    S3INSTALLBASE - is to define directory path to the "Base" files
	    UNITS_NAME - is to define the units selection from the following
			Bar
			Bar_SupCritical
			English
			English_SupCritical
			MPA
	    PATH, INCLUDE, and LIB - need to include appropriate paths for c
		and Fortran compilers.


    dbm / isd

	- command keyword recognition modified to eliminate various
	confusing misinterpretations when leading space(s) included on
	requests with no leading keyword.


	- EXTRACT on linux will set owner of extracted copy of source to
	current user.

	-   init command (to reset low - high recording) will now
	accept a line range list to apply to selected lines rather
	than all.

	-   ddm commands (DRIVE, RAMP, SINE) guard against invalid request
	strengthened.


	-    Wait on send queue full state adjusted per experience of timing
	related problem.


	- cds expansion

	    Additional macro command added as follows:

pselect &lt;pipe command&gt;

		The expansion process will first apply any macro replacement
	    operations applicable to the argument string, then start the
	    resulting string as a command and read component code from the
	    standard output of the process activated. The current directory of
	    the activated program will be the "specific" subdirectory of the
	    development system.

	- check msf x

		Check of generic component cross reference added.

	- help msts

		Help note added for configuring multiple instances of mst on a
	    single computer.

	- list m
	
		x option added.


	- msf functions

	    -	Error causing occasional msf index file corruptions detected
	    and corrected.


	- module type PACKAGE functionality improved

		Error which previously stopped the merge (MMSF) of package
	     modules is corrected.

		Flexibility is added with regard to the development system
	     level of member modules. ODS modules may be added to package
	     modules defined at the UDS level and UDS modules may be added
	     to ODS package modules.

		Support for explicit removal of a member from a package module
	     is added in the form of the data field option

			.remo &lt;module name&gt;

		to the "/MODify &lt;module&gt;" command.

    dfglob

	-   Updated to recognize parameter as array offset on assignment
	statement.

    fscan

	-   Add options "-Es." (default) and "-Enos." to find "s.&lt;name&gt; files
	by module name.

    gdaserver data collection

	-   Fairly detailed log file added. File name is "gdaserverdc.log"
	(in the uds directory where gdaserver was activated). It is normally
	opened in append mode, however when the pre-existing file size exceeds
	2 megabytes the existing file is moved to "gdaserverdc.prev.log"
	(replacing any existing file of that name) and a new file is created.
	This log function may be disabled by adding environmental
	"GDADC_LOG=0".

    lld

	-   Exclude of module will recognize module of type "PACKAGE" to
	propagate exclusion to all members of given package. Module
	exclusions echoed to output lld file (although s3if lld
	interface is still unable to handle it).
	    The module exclude function is also modified such that when the
	exclude command preceeds any load command which would load the
	excluded module(s) then the consistency checking, and load of all
	modules called by the excluded module are suppressed.

	-   Exchange recognition of alias global adjusted.

    exec

	-   control module out check modified to perform exhaustive
	search to return correct indication on unusual case of control
	module also called by other module appearing earlier in load.

	-   Windows case error check for shared global smaller than
	expected repaired.

	-   ddesrv to recognize uds and ods equivalence of aliased
	global.

	-   correction to allow use of real time executive number 99 on linux.

	-   default executive processor affinity is changed from biased to
	processor 0 to no bias.

    mst

	-   linux instance will remove shared memory partitions on
	exit if environmental REMSHM is defined with integer non-zero
	value.  (This removal seems natural to a clean exit of the
	system. It was previously dropped because of problems with an
	auxiliary program remaining in execution across simulator exit
	and restart being still attached to a deleted copy of the
	shared memory. Leaving the shared memory segments in place,
	which remains default, leads to requiring their manual deletion
	on change of global size in addition to the system resource
	being reserved when simulation is not active.)

	- rcc logic adjusted to allow catchup in light cases while
	avoiding overlapping frames.

	- LINUX only - a signal handler is added for the common, previsously
	unhandled, abort signals.  If any of these are encountered mst will
	initiate a fail status, print and add a log record, and
	attempt to place the simulation into a normal fail condition.


	-   Posting of icresettime moved to immediately after ic is read (rather
	than after switch check).

    mkmstG

	-   Will now read the S3_ENV file.

    s3if

	- Main tool bar
	    - Tools drop down menu replaced with its submenus; submenu titles
	    shortened. "view" menu dropped.

	    - status toggle button upgraded to indicate current status
	    (freeze, run or step, fail, other by icon color, all by text).

	- connection status
	    - recognition and appropriate indications implemented for
	   unexpected loss of connection. Tables no longer close on loss of
	   connection. Monitor will re-connect when a new executive connection
	   is established.

	- restore state
	    - will close more tables (previously closed some but left various
	open).

	- dbm add frame - erroneous update attempt eliminated on case of no
	name present.

	-   command line add and modify commands to recognize msf and
	type keywords.

	-   Host box on connection toolbar redone to be same as its neighbors.

	-   Various button sizes increased, and icons modified for size to
	produce cleaner results, especially on motif look and feel.

	-   Backtrack enabled for iexec activated by s3serv and "Settings"
	backtrack interval non-zero, default for interval changed to zero
	(disabled).


	-   Modules table

	    Will now allow direct edit of system id, description, and argument
	list fields of UDS modules.


    	- Monitor frame command line

	   A command line is added to the menu bar. Isd and dbm commands
	can be entered here. Most commands are interpreted the same,
	or close to, as they are in isd.

	    The following commands are ignored silently:

		*, ^, d20, d40, end, isd, limit
	
	    The following commands are rejected as "not applicable":

		cdf, cds, dcm, dowhile, echo, else, endif, enddo, flip, if,
		monitor, more

	    The following commands are rejected as "not implemented":

		!, attach, close, define, exec, file, examine, fresh, log,
		macro, open, pgm, print, read, root, search, select, setenv,
		schuffle, switch, wait, x

	    The following commands are accepted:

		$, add, async, brk, call, check, change, clear, clock, compile,
		const, cont, copy, date, decrement, delete, detach, dftglob,
		dftglob, diff, display, drive, dump, exit, extract, fast,
		freeze, help, ic, increment, include, kill, lcdf, lcds, li,
		licf, line, list, lmdd, lmsf, localtime, lock, look, map,
		mark, mcdf, mdd, merge, mmsf, modify, module, move, nice,
		normal, odel, omod, option, pack, page, promote, quit, ramp,
		regs, remove, rename, reset, run, scan, sine, schedule, set,
		setlist, show, slow, snapshot, start, status, step, submit,
		sync, table, title, trim


		The display commands including wildcard, display as default
	    command in absence of any command keyword, format override should
	    work as they do in isd in almost all cases. One isd capability
	    still not available in s3if is the type override.

	    The following additional commands are accepted:

		dd, sort

		dd command -
		
			deletes any duplicated lines

		sort &lt;column name&gt;

			will sort table by named column

	    s3if internal commands are also recognized.


	    Command line display and change commands allow assigning an
	alias name and unit and format overrides. Format override will be
	saved and restored in page files. Page files will also record and
	restore column show versus hide state.



    Trend

	    The trend table will now be displayed as a tab in the trend
	control window when it is removed from the bottom of the plot
	display.

	    A "Ref" column is added to the table. It is populated with the
	first value seen when a point is added to the plot or after reset.
	It will show the value at any chosen time in the visible plot period
	chosen by a left mouse click.


	monitor "data collection" references dropped.

	MonitorHistorySize setting added.

	Settings command key words to match names (with spaces removed) in
	"Setting" frame.

	TrendExportFill option added to Settings


Release 4.4.0 4/8/10 ...2

	    Always interpret command keyword "L" as LMDD, rather than take it as
	short form "LIMIT" when in isd mode.


Release 4.4.0 5/14/10 ...3

	    Correct recognition of mdd point references in ".VALU" data
	fields of /MDD and related commands.

	    Adjust dbm reaction to interrupt signal.

	    Recover in isd point lookup when uds name is not set.

	    Add cleanit.exe, deluando.cmd, and makesense.exe to mbin.


Release 4.4.0 6/3/10 ...4


	s3serv

		Adjustment in support of s3if display of Relap5 points.

	opcclient 


		Add initialization parameters:

	    CheckStatusInterval=&lt;int&gt;

			To control the frequency at which the opcclient
		    performs server health check as integer frame count.
		    This previously fixed at 12.


	    WaitSnap=&lt;0 or 1&gt;

			To control whether the main thread will suspend 
		    normal frame processing for all servers while any are
		    busy performing snapshot. Default is 0 or don't wait;
		    Previous behavior was to wait.


</Text>
</Topic>
<Topic>rel4.4.1<Text>
    SimExec Release 4.4.1 (development)

general

	New HASP validation protocol is introduced requiring new dongle coding
    which checks product version.

dbm

    New command:

	    /TRUNcate &lt;globalid&gt; [&lt;level&gt;]

	Will reset the MDD defined size of a global root partition to
    fit the current contents. In the usual case (not "Alias") the size will
    be rounded up to a multiple of 1024 words. In the case of an "Alias"
    partition this is rounded up in accord with the precision defined for the
    global root point. The request will be ignored should the partition
    contain no members.

    /CDS command

	Modified to default to no listing mode when dbm option 'q' or 'Q' is
    in effect. Will recognize optional argument 'L' to explcitly request list
    mode.

    /ROOT command

	Will accept quoted global name.

    /LMDD, SET, and others

	Recognition of term of the form H followed by digits as a type specifier
    restricted to avoid confusion with variable names. Asterisk no required to
    specify character type override on ISD commands.

    /SMRG

	End of line comment which may be included on command will be included
    in the mdd_merge_log entry created.


fscan
	Replaced edit option(s):

	-Eeqv

	    When fscan encounters expression terms of the form
	"&lt;integer&gt; .eqv. &lt;integer&gt;" or "&lt;integer&gt; .neqv. &lt;integer&gt;" (or
	equivalent .eor. or .xor. terms) it will replace the operators with
	the arithmetic relational operators ".eq." or ".ne.". This option
	is introduced because older fortran compilers would silently accept the
	non-standard usage of a logical operator with integer arguments,
	whereas newer compilers view it as a serious error.
	    Be wary of using (or mis-using) this option as the result matches
	the alternate translation to integer bitwise logical operations only
	when both integer values match conventional boolean values.

	-Enoeqv

	    Will cancel the "-Eeqv" option.

	Addition edit option

	-Ehk

	    When active, fscan will recognize one and two byte hollerith
	literals, with warning, and will warn about the ambiguity on other
	terms which resemble hollerith literal syntax.

	-Enohk

	    Will disable any recognition of hollerith literal syntax
	(default).


gdaserver

	Support added for new data collector interface, for new Jade trend
     implementation. A TCP/IP port must be reserved for this function and
     identified by environmental variable "GDADC_SERVICE".

	Logic related to when gdaserver data collection stops collecting
     history for a JRTT point modified to reduce incidents where points are
     dropped unexpectedly.

iexec

	Interactive executive reset will now respond to environmental setting
    "S3_TOD_Reset" to set problem time to the local system time (instead of
    to 0) on reset.

	During initialization on Windows will recognize as fatal error case
    of shared global size smaller than expected.

isd &amp; related

	Corrections made with regard to case sensitivity to xpt defined point
    data type.

	Repair "DUMP PAGE" command implementation.

	Automatic page save performed on isd exit when points are on display.
    Page name consists of the current user name truncated to 7 char (if longer)
    with an 'X' appended.

lld

	New commands "Export" and "Indirect" are added. Explanation is deferred
    as they are not ready to use.


	Handling of UDS definition of Alias global partitions corrected.

opcclient

    New initialization file option item:

	CheckStatusInterval=&lt;int&gt;

	    May be used to customize how frequently, in terms of frames, the
	OPC client performs a periodic server status check. Default is 12.


s3serv

	Correction to prevent hang during executive connect operation on linux.

dbmchk

	dbmchk is upgraded to recognize and recover from case of a corrupted
    index which loops. Corrections made with regard to handling of entries
    with duplicate names; When applicable a separate file is created to report
    on these. Logic is added to explicitly indicate when a repeat run is
    required to correct for partially intercepted problems. Previously
    existing Output mdd add files "loosepoints", "trashpoints" are now moved
    to &lt;uds&gt;/old directory before recreation.


SimView

	SimView.exe and commonLib.dll added to mbin. Variables required by
    SimView added to global99 (mdd definition file bin/g99). Mst and iexec
    set 2 of these in accord with SimView expectations.

</Text>
</Topic>
<Topic>rel4.4.2<Text>



dbm

	Drop buffered data between commands.

	Apply environmental variable macro replacement on remote input.

	Restore respect of S3_FLUSH environmental variable, default to 1.

	Recognize looping behavior in corrupt index file.

	Accept read-only open of database.


    lmdd

	    Lmdd selection by long description field using @fieldname(value)
	convention modified to support wild card fieldname and include extended
	description. @field matching for both lmdd and @field edit functions
	changed from case sensitive to case insensitive.
	    Additional error checks implemented to avoid exceptions when
	data with no resemblence to expected format is encountered.

    lmsf

	    When a compile option is combined with a wild card selection, the
	lsmf process will now defer any executive rebuild operations to after
	all other compiles have been performed.

    drop user

	    DROP USER process upgraded to perform correctly when presented with
	a uds for which the home directory does not exist, delete directories
	which normally contain only generated files completely, leave database
	files to old, delete executive generated files, drop uds from ods
	udslist file, leave ic directory alone.


dbmchk

	    Correct recognition and clear of bad root pointer in MDD header.

	    Various additional reasonability checks performed to avoid failure
	when portions of the MDD have been overwritten by data with no
	resemblence to the expected forms.

dfglob, others

	Adjustment to correct recognition of the character 'd' as alternate to
    'e' for exponential form values per fortran convention for explicitly
    double precision literals.


dftglob

	Add mark of blockdata module inconsistent before each invocation of
    dfglob. Additional print echoing dfglob command being performed.

cscan

	Recognize syntax

		"#define cscan_opt &lt;cscan options&gt;"

	within c source file to set or reset appropriate cscan option values.

fscan

	Recognize in-line comment on allocate and deallocate statements.

exec, others

	Replace uses of linux "usleep" routine with applications of nanosleep.


exec

	Call freeze modules in dort status conditions.

	Implement options "-a &lt;alias&gt;",  "-b", and "-F nootx" for linux.

	Add interface to allow user module to notify iexec to use reduced
    size for snapshot of global partitions.

global99

	Add "sim_clock" equivalence for "clock" in response to name collision
    encountered with system include files.

	Add "examtime" variable per integration of SmartExam.

	Add "afterresetframes" per KSG request.

isd

	Allow deeper queueing of set messages (speeds up processing of large
    set command file).

	Expand maximum message sizes to improve throughput rate for gii clients.

	Check for server value of Fortran .true. on remote executive connection.


	Set logical variable(s) to improper logical value when input value is
    entered in explicit hexadecimal format (e.g. 0x##### or x'###########').


	Add linux only command "CLEar M" to check for and remove obsolete
    executive communication message queues. May also be invoked with additional
    integer argument with value 1 to dump details.


lld

      Commands:

	EXPORT

		EXPort &lt;global list&gt;

	    Meaingful on Windows, not on linux. globals listed will be exported
	to a shared section.  They must not be local, not sharable.

	INDIRECT &lt;global list&gt;

	    To configure indirect global (windows only), in assosciation with
	the export command and addition to mkmstG.

	MAIN &lt;object path&gt;

	    Provision for alternate entry module.


	EXCHANGE

	    Input validity check error correction.

      Environmental:

	LLD_EXTRACT

		When set to a non-zero value, the lld "Fixi" functionality
	    will notice, and automatically include and compile UDS level
	    source for a module which is defined in the MST at the ODS level
	    (only); That is it will perform an automatic extraction.
		This functionality has long been present in the lld logic,
	    however it is now disabled by default, and mut be enabled (if
	    desired) by use of this setting.

mst

	    (Linux) Add initialization check for and remove of obsolete
	executive communication message queues. More general on-demand instance
	of this functionality also added ad dbm command "CLEAR M".

	    Activate command enhancement.

	    The trncon file "a" command line, used to activate an external
	program is enhanced to allow optional clauses designating priority
	and processor assignments for the activated program. New syntax is
	as follows:

	a,[n=&lt;priority&gt;,][c=&lt;processor&gt;,]&lt;program name and arguments&gt;

	where:

		&lt;priority&gt; is integer priority as defined by operating
			system (1 to 31 on windows, 1 to 99 on linux).

		&lt;processor&gt; is integer cpu number. Mst will bias the activated
			program to execute on given processor (main thread on
			windows).

	S3_KILL_SCRIPT

		If environment variable S3_KILL_SCRIPT is defined, mst will
	    take its value as name or path for a script file to be executed
	    on terminate.

	    Improvements made to error recognition or reporting on unexpected
	signals, invalid rcc configuration, and ic snap failures.

mst, exec, dbm

	    A limit on how much data is read from mdd_merge_log for ic
	shuffle initialization. A default limit of 5 million bytes is
	implemented; This selection may be raised or lowered by defining
	environmental variable as follows.

	    ICSH_MAXLOGR=&lt;nbytes&gt;

mkmstG

	   Additional capabilities to configure external and indirect
	partitions. The s3_globals file for traditional shared parition
	takes the form:

    &lt;globalname&gt;	1	&lt;size&gt;	&lt;flag&gt;

	   New syntax possibilities added are as follows:

    &lt;globalname&gt;	2	&lt;size&gt;	&lt;flag&gt; &lt;library path&gt;

		Type 2 entries support definition of specific partition(s) in
	a separate executable (dll) file. Points in such a partition may be
	referenced in the same manners as those in traditional sharable
	partitions.

    &lt;globalname&gt;	3	&lt;size&gt;	&lt;flag&gt; &lt;dll or exe path&gt; &lt;name&gt;

		Type 3 entries support definition of specific partition(s) in
	a separate executable (dll or exe) file and with an alternate. Points
	in such a partition may be viewed from isd and other functions using
	dynamic point resolution, but may not be referenced by normal fscan
	or cscan code.


OPCClient

	    Support added for the OPC client to call a user configured routine
	asynchronously on data change notification. Additions are made to
	"OPCdcsexec.h" as follows:

struct DCSXPOINTinfo;
typedef void	(*OPCDCSexec_notify_T)(void *gaddr, VARIANT *newval,
	DCSXPOINTinfo *x);
externC OPCDCSexec_notify_T OPCDCSexec_notify_AO;
externC OPCDCSexec_notify_T OPCDCSexec_notify_DO;
externC OPCDCSexec_notify_T OPCDCSexec_notify_OO;


	    Code in the host executive may post the address of an appropriate
	routine to the OPCDCSexec_notify_AO, _DO, _OO locations. The client
	interface will then invoke the provided routine during receipt of all
	data change notifications of the appropriate type. The global variable
	(address provided in "gaddr") will not yet have been updated. The
	"info" pointer may be used in the future when the need arises for the
	notified routine to receive more information about the point.

gii

	    When environmental variable S3_DEBUG has value starting with a
	letter a file of the given name will be opened to receive the gii
	debug traces.

	    Recognition of integer parameter values for array indices added
	to name resolution.

dbaserver

	    Correction to avoid redundant concurrent copies active on linux.

dirserver

	    Recognition of long format lines in DIRserver.DAT repaired.


gdaserver

	    Data collection file size limit doubled to 4 gigabytes.

	    Seminar room initial session selection moved from file
	$S3_SEISDATA/Session.Selection to $S3_SEISDATA/Session.Selection.sr


	    Seminar data collection directory naming changed from problem time
	base to local time.

	    Data collection file sizing for seminar room collection default
	changed from auto to fixed. Additional sizing controls introduced
	as follows:

		environmental DCOL_AUTO=&lt;0 or 1&gt;
		or gdaserver.properties dcolAutoSize=&lt;on or off&gt;

			to select autosizing based on number of data collection
			points found in dcol.dat files.

		environmental DCOL_MIN=&lt;int&gt;
		or gdaserver.properties dcolMin=&lt;int&gt;

			to select minimum size to impose when autosizing is
			active and fewer points are found in dcol.dat. (Default
			is 600)

		environmental DCOL_MINSPARE=&lt;int&gt;
		or gdaserver.properties dcolMinSpare=&lt;int&gt;

			to select minimum spare to impose when autosizing is
			active. (Default is 200)


	    Deletion of the data collection map on normal gdaserver termination
	is added. May be disabled with:

		environmental DCOL_KEEP=&lt;0 or 1&gt;
		or gdaserver.properties dcolKeep=&lt;on or off&gt;


			to enable or disable deletion of the data collection
			map file on normal gdaserver termination.




	Patch 2 Release 11/1711 :

dbm
	Clear M command to remove linux memory partitions (in addition
	to message queues) and to take additional integer option

		0 - remove unreferenced partitions only
		1 - remove all


	Truncate command - corrected.

iexec
	iexec to apply priority and cpu affinity settings before calling
	initialization modules.

	correct error which caused rtexec on windows to fail to recognize
	its command line arguments.

	memload linux case enabled

gdaserver
	linux thread priority reduced.

	corrections to avoid recursive lock on certain socket server actions

	changes for coordination with OM690 on control room replay



lld
	auto-extract default to off


opc
	__stdcall opcclient restored to library

</Text>
</Topic>
<Topic>rel4.4.3<Text>
@@1428

isd, exec

    Fine control of module time collection

	When all modules are wrapped and execution time statistic collection
    is active, the time spent collecting can be excessive. This will be
    particularly severe when the system call used to read execution time
    is not very quick. The relevant system call overhead has varied widely
    across linux versions.
	To minimize the problem when the time reading overhead is high, fine
    control of which modules have time statistic collection enabled is added.

	SHOW T D

		Disable basic time statistic collection

	SHOW T F

		Show frame time

	SHOW T K

		disable frame time

	SHOW T &lt;module type&gt; [-]

		Enable or disable timing by module type

	SHOW T M [-]


		Enable or disable module timing

@@1422
isd

	Event flag settings appended to the isd "Show module" lines.

@@1443
	Interception added to disallow changing the format for display of an
    integer data item to a floating point descriptor (i.e. e,f,g).

@@1624
	Corrected recognition of REAL(&lt;complex variable name&gt;) and
    IMAG(&lt;complex variable name&gt;) on display command.

@@1425

dbm, etc.

    Support for definition of a large number of partitions in MDD.

	The MDD structure has previously limited the number of root
    partitions ("global") to 200. This limitation is removed.

@@1438

    Bind command

	New command "/BIND &lt;symbol&gt; [&lt;level&gt;]" will traverse the immediate
    successors of the given symbol. For each which is defined as "Free" ('F'),
    the successor category will be changed to "Bound" ('B').

@@1484
    LMDD sequ

	The sequ logic is upgraded to recognize and adjust to the use of
    labeled statements, rather than 'enddo' statements for loop termination.

@@1577
    LMDD bymodule

	A new keyword option is added to the LMDD command. When "BYMODULE"
    is included on the lmdd command the name(s) entered are expected to be
    names of modules in the MSF. The LMDD process will get the list of MDD
    points referenced by the module, apply other selection criteria,
    and list the points with format and auxiliary data options as selected on
    the command.

@@1578
    LMDD multistore

	A new keyword option is added to the LMDD command. When "MULTISTORE"
    is included on the lmdd command, the listing will include only points whose
    cross-reference shows that they are stored to by more than one module.
    Multiple instances of the same module name, and modules of type BLOCKDATA
    are ignored.

@@
    LMDD nostore

	The lmdd nostore keyword option is upgraded to ignore modules of type
    BLOCKDATA.

@@1579 
    LMDD +

	The plus sign ("+") optional lmdd argument will append a list of
    point equivalences to any of the lmdd formats which do not already include
    one. This will not apply when in combination with IC data listing.

@@1478
    LMSF mkstruct

	When the "mkstruct" option encounters repeated instances of a module
    call it suppresses repetition of the list of modules called. A plus sign
    ("+") is added to list format to explicitly show when this occurs. 

@@1642

    Option U

	Option U (strictly upper case) will set a mode flag to ignore ODS
    definition on UDS level /ADD command. Usually dbm will refuse with an
    error message to add a point when a point with the given name is already
    defined in the ODS. When this option is set the ODS definition will be
    ignored.
        Option "u" (lower case) will reset this mode.


@@1475

    RENAME

	An additional argument 'N' or 'S' is now expected on the rename
    commands to explicitly indicate whether to modify source files.
    A value of 'S' requests source files be modified; A value of 'N' (default)
    suppresses modification of source files.

@@1112

    ENCRYPT &lt;from path&gt; [&lt;to path&gt;] &lt;key&gt;
    DECRYPT &lt;from path&gt; [&lt;to path&gt;] &lt;key&gt;

	This pair or dbm commands will encrypt and decrypt files. Files which
    have been encrypted cannot be recovered without providing the key.

@@1426

dbm, fscan

    Support functions returning character

	The function return types H0, and H*1 through H*255 are added to dbm
    INCLUDE and other relevant areas to represent functions returning fortran
    character string variables.


@@1427

fscan

    Various fscan corrections and enhancements

	    Fscan option "-Egenlci" added to request fscan to generate an
	include file placing local variables into a common block. Option
	"-Enogenlci" also added to cancel this selection.

	    Fscan option "-E1list" added to request merge of list file cross
	reference list into storage dictionary list. Also option "-E2list"
	to cancel.

	    Corrections made to "-Efree" interpretation of free format.

	    Recognition of fortran compatibility form convention of placing
	ampersands beyond collumn 72 of continued lines implemented.

	    Source submitted to compiler to always use ampersand as continuation
	character, and include ampersand in collumn 73 of continued lines.

	    Corrections for input buffer size.

	    Logic added to follow the implications of implicit statements.

	    Logic added to better recognize implicit functions.

	    Logic added to recognize presence of MDD alias definitions for
	locally defined common variables

	    Fscan option "-ExrAlias" added to add cross reference information
	to mdd for variables locally defined in common blocks for which
	MDD alias definitions are present.

	    Correction to built-in definition of intrinsic function NINT.

	    Corrections to recognition of select case structure syntax.

	    Recognition of "!*Option" as alternative to "C*Option", and
	of "!*Where" as alternative to "C*Where" added.

	    Exponential literals to have at most one space separating mantissa
	from "D" or "E" exponent indicator.

	    Reduced keyword limitations on LEN, DATA, and SELECT.

	    Option "-E nomdd" will also suppress TDB search.

	    Fscan to correct the argument count recorded in the MSF when it does
        not match the actual number of arguments in subroutine source, even when
	both exceed 60.

    Name collision convention

	    When defining alias definitions for common blocks defined by
	code developed in other environments it is fairly common to encounter
	name collisions. Only one definition of a given name can be defined
	in the MDD. The convention is adopted to append underscore followed
	by the common block name to the source name to generate a unique name
	for mdd definition. This convention is explicitly supported in three
	areas as follows:
		The "-ExrAlias" logic will look for such a point when the
	    symbol defined in a common is not found in the mdd, or an mdd
	    definition is found which is not in the appropriate common block.
@@1430
		The LMDD sequ listing, when applied to a name which
	    follows this convention, will include source references which do
	    not include the suffix.
		The dbm ADD command will check for the environment variable
	    "ALIAS_ADD_SUFFIX" when the symbol found on an ADD command is
	    already defined in the mdd. If found the the ADD command will
	    proceed with the value provided appended to the name.

@@1463

lld

    RESET

	Reset command implementation modified to also set the snapshot flag.

@@1482
    ! comments

	End of line comments starting with exclaimation point ("!") may now
    be included on lld command lines.


@@1567
    global name level specifications

	The various global configuration commands will now recognize ",U" or
    ",O" appended to global names to explicitly specify whether a UDS or an
    ODS definition is intended.
	LLD will now detect and produce a warning when UDS and ODS Alias
    global definitions have different sizes. On include of such a partition
    LLD will default to using the ODS size definition. New syntax allows
    explicit user input to select either.

@@1645
    eliminate /link warning

	Redundant "/link" argument on Windows suppressed when S_OLIST=1 and
    linkoptions is not empty.

@@1441

s3if

	Default edit task is filled in with "notepad.exe" for windows, or
    "gedit" for linux.

	Default spreadsheet task is filled in with gnumeric for linux.

@@1440
	LLD functions will discard ".exe" suffix when encountered on initial
    executive name.

@@1273
@@gii2dde

gii2dde

	gii2dde is a program to provide dynamic global data from remote
    executive(s) to DDE clients through s3serv. DDE is a feature of
    Windows operating systems which provides a simple method to communicate
    dynamic data values to Excel and other programs. It is not available on
    linux. This program, executing on Windows, may be used to gather data from
    executives executing on linux computers.
	gii2dde with no arguments will provide description of the required
    arguments as follows:

    gii2dde &lt;ddeservicename&gt; &lt;host&gt; &lt;s3service&gt; &lt;uds&gt; &lt;executive&gt; ...

	gii2dde provides a Windows DDE service to deliver dynamic simulation
	data from a SimExec executive task accessible through s3serv

	It requires a minimum of 5 arguments -

	- first to define a Windows DDE Service Name to respond to
	- next 4 to define an s3serv and executive to connect simulation
		&lt;host&gt; &lt;service&gt; &lt;uds&gt; &lt;executive&gt;

	    where:

		&lt;host&gt;	identifies the computer where your target SimExec
			instance executes. It may be identified by host
			name or IP address
		&lt;service&gt;  identifies the s3serv service port to be found
			on the target host. It may be identified as a service
			name resolved in the etc\services file or a numeric
			port number
		&lt;uds&gt;	identifies the user development system directory
			in which the executive will execute.
		&lt;executive&gt;	is the executive name (or alias).

	- optional 6th argument overrides default base update interval
	  (in milliseconds, default is 250)


    For example:

	gii2dde ddeserv simhost s3 load myexec

		will establish dde service with the name "ddeserv"
		to communicate with an executive named "myexec"
		in uds "load" on a computer named "simhost" with
		service port "s3" defined in the etc\services file.


	The common use of this service is to supply values to Excel,
	using the Excel formulation
		 =ddeserv|topic!itemname
	Where:
		topic is required, but ignored.
		itemname identifies a global data point. May include
		member and or array element syntax, with extension that
		array element may be specified with a dot notation.


	gii2dde will continue to execute when the s3serv or executive
	are unavailable with periodic (re-)connect attempts. It will provide
	the value "-" for unavailable data points.

@@1569

opc client

	An integer value provided in the BckResetReqValue, BckSnapReqValue,
    ResetReqValue, or SnapReqValue initialization file inputs will now be
    added to the backtrack or ic number sent to server.



@@1496

GDAserver Data Collection Auxiliary Collectors

	    Auxiliary collectors added for recorder history. Auxiliary
	collectors may snapshot and restore history to support valid recorder
	history display after reset.

	    They are initiated by providing initialization file(s)

	%S3_SEIS_DATA%\GdaDCAux0.ini
	%S3_SEIS_DATA%\GdaDCAux1.ini
	...


	    Each is to define parameters in the form &lt;parameter name&gt;=&lt;value&gt;
	for the following parameters.

	    CollectorName	&lt;string&gt;
	    Interval		&lt;integer - Milliseconds&gt;
	    MaxRecords		&lt;integer - record count&gt;
	    SnapRecords		&lt;integer - record count&gt;
	    Precision		&lt;4 or 8&gt;


	    CollectorName is required and is used to define point names and
	socket server connection identification.

	    Interval - minimum 50, not sure what would be maximum effective,
		at least 1000 for 1 cps should be ok

	    MaxRecords - This defines maximum file size and history period. i.e.
		cps = 1000/Interval
		maxhistoryperiodseconds = MaxRecords/cps

	    SnapRecords - defines how many records, therefore the interval which
	is to be included in snapshot and reset. 0 - &gt; no snapshot. It must be
	less than MaxRecords.


	    The list of points to be recorded by the auxiliary collector is
	fixed. They are to be defined, one point per line, in file:

		%S3_SEIS_DATA%/&lt;CollectorName&gt;.dat


	    Data collection will be performed in mapped file:

		%S3_SEIS_DATA%/&lt;CollectorName&gt;.map

	    Initial Condition data will be stored in files:


		&lt;ODS IC DIRECTORY&gt;/&lt;icname&gt;&lt;CollectorName&gt;.gdadcic

	    Client access to the auxiliary data history is available through
	the socket server interface.

	    A list of available AuxCollectors is provided with the getDCstate
	response.
	    A client may perform an "attachCollector" request to redirect its
	service to one of the auxiliary collectors.  This will not affect
	active ListIds. Once attached to an auxiliary collector the responses
	to the succeeding service requests will redirect to the auxiliary
	collector. i.e.
		getVarListId will establish a new listid against the auxiliary
	    collectory.
		getAllNames will provide the list of points being collected
	    by the auxiliary collector.
		getDCstate response will include parameters of the auxiliary
	    collector.

	    An attachCollector request to "main" will restore connection to
	the primary collector.

	    On simulation reset the auxiliary collector will restore data, as
	available, from its specific ic file. This history will then be
	available to socket server clients attached to the specific collector.
	As we normally reset problem time on reset, these records will have the,
	previously undefined, property of a problem time less than zero. Clients
	will need to adjust accordingly, that is: a request with start time of
	zero will no longer always include the earliest available, one must 
	request an explicit start time less than zero to retrieve data from
	before problem time 0.. An end time of zero is still taken to imply
	the latest available.


</Text>
</Topic>
<Topic>rel4.4.4<Text>

Release4.4.4 4/2/12


dbm/isd


@@1860
    MMSF

	    Add copy of ".mod" and ".xml" files to module merge process when
	module type is MODULE.


    REMOVE

	    Remove of ".mod" and ".xml" files when applicable.


@@1850
    Reset command synonyms

	    Add RESTORE synonym for the reset command.

	    Add BACK as synonym for RESET, with the 'B' argument specifying a
	backtrack, rather than IC, snapshot implied.


@@1859
    Monitor

	    The monitor page is expanded to support up to 100 items. Monitor is
	upgraded to detect the current window height and adjust the number of
	lines displayed on refresh.


@@1851
    LMSF

	    Optional argumet "/mark" will mark modules selected inconsistent.

@@1955
	    Optional argument U-O will restrict list to UDS modules for which
	an ODS version does not exist.
	
	    Optional argument U&amp;O will restrict list to UDS modules for which
	an ODS version also exists.
	

@@1851
    MARK

	    Optional "O" argument per module will mark ODS module inconsistent.


@@1152
    CLEAR M

	    Removal of message queues repaired.


@@2023
    SHUFFLE

	    Recognition of structured variables repaired.


@@1952
    STOP Status

	    The simulation state previously named "FAIL" is now named "STOP" to
	better reflect that the simulation system has stopped dynamic simulation
	execution due to an unexpected condition, but is usually able to
	continue from this state.



@@1860
fscan, others


	    Add support or recognition of many more of the features added to
	Fortran by the Fortran 90, 95, and 2003 standards. It is also upgraded
	to recognize some other old coding practices which it previously
	failed to handle correctly.


	    When fortran MODULE programs are defined and used, fscan and dbm
	will now track the the ".mod" file, and a new fscan created file to
	record the public contents for use by fscan and lld when they encounter
	references to the module.


	   Fscan will now automatically insert or update the function return
	type recorded in the MSF when it finds a conflicting declaration while
	compiling the routine.


	   Fscan MPX compatibility recognition of multiple assign statement,
	and translation to separate assign statements is no longer supported.


    New fscan options:


	    -D&lt;symbol&gt;

	    Option D is to define a symbol for conditional compilation macro
	logic.


	    -Ecim, -Enocim

	    The option "-cim" informs fscan to perform a recursive compile
	of inconsistent modules encountered on use statements. It is enabled
	by default. Option "-nocim" disables this.



	    -Eretain

	    The "-Eretain" option tells fscan to retain the case of symbol
	names as found in the source file. It may be overridden by options
	-Elower or -Eupper.


	    -Esequence

	    When -Esequence is present fscan will force local type definitions
	to include the sequence attribute. Fscan option "-Enosequence" will
	cancel this selection.


	    -i&lt;system&gt;

	    Fscan option "-i" initiates an import mode. Under the import mode
	fscan will read files from input paths which are not expected to
	correspond with the normally enforced source file naming conventions,
	and create MSF entries and appropriately placed input files for the
	routines found there.  A system id to be used as system id field of
	the MSF entries created is required as option argument.


	    -Exdata, -Enoxdata
	    -Ecno, -Enocno
	    -Efcd, -Enofcb

	    These options control parsing for very specific problems.
	    -Exdata allows fscan to recognize data statements mixed with
	executable statements, -Enoxdata disables it. Defaults off.
	    -Ecno allows fscan to suppress card image format sequence numbers
	found in columns 73 to 80. -Enocno disables it. Defaults off.
	    -Efcb allows fscan to recognize symbols with leading digits.
	-Enofcd disables it. Defaults on.


@@1709
lld

	    LLD will now check for the presence of requested command files
	as text files in the MSF, and give them preference, before opening
	command files in the current default directory.


	    Post executive to msf after user statement.


@@lld_xref,1911
	    When environmental "LLD_XREF" is defined as 1 or "control" will
	add cross reference to modules explicitly loaded.
	    When environmental "LLD_XREF" is defined as 2 or "all" will
	add cross reference to all modules loaded.
	    The default remains that building executives does not update
	cross reference. The cross reference storage will omit any modules
	loading from an alternate UDS (the current data structure does not
	support representing such a reference).
@@

@@1860
	    LLD will now create a table in the executive to track public
	module variables.


@@1993
executive

	    Deletion of drive routines repaired.


@1994
	    An interface is added to the iexec snapshot and reset routines
	to support HDS redirection of server initial condition files to the
	IC directories of the client.



@@1709
mst

	    Mst will now open trainer configuration files in the &lt;uds&gt;/text
	or &lt;ods&gt;/text directory, when present, in preference to the uds home
	directory.


@@1910
	    Support is added for encrypted initial condition files.


@@2022
	    Trainer configuration file input lines may now be of arbitrary
	length and may be divided across multiple lines by terminating the
	line to be continued with a backslash followed immediately by return.


	    Environment variable macro substitution will now be performed on
	all trainer configuration file input.


	    The activate command line ("a,") is extended to support specifying
	a startup directory and environment variable values to be applied to
	the activated program. A clause of the form ",d=&lt;directory path&gt;"
	will set the default directory. A clause of the form
	"e&lt;variable&gt;=&lt;value&gt;" will set an environmental variable for the
	program to be activated.



@@1694
dfglob

	    Notification of non-present symbol references changed to state
	"warning" instead of "error".



@@2025
gdaserver

	    When the configured maximum number of data collection slots have
	been exceeded, gdaserver will now reuse slots which were implicitly
	assigned by JTrend and are no longer in active use. Previously this
	would only occur after a reset.


@1991
	    The sSwckMisp array will now be used to source data for the SEIS
	switch check mispositioned data request.



@@1910
global99

	    symbol "redfish" - defined as character*32 at offset 3228 is added
	to global99.


@@1857
opcdcsexec

	    A new interface is added to the opc client to support simulator
	specific actions on receipt of OPC error indications.



s3if/jdb


@@1998
	    The SimExec java-based graphic user interface program formerly
	known as "s3if is renamed "jdb".  In those instances where "s3if" was
	used as part of file names a corresponding change is made. The term
	"desk top" is replaced with "Dash-board".


@@1941
    Window tracker

	    An additional window to review, and track, and select, or minimize,
	and the internal windows currently active is added.


@@1931
    Shortcut keys

	    Control-X as shortcut key for "cut", Control-C as shortcut key for
	"copy", Control-V as shortcut key for "paste", and Delete key shortcut
	for "clear" are now recognized in the Variables (MDD), Ic Patch,
	Monitor (ISD), Trend, and Modules (MSF) interface window.

	    Control-X shortcut for "copy" is added to the Executive Modules
	tables.


    Main menu rearrangement

@@1982
	    The "Misc" menu is dropped. The "DBM Frame" and "DBM/ISD Window"
	selections previously located there are moved to the "Database" menu.
	The "Add Global Variable" and "Edit Source File" selections previously
	located there are dropped as redundant to the equivalent functions
	of the Variables (MDD), and Modules (MSF) windows.


@@1882
	    "SaveOver" is added to the "State" menu. When it is selected jdb
	will replace the most recently restored state file to reflect its
	current state with no additional prompt/response. If selected when
	no state restore operation has been performed it will create or
	replace a "Default" state save.

@@1971
    Dash-board window

	    Scroll bars are added to the main window when it contains any
	internal windows whose current size and location extend outside its
	bounds.


@@2020,1913
    Nimbus look and feel support

	    Various components are adjusted to make the Nimbus look and feel
	a usable option.


@@1952
    STOP status

	    The simulation state previously named "FAIL" is now named "STOP" to
	better reflect that the simulation system has stopped dynamic simulation
	execution due to an unexpected condition, but is usually able to
	continue from this state.


@@1985
    MSF Select / List frame

	    Options "U-O" and "U&amp;O are added to the level selection dropdown
	selection list.


@@1881
    Output frame

	    The tiny buttons for clear, edit, and print are replaced with
	normal size icon buttons.

@@1987
	    Several adjustments made to when the output frame grabs focus.

@@1953
    Settings frame

	    A drop down selection will now be provided for boolean valued (that
	is true or false) settings.


@@1984
    Monitor

	    A button is added to select variable list input from an arbitray
	user selected file.

@@1581,1914
    Trend

	    A grabbable adjustment to select the height of the table portion
	of the trend window is added.





Release4.4.4 P1  7/10/12

@@2337
iexec library

	    A correction to the isas routine is entered to no longer share
	global98 in a linux iexec. The resolution of global98 is adjusted to
	require that it, when applicable, be configured in the executive load.
	(linux iexec.a; no impact on Windows.)

@@2345
	    The exesrv support for an executive hosted instance of s3serv is
	corrected because it no longer worked for the reset command.
	(Windows iexec libraries; no impact on linux.)

@@2344
fscan

	     Fscan correction to correct recognition of exclamation point in
	column on fixed format input. Was erroneously interpreting such lines
	as comments.


@@2357
gdaserver

	    Stray trace print in rmtValues removed.

@@2393
dfglob

	    dfglob was failing to produce an "not found" error message as
	appropriate when operating in ic patch mode.






</Text>
</Topic>
<Topic>rel4.4.4<Text>

Release4.4.4 4/2/12


dbm/isd


@@1860
    MMSF

	    Add copy of ".mod" and ".xml" files to module merge process when
	module type is MODULE.


    REMOVE

	    Remove of ".mod" and ".xml" files when applicable.


@@1850
    Reset command synonyms

	    Add RESTORE synonym for the reset command.

	    Add BACK as synonym for RESET, with the 'B' argument specifying a
	backtrack, rather than IC, snapshot implied.


@@1859
    Monitor

	    The monitor page is expanded to support up to 100 items. Monitor is
	upgraded to detect the current window height and adjust the number of
	lines displayed on refresh.


@@1851
    LMSF

	    Optional argumet "/mark" will mark modules selected inconsistent.

@@1955
	    Optional argument U-O will restrict list to UDS modules for which
	an ODS version does not exist.
	
	    Optional argument U&amp;O will restrict list to UDS modules for which
	an ODS version also exists.
	

@@1851
    MARK

	    Optional "O" argument per module will mark ODS module inconsistent.


@@1152
    CLEAR M

	    Removal of message queues repaired.


@@2023
    SHUFFLE

	    Recognition of structured variables repaired.


@@1952
    STOP Status

	    The simulation state previously named "FAIL" is now named "STOP" to
	better reflect that the simulation system has stopped dynamic simulation
	execution due to an unexpected condition, but is usually able to
	continue from this state.



@@1860
fscan, others


	    Add support or recognition of many more of the features added to
	Fortran by the Fortran 90, 95, and 2003 standards. It is also upgraded
	to recognize some other old coding practices which it previously
	failed to handle correctly.


	    When fortran MODULE programs are defined and used, fscan and dbm
	will now track the the ".mod" file, and a new fscan created file to
	record the public contents for use by fscan and lld when they encounter
	references to the module.


	   Fscan will now automatically insert or update the function return
	type recorded in the MSF when it finds a conflicting declaration while
	compiling the routine.


	   Fscan MPX compatibility recognition of multiple assign statement,
	and translation to separate assign statements is no longer supported.


    New fscan options:


	    -D&lt;symbol&gt;

	    Option D is to define a symbol for conditional compilation macro
	logic.


	    -Ecim, -Enocim

	    The option "-cim" informs fscan to perform a recursive compile
	of inconsistent modules encountered on use statements. It is enabled
	by default. Option "-nocim" disables this.



	    -Eretain

	    The "-Eretain" option tells fscan to retain the case of symbol
	names as found in the source file. It may be overridden by options
	-Elower or -Eupper.


	    -Esequence

	    When -Esequence is present fscan will force local type definitions
	to include the sequence attribute. Fscan option "-Enosequence" will
	cancel this selection.


	    -i&lt;system&gt;

	    Fscan option "-i" initiates an import mode. Under the import mode
	fscan will read files from input paths which are not expected to
	correspond with the normally enforced source file naming conventions,
	and create MSF entries and appropriately placed input files for the
	routines found there.  A system id to be used as system id field of
	the MSF entries created is required as option argument.


	    -Exdata, -Enoxdata
	    -Ecno, -Enocno
	    -Efcd, -Enofcb

	    These options control parsing for very specific problems.
	    -Exdata allows fscan to recognize data statements mixed with
	executable statements, -Enoxdata disables it. Defaults off.
	    -Ecno allows fscan to suppress card image format sequence numbers
	found in columns 73 to 80. -Enocno disables it. Defaults off.
	    -Efcb allows fscan to recognize symbols with leading digits.
	-Enofcd disables it. Defaults on.


@@1709
lld

	    LLD will now check for the presence of requested command files
	as text files in the MSF, and give them preference, before opening
	command files in the current default directory.


	    Post executive to msf after user statement.


@@lld_xref,1911
	    When environmental "LLD_XREF" is defined as 1 or "control" will
	add cross reference to modules explicitly loaded.
	    When environmental "LLD_XREF" is defined as 2 or "all" will
	add cross reference to all modules loaded.
	    The default remains that building executives does not update
	cross reference. The cross reference storage will omit any modules
	loading from an alternate UDS (the current data structure does not
	support representing such a reference).
@@

@@1860
	    LLD will now create a table in the executive to track public
	module variables.


@@1993
executive

	    Deletion of drive routines repaired.


@1994
	    An interface is added to the iexec snapshot and reset routines
	to support HDS redirection of server initial condition files to the
	IC directories of the client.



@@1709
mst

	    Mst will now open trainer configuration files in the &lt;uds&gt;/text
	or &lt;ods&gt;/text directory, when present, in preference to the uds home
	directory.


@@1910
	    Support is added for encrypted initial condition files.


@@2022
	    Trainer configuration file input lines may now be of arbitrary
	length and may be divided across multiple lines by terminating the
	line to be continued with a backslash followed immediately by return.


	    Environment variable macro substitution will now be performed on
	all trainer configuration file input.


	    The activate command line ("a,") is extended to support specifying
	a startup directory and environment variable values to be applied to
	the activated program. A clause of the form ",d=&lt;directory path&gt;"
	will set the default directory. A clause of the form
	"e&lt;variable&gt;=&lt;value&gt;" will set an environmental variable for the
	program to be activated.



@@1694
dfglob

	    Notification of non-present symbol references changed to state
	"warning" instead of "error".



@@2025
gdaserver

	    When the configured maximum number of data collection slots have
	been exceeded, gdaserver will now reuse slots which were implicitly
	assigned by JTrend and are no longer in active use. Previously this
	would only occur after a reset.


@1991
	    The sSwckMisp array will now be used to source data for the SEIS
	switch check mispositioned data request.



@@1910
global99

	    symbol "redfish" - defined as character*32 at offset 3228 is added
	to global99.


@@1857
opcdcsexec

	    A new interface is added to the opc client to support simulator
	specific actions on receipt of OPC error indications.



s3if/jdb


@@1998
	    The SimExec java-based graphic user interface program formerly
	known as "s3if is renamed "jdb".  In those instances where "s3if" was
	used as part of file names a corresponding change is made. The term
	"desk top" is replaced with "Dash-board".


@@1941
    Window tracker

	    An additional window to review, and track, and select, or minimize,
	and the internal windows currently active is added.


@@1931
    Shortcut keys

	    Control-X as shortcut key for "cut", Control-C as shortcut key for
	"copy", Control-V as shortcut key for "paste", and Delete key shortcut
	for "clear" are now recognized in the Variables (MDD), Ic Patch,
	Monitor (ISD), Trend, and Modules (MSF) interface window.

	    Control-X shortcut for "copy" is added to the Executive Modules
	tables.


    Main menu rearrangement

@@1982
	    The "Misc" menu is dropped. The "DBM Frame" and "DBM/ISD Window"
	selections previously located there are moved to the "Database" menu.
	The "Add Global Variable" and "Edit Source File" selections previously
	located there are dropped as redundant to the equivalent functions
	of the Variables (MDD), and Modules (MSF) windows.


@@1882
	    "SaveOver" is added to the "State" menu. When it is selected jdb
	will replace the most recently restored state file to reflect its
	current state with no additional prompt/response. If selected when
	no state restore operation has been performed it will create or
	replace a "Default" state save.

@@1971
    Dash-board window

	    Scroll bars are added to the main window when it contains any
	internal windows whose current size and location extend outside its
	bounds.


@@2020,1913
    Nimbus look and feel support

	    Various components are adjusted to make the Nimbus look and feel
	a usable option.


@@1952
    STOP status

	    The simulation state previously named "FAIL" is now named "STOP" to
	better reflect that the simulation system has stopped dynamic simulation
	execution due to an unexpected condition, but is usually able to
	continue from this state.


@@1985
    MSF Select / List frame

	    Options "U-O" and "U&amp;O are added to the level selection dropdown
	selection list.


@@1881
    Output frame

	    The tiny buttons for clear, edit, and print are replaced with
	normal size icon buttons.

@@1987
	    Several adjustments made to when the output frame grabs focus.

@@1953
    Settings frame

	    A drop down selection will now be provided for boolean valued (that
	is true or false) settings.


@@1984
    Monitor

	    A button is added to select variable list input from an arbitray
	user selected file.

@@1581,1914
    Trend

	    A grabbable adjustment to select the height of the table portion
	of the trend window is added.





Release4.4.4 P1  7/10/12

@@2337
iexec library

	    A correction to the isas routine is entered to no longer share
	global98 in a linux iexec. The resolution of global98 is adjusted to
	require that it, when applicable, be configured in the executive load.
	(linux iexec.a; no impact on Windows.)

@@2345
	    The exesrv support for an executive hosted instance of s3serv is
	corrected because it no longer worked for the reset command.
	(Windows iexec libraries; no impact on linux.)

@@2344
fscan

	     Fscan correction to correct recognition of exclamation point in
	column on fixed format input. Was erroneously interpreting such lines
	as comments.


@@2357
gdaserver

	    Stray trace print in rmtValues removed.

@@2393
dfglob

	    dfglob was failing to produce an "not found" error message as
	appropriate when operating in ic patch mode.






</Text>
</Topic>
<Topic>rel4.4.5<Text>
dbm/isd

	    When an explicit array offset or range is combined with a wild card
	symbol name on "display" or "list m" commands, the list of points
	selected by dbm/isd will now include only points defined with an array
	dimensionality large enough to include the selected index.

dbm

	    A variation of the "RENAME MDD" command to operate at the ODS level
	is added.

		/RENAME MDD &lt;old name&gt; &lt;new name&gt; O &lt;N | S&gt;

	    Will rename an mdd point at the ODS level. The point may not be a
	global root, and it may not have successors. Symbol replacement in
	modules which reference the mdd point will be performed in versions
	extracted to the UDS.


cscan
	    environment variable MIX_CHAR_LEN

	    Default value = 1 :

	    Character argument protocol is char pointer, immediately followed
	by implicit length argument. This corresponds to the protocol used by
	gfortran, Microsoft-&gt;DEC-&gt;Compac, and to ifort when compatibility
	argument /Gm.

	   When defined MIX_CHAR_LEN=0 :

	    Character argument protocol is to move all of the implicit length
	fields for character arguements to the end of the list. This corresponds
	to the default for ifort.


executive

	    Corrected for clearing of floating point exception flags on linux.

	    Several modules are added to the executive library for on-demand
	inclusion when configured. These include:

		recordcsv

			    A light weight, high accuracy, data recording
			facility.
			    See "help recordcsv"

		execxpt

			    A service provider and concentrator to communicate
			data point definitions from other modules loaded in the
			executive to isd, jdb, and other clients.

		xptmvtab

			    An execxpt service provider to communicate
			definitions of public data defined in Fortran module
			routines.
			    See "help mvtab"

		hdxifs

			    A generic, xpt client, replacement of the
			server logic routine used with HD simulation models.

		hdxifc

			    A generic, xpt client, replacement of the
			client routine used with HD simulation models.

		hdxifcs

			    A combiner for the hdxifs and hdxifc routines.

		scfgetputreset, scfgetr, scfgetr1, scfgeti, scfgetra
		scfputr, scfputi, scfputra, scfexpress

			    Routine group for variable access by ascii symbol.
			    See "help scfgetput"


mst
		Maintain Frame Sequence scheduling mode added

	    The default mst scheduling protocol prioritizes real-time framing
	over strict frame sequencing by allowing frames to overlap when real
	time executives have not completed a previous frame when it is time to
	begin the next. Alternate modes which force strict frame sequencing at
	potential loss of real-time have been supported under "fast-time",
	"Development mode", and under "rcc" controls. An alternate base mode
	which always maintains strict sequencing and maximizes the attempt
	to maintain real-time, rather than taking it as an absolute requirement
	is introduced.
	

	    Selection of the alternate frame scheduling protocol is made by
	a trainer configuration file (trncon) line beginning with "ds" as an
	alternate to the "d" or "D" line. The sequence "do," is also now
	recognized as a more explicit equivalent to "d,".

	    New trncon syntax, alternates to "d,&lt;tps&gt;,&lt;framecount&gt;" are as
	follows:

	"do,&lt;tps&gt;,&lt;framecount&gt;

		    This is interpreted exactly as "d,...", an extra letter 'o'
		is added to more explicitly show the selection.

	"ds,&lt;tps&gt;,&lt;framecount&gt;

		    Selects "Maintain Frame Sequence" scheduling. In this mode
		mst will wait for all rtexecs to finish each frame before
		starting the next, that is: no overlap is allowed. When
		rtexec(s) are not ready mst will wait for them and after doing
		so will start succeeding frames as soon as rtexecs are ready
		as needed to catch up. Frames will be dropped from real time
		and mst_D_waits incremented when the frames needed to catch up
		exceed 1 second.
		    This is similar to the scheduling algorithm previously
		available in mst fast time. Exception is that the mst
		fast time previously had no overtime exception. Overtime is
		re-implemented so that an executive exceeding its declared
		"-o#" frame allowance will be placed in overtime. For this
		to behave correctly on linux a modification is made in iexec
		library to STOP on SIGXCPU, which was previously ignored. The
		overtime will then appear as SIGXCPU rather than as overtime.

		related global99 variables:

			drpioff -&gt; mst_go

				The long obsolete global99 variable drpioff
			    is renamed "mst_go". It may be monitored
			    by programs which may need to be aware that
			    frame "catch up" is pending. zero and 1 are normal
			    values, (larger values normal in fast time),
			    greater than one during normal run state would
			    indicate the catch up is pending (higher values
			    during other states, such as reset, are expected).

			sstintc -&gt; mst_maxgo


				The long obsolete global99 variable ssstintc
			    should be renamed mst_maxgo. mst will update it
			    to whenever mst_go is larger than its current value.
			    It is a debug monitor aide to help see what is
			    happening during "ds" mode run sessions. It will
			    usually need to be manually zeroed at start of a
			    session to be useful.

			rtexflag[exno+1] - increments when mst waits on exec

				rtexflag[exno+1] increments by halfword
			    during "do" operation whenever an executive frame
			    overlaps. Under ds mode it will increment whenever
			    mst waits on the executive.

	    When using the "ds" scheduling mode, it is important that analysts
	or developers monitor the global99 variable "mst_D_waits" to be aware
	whether second to second real-time is being attained.

	    The "ds" scheduling mode cannot support configuration of an
	executive which is expected to normally overlap frames to support a
	lower rate, cpu intensive model. When such a model is part of the
	system, the default, overlapping, scheduling mode must be used. The
	"rcc" feature of mst is meaningless under the "ds" scheduling protocol.
	When the "do" protocol is used it provides considerable flexibility
	for an analyst to implement a compromise solution.



Release 4.4.5.P1 02/12/13

	Correction to ic encryption.

Release 4.4.5.P2 02/25/13

	Enhancement to ic encryption to allow backtrack snapshot to proceed
    in parallel with encryption.

	Correction to lld creation of module variables table to be compatible
    with Linux.

</Text>
</Topic>
<Topic>rel4.4.6<Text>
@@2932
dbm

	Will not allow input of variable name containing period. Per long
    obsolete compatibility dbm would previously accept a symbol name with
    embedded period when the symbol entry was quoted (neither fscan nor cscan
    code could reference such a symbol). This is no longer accepted.

	Notepad print default provided for text printing on Windows. A program
    for dbm and isd to print text files may be identified with the S3_PRINT
    environmental variable. No default was provided. The text print functions
    will now default to use of notepad with "/P" option on Windows. (There is
    still no default implemented on linux.)

	Setting environment variable setting "S3_ALIGN=0" will permit building
    MDD without forcing point offsets to natural boundaries. Natural binding
    logic is usually always enforced for MDD variables. For unusual
    circumstances one may now use this new setting to allow building an MDD
    without natural binding enforcement.

@@3406
	Command "IC SUFFIX &lt;new suffix&gt;" added to override S3_IC_SUFFIX setting
    within a session. Use of differing ic suffixes is used to differentiate
    ic files for different parts of a system on some HD simulation
    implementations. This command is to make it less inconvenient to direct
    the LMDD IC data listing functions to such alternate IC files.

@@2897
	Truncation of 1st 6 description lines sensitive to avoid creating
    invalid character per utf-8 convention. The brief description line, and the
    first 5 lines of long description are each limited to 72 characters. The
    truncation logic when a longer input is received is modified to avoid the
    possibility of splitting a utf-8 multi-byte character. 


	LMDD ic delta syntax interpretation adjusted too recognize additional
    cases of request for compare of default values against ic.

	Repair recognition of /IC SET command.


dbm, dftglob, executive, etc.

	Default global image data files (d.global*) will now be placed in
    a subdirectory named "dfg" instead of in the UDS or ODS home directory.
    These files can be a significant amount of clutter in the home directory,
    especially when the number of global partitions defined is unusally large.
    They are now moved to their own directory to eliminate this issue.
    Dftglob will now create this subdirectory and generate the default image
    files there. All other programs using these files are redirected
    accordingly. Dftglob will also delete any obsolete image files found in
    the home directories.

@@2970
fscan

	Will accept dollar sign in local symbols. Will also accept local
    symbols with leading underscore, without translation. Symbols with leading
    underscore are not allowed by Fortran, nor by dbm. Local ymbols with
    leading underscore were accepted by fscan with translation acceptable to
    Fortran. This is changed to without translation in order to allow fscan
    to pass usage of Fortran pre-processor symbols.

	Will resolve parameters, and expressions used to define dimensions in
    option "-a" add files rather than output the dimension definitions as
    found.

	Correction to implicit function type on import with option -8.

	Do not add variable name introduced by "only: name-&gt;alias" clause
    to module variable table.

	Fscan option "-Ecolon2_" will translate colon characters found in
    symbol names to underscore before database lookup. An unusual protocol to
    allow compatibility with some third party practice.

@@2932,2960,2871
isd

	Dump command will now display value of parameter. (This value display
    has been missing in recent releases.)

	Screen handling upgraded for compatibility with short window. In
    addition to recognizing and taking advantage of command windows with
    more than 24 lines, isd will now recognize and adapt appropriately to
    shorter windows.

	S3_PRINT setting will default to use notepad on Windows

	Drive functions to recognize XPT variables. The drive functions may
    now be used to set values to variables dynamically defined in the executive
    and resolved by the XPT functions. Such variables may also be referenced
    in the drive function expressions.


@@3511
	"NEW" command added

	syntax:
		isd&gt;NEW,&lt;variable&gt;-&gt;&lt;expression&gt;
		or
		isd&gt;&lt;linenumber&gt; NEW,&lt;variable&gt;-&gt;&lt;expression&gt;

	    Where:
		&lt;variable&gt;	is a new symbol name
		&lt;expression&gt;	is an arithmetic expression which may
				use literal constants, existing variables,
				and operators
		&lt;linenumber&gt;	isd display line number (1 - 100)

	    The new command will define a new dynamic symbolic variable of type
	R*8 in the attached executive, and a drive expression to give it a
	value, and add the new variable to the isd display.
	    The definitions may be saved and restored through the save/page
	facility. Such variables may be recognized but not restored by
	recordcsv.

@@2765
lld
	Ar command repaired. The lld AR command is to build an object code
     library starting with an MSF defined module and including object for all 
     other modules which it references. It is not often used, and was not
     working correctly.

	S3_OLIST default changed to 1. The practice of building object code
    libraries as part of building an executive is considered highly obsolete
    and so will no longer be default for this setting.

@@3172
s3serv, isd, jdb, etc.

	Percent sign ("%") recognized as member separator character for symbol
    names in most applicable syntax in accord with Fortran syntax. This takes
    precedence over percent sign as (c-style) modulo operator for expressions,
    place white space around a % as operator will do.

@@2899,3342
mst

	Correction to creation of encrypted IC file and enhancement to support
    parrallel snapshot encryption (also available as release 4.4.5 patch).

	Reliability correction to event processing. The execution of modules
    on reset event was found to be unreliable on linux instance of release
    4.4.5. The code is modified to improve reliability for all event calls.

@3660
	Reliability correction to include stop messages in the mst.log file
    which were not created by the normal executive exception handling mechanism.

gdaserver

	Obsolete warning message "Could not open file Action.dat" dropped.


@@3367
executive

	Upgrades to recordcsv, see "help recordcsv".


@@3415
	Command to create a new xpt variable is added to the exec_xpt module.
    The isd or jdb command &gt;call xptnewvar "&lt;variable&gt;[,&lt;description&gt;]"
    will add a new xpt variable definition to the current executive
    instance. Such a new variable can be useful with the "drive" functions.

	exec_xpt module will now be loaded in all executives. A Windows side
    effect of this is that when s3dll.lib is configured, this must be performed
    by placing it on the LDOptions (rather than either LDOptions or LINKOPtions
    being acceptable).

@@3344
executive, lld

	Event call provisions for STOP, EXCEPTION, and CTRLC added. Where:

    STOP	- call module when simulation status is STOP.

    EXCEPTION - call module from the executive exception handler.

    CTRLC - call module from the executive CTRL-C handler.



@@3415
	Global initialization repair for external global on Windows.

@@3409
	Recognition added for "STATUS_FLOAT_MULTIPLE_FAULTS" exception code.


@@3384
	iexec fast time logic modified to suppress any pause when set to 1000 or
	greater.

@@3370
ic file convention (executive, dbm)

	The use of the S3_ICDIR=1 setting is repaired.


@@2880
opcclient

	correct memory leak on processing OI points of array or structured type.

		Memory leak on use of oi points of array or structured type
	    corrected.

	EnableInputsPid feature

		Add optional initialization file configuration item
	    "EnableInputsPid". This may be used to specify a global variable
	    which will disable transfer of outputs from specific OPC server
	    to global memory. That is: AO's, DO's, and OO's will be disabled
	    when variable identified here is false.


JDB



@@j94,j100,3374
	Default display format for floating point value field in monitor
    tables will respect the ".form" field MDD value.

@@j102,3520
	Value column is added to the MDD interface table.

  
@@j36,j57,j124,j125,j126,3369
	Paste and drag operations to a trend from a monitor or trend window
    will include history.


	JDB will disconnect appropriately when connectivity is lost as due to
    an external kill of s3serv or network disconnection.


@@2792
	A setting to allow the user to suppress the STOP popup is added.


@@j155,3347
	JDB will produce a message box to inform the user when connection is
    lost unexpectedly. This will be suppressed if the "Show Stop" setting is
    false.


@@3341
	A table named "XPT is added to access variable definitions defined
    by the code loaded attached executive.


@@j90,3245
	The MST window GO button action is corrected to select the intended
    trainer configuration file.

@@3568
	The MST window will recognize and behave appropriately for trainer
    configuration file instances defined as text files in the MSF.

@@j148
	Modules table modify popup will no longer fail when used to include
    a new module.


@@j110,j111,3228
	A right mouse click Executive Control "Step" will now display with a
    pop-up menu to select explicit choice of interval.


	Logic is added to the TDB table to suppress duplicative tabs and
    disallow tabs for primitive data types. Correction is made to display
    of members of structured type.


@@2882
	Conditional branching and time control commands are added to JDB
    processing of command files. See "help readfile".


@@2873
	Trend window title will now include "* * * detached * * *" whenever
    window is not attached to an executive.


@@2707
	Restore of a trend window from state save or definition file adjusted
    to include time scale.


	Restore of a trend window from state save file adjusted continue
    to after blank line(s).


	Trend will no longer implicitly discard previous data contents on
    attach to executive.

@@j168,3519
	Trend will automatically attach when executive is attached if it
    detached state was implicit.

@@j130,2706
	Desktop window size and location will be restored on restore of a 
    state file. Initial desktop window size will be restored from configuration.
    When the "Auto Save Config" setting is true the initial desktop location
    will also be restored.


@@2696
	Monitor template save/ restore will include window size and column
    widths.


@@2793
	Recent monitor command line selections now saved / restored with
    configuration and state.


@@j38,3423
	CTRL-DELETE key will clear selected line(s) from Modules, Monitor,
    TDB, Trend, or Variables tables. Delete key without CTRL will no longer
    clear lines (to avoid possible collision with cell edit usage). 


@@j146
	CTRL-INSERT key will add clear line after the currently selected line,
    SHIFT-INSERT will add clear line before currently selected line in Modules,
    Monitor, TDB, Trend, or Variables tables.


@@j136
	F5 key will perform refresh operation from Executive Modules,
     Frame Time, Modules, TDB, Variables, and XPT tables.


@@j19,3475
	Pack command from general input command line will apply pack operation
     to all active Modules, Trend, and Variable windows in addition to the
     any Monitor windows. Pack of Monitor table corrected.


@@j23,j58,3513
	Flyload menu item added to "Online" menu.


@@3511
	The "NEW" command is added to the monitor command line. It may also
    be entered  (in the no line number form) in the name field of monitor or
    trend tables. When entered on a monitor line, the value defining expression
    will appear in the "Description" column, and may be edited there.
	Restoration of such definitions will be included in page and state
    save and restore operations.

@@j47,3484
	The command "!!start &lt;program name and arguments&gt;" may be used from
    the Listed Output window command line to start a program in the local
    environment.

@@j158,j129,3559
    Upgrades to the LLD interface frame:

	Settings tab:
    
	    Comment block added.

	        Comments in the lld script are collected and displayed here.
	    It is a text area with auto scroll bars should the quantity be
	    large.

	Misc. command block added.

	    Rarely used, (rarely useful) lld commands such as Setxenv, Lib,
	dsp and vcproj may be entered here when needed.


	    setxenv checkbox dropped. LIB, DSP, and VCPROJ text fields dropped.



	Globals tab:

		ODS and UDS rows added to override defaults for all globals
	    defined at a given level. Lines for UDS globals are added.

		Several of the check boxes in each row are dropped as the
	    number of possible global configuration options has grown large
	    enough that providing check boxes for every one gets ugly, also as
	    some of them are relatively obscure, rarely appropriate and
	    potentially confusing.
		A text field is added to hold the various global configuration
	    options which do not have check boxes. The list of such keywords
	    is provided in a tool tip on the text field of the first line
	    (ODS), all recognized by lld are now supported.
		An MDD definition summary is added as tool-tip on each global
	    name (first check box on each line).

	Modules tab:

		Several of the check boxes in each row are dropped as the
	    number of possible event scheduled execution options has grown
	    large enough that providing check boxes for every one gets ugly,
	    also as some of them are relatively obscure, rarely appropriate
	    and potentially confusing.
		A text field is added to hold the various event scheduled
	    execution options which do not have check boxes. The list of such
	    keywords is in a tool tip on the text field of the each line.

		An "Insert" menu item is added to the popup menu offering
	    Delete, Copy, Cut, Paste.


	Output:

		Various minor changes to the format of the Output lld scripts
	    generated by both lld and jdb to improve consistency.

@@3568
		The output script file will be placed in the appropriate text
	    directory when defined in the MSF as a text file.


@@j73,j97,3467
	Remote performance improvement - several modifications are made to
    improve performance, especially with regard to delays encountered with
    reconnection of monitor when executing with a remote host.


	





Release 4.4.6 Patch 1


dbm

    help

	    Include "execincludes" in the help topic collection. hdx and stopx
	topics also updated.


    lmdd

	    Add symbol name when present to lmdd invalid data error message,
	continue with point listing when dbm option "-c is in effect.


fscan

    "-i8" option

	    Add fscan compatibility with ifort "-i8" environment when fscan
	option "-i8" is enabled.

    "-Wu" option

	    Add optional warning messages when local variable is used before
	being given a value. This is enabled by fscan option "-Wu", and may
	be disabled with option "-wu" (default). The logic for this check is
	limited, and should not be expected to catch every possible occurrence
	of such an error. It also may produce some false positives. Recognition
	of when a variable is set improved for some relatively rarely used
	cases.

    statement functions

	    Restore fscan ability to recognize a statement function.

    free format end of line comments

	    Include end of line comments on list file when Fortran free format
	is in effect.

    include statement

	    Include include file name on include statement on list file.


iexec

    hdxifc

	    Add hdxifcwait4ready entry to allow waiting at the end of a frame
	until server outputs are ready for the next frame.

	    Add "force" option for each server connection. When selected the
	client executive will wait for establishment of server connection 
	before returning from initialization, and force STOP status on later
	attempts to RUN if the connection is lost.


    buffered snapshot

	    Add protection iexec snap and reset to disallow beginning a reset
	or another snapshot until buffered ic snapshot is complete.

    recordscv

	    Correct linux path usage on open of initial pages.



    mod in/out implementation

	    Workaround implemented for executive hard failure seen
	intermittently on exercise of module in / out function with new
	compiler version.


jdb

	ic data table introduced.


Release 4.4.6 Patch 2


@4006
fscan
	Parsing problem where Fscan failed to accept data statement syntax
    for a complex value is corrected.

@3970
iexec
	When fast time mode was far in excess of available resouce, iexec fast
    time would continue for a while after return to normal timing was requested.
    Iexec is adjusted to return to normal timing promptly. 

@3982
	Support for multidimensional arrays added to the exec_xpt local
    definition provider.


@3979
	Posting of exam mode status to global99 corrected.

jdb

	IC data table upgrades.

	Initial condition table introduced on 4.4.6 Patch 1 is upgraded.
    IC ranges no longer overlap; ic data table actions are scriptable, and
    are included in log, replay of log, and state save and restore. ComboBox
    selection of ic and mdd levels is added. Provision to replace column
    content and add columns by right click on the tab heading is
    implemented. IC name elections in the "Select" table are adjusted to
    appropriate format.

@3969

	Executive Control "Rate" selection upgraded.

	The "Rate" combo-box on the "Executive Control" toolbar is now editable.
    A specific rate may now be selected by typing a number after fast or slow.
    Selected rates selected will be added to the combo-box selection and
    recalled with settings.


Release 4.4.6 Patch 3

@4448
	Structure member resolution corrections

	Correct problems found in structure member resolution in isd, jdb, and
    s3serv. The address of members of a member array of structures was incorrect
    for various functions. The resolution of member names when using "%" as
    member separator was sometimes confused with a format override. Isd dump
    command and implicit display command member expansion will use "%", rather
    than "." separator. Isd remote mode member dimensionality interpretation
    corrected. Isd dump command will force integer format when displaying
    member integers.


    
@3981
dbm
	dbm will treat input command lines which begin with "&lt;" as comments.

@4049
s3serv

	s3serv will force high precision on transfer of ^simtime.

@4421
DbmPidNew

	routine will return long description when requested.


@3794
hdxifc

	several upgrades and corrections implemented in executive hdxifc
    routine (HD interface client module).

Release 4.4.6 Patch 4 4/20/2015

@4523
	Structure member resolution correction

	Additional correction required for J-Dashboard references to arrayed
    structure member place after other members.

@4521
	Recordcsv fault on rate below 1 cps

	Recordcsv unable to handle request for collection rate less than one
    cps when the syncframe option in effect.

@4532
	SimTrend connection to s3serv

	Inappropriate repeat of SimTrend connect to s3serv eliminated; The
    repeat caused occasional failure to connect problems.

</Text>
</Topic>
<Topic>rel4.4.7<Text>

		Changes from SimExec release 4.4.6 to 4.4.7

	    This note is to describe changes introduced to SimExec from
	release 4.4.6 to 4.4.7. Some items included here have previously
	been distributed in 4.4.6 patch releases.




dbm

@@3925,4.4.6P1
		help

	    Include "execincludes" in the help topic collection. hdx and stopx
	topics also updated.


@@3871,4.4.6P1
		lmdd

	    Add symbol name (when present) to lmdd invalid data error message,
	continue with point listing when dbm option "-c" is in effect.

@@3981
		"&lt;" as comment

	    dbm will treat input lines which begin with the less than sign
	character as comment lines. That is: they will be echoed to output
	without further processing. This may be used to surround xml output of
	the list MDD and list MSF commands with outter tags.


@@4062
		diff command and lmsf diff option

	    The command line performed is added to the printout for the diff
	command and lmsf diff option. The presence of any files referenced is
	checked performing commands and the command skipped when any of the
	required files are not present. Thus when no pair of files are found
	to compare, an error message will no longer appear.


		winmerge command

	syntax:

		winmerge &lt;module name&gt; &lt;level&gt;

	    This command will invoke winmerge to show current updates to the
	specified module. If module exists at both the UDS and ODS level
	winmerge will be activated to show the side by side comparison between
	the versions. If only at ODS or UDS will seek for a previous version in
	appropriate "old" directory.
	    winmerge is a gnu share-ware program. It is not installed by
	SimExec installation, but must be separately installed for this
	command to be effective. winmerge is not available on linux, therefore
	use of vi with "-d" option is substituted.


@@4073
		mixed mode .dim

	    Dbm input processing for the ".dim" data field of the /ADD,
	/MOD, and /MDD commands is upgraded to recognize mixed mode input for
	dimension range. That is: dimensionality specification for a
	multi-dimensional array may now mix default (1 based) with explicit
	ranges, for example ".dim (10, 0:10)".

@@4018
isd,jdb
		Support for unconventional symbol names

	    In order to support case where software loaded into an executive
	uses symbol naming conventions which clash with c and Fortran a
	syntax is added where a leading underscore begins an string terminated
	by a space character which may contain other special characters. Such
	terms may be used for display, set, and other commands which may specify
	a symbol to be resolved through the xpt function.

@@4074
dfglob

		New list file content.

	    dfglob will now write a list file containing a reformatted form of
	the full input block data file (rather than only any applicable error
	messages).

		-E option

	    A feature to help edit block data files is added to dfglob. One
	may identify a file of data value edits by identifying an edit file with
	the "-E" option. The data file is required to contain line of the form:

	SET &lt;data item identifier&gt; = &lt;value&gt;

	    When the data item identified is given a value by the block data
	file input (that is matched) dfglob will substitute the value found in
	the edit file (SET format) in the global image generated and in the
	listing file created.
	    In addition the edit file will be rewritten with the "SET" keyword
	changed to lower case for all items matched.


fscan

@@3827,4.4.6P1
		"-i8" option

	    Add fscan compatibility with ifort option "-i8" environment when
	fscan option "-i8" is enabled. That is: precision assumed for integer
	and logical constants and variables is 64 bits when fscan option "-i8"
	is in effect.

@@3793,4.4.6P1
		"-Wu" option

	    Add optional warning messages when local variable is used before
	being given a value. This is enabled by fscan option "-Wu", and may
	be disabled with option "-wu" (default). The logic for this check is
	limited, and should not be expected to catch every possible occurrence
	of such an error. It also may produce some false positives. Recognition
	of when a variable is set is improved for some relatively rare
	cases.


		statement functions

	    Restore fscan ability to recognize a statement function.


		free format end of line comments

	    Include some end of line comments on list file when Fortran free
	format is in effect.


		include statement

	    Include include file name on include statement in list file.


@@4006,4.4.6P2
		complex value

	    Parsing problem where Fscan failed to recognize and accept a data
	statement syntax for a complex value is corrected.

@@4045
lld
		Reset event

	    An additional event call provision is added to lld, mst, and
	executives to call a module on reset, but not on ic read without
	reset (used for backtrack preview).
	    The pre-existing ResetP, ResetS, and ResetC calls occur on ic reads
	with or without reset, the new "Reset" event matches the ResetS event
	except it is suppressed on non-reset read actions.


iexec

@@3794,4.4.6P1
		hdxifc

	    Add hdxifcwait4ready entry to allow waiting at the end of a frame
	until server outputs are ready for the next frame.

	    Add "force" option for each server connection. When selected the
	client executive will wait for establishment of server connection
	before returning from initialization, and force STOP status on
	attempts to RUN if the connection is lost.


@@4099
		hdx general

	    A couple corrections made to work on linux.

	    The separation of inputs and outputs definition file lines into
	symbols is modified to support symbols which begin with the special
	characters underscore and pound sign ("_", "#") and to support
	symbols being enclosed in double quote marks (in which case space
	may be included in the symbolic).

	    Server now supports an IC delete function.


@@3855,4.4.6P1
		buffered snapshot

	    Add protection iexec snap and reset to disallow beginning a reset
	or another snapshot until buffered ic snapshot is complete.


@@4034
		iexec IC directory environmental redirect

	    The ic directory for iexec snapshot and reset may now be redirected
	to an alternate directory location through the environment variable
	"IC_DIR".


@@3828,4.4.6P1
		recordscv

	    Correct linux path usage on open of initial pages.



@@3898,4.4.6P1
		mod in/out implementation

	    Workaround implemented for executive hard failure seen
	intermittently on exercise of module in / out function with new
	compiler version.

@@3970,4.4.6P2
		transition from fast time

	    When fast time mode was far in excess of available resouce, iexec
	fast time would continue for a while after return to normal timing was
	requested.
	    Iexec is adjusted to return to normal timing promptly.

@@3982,4.4.6P2
		xpt array resolution

	    Support for multidimensional arrays added to the exec_xpt local
	definition provider.

@@3971
		homeless option

	    Iexec option "-Ehomeless" will set a mode for various executive
	functions to perform without assuming that the executive is executing
	in a SimExec environment. It is to support the creation of iexec
	simulation tasks designed to operate outside the traditional SimExec
	simulator environment.


@@4110
		delete map file

	    Iexec will now delete the map file on clean termination
	(linux).


@@3979,4.4.6P2
mst, iexec

		exam mode flag

	    Posting of exam mode status to global99 corrected.

		character equivalences for g99 strings

	    Character data type equivalences are added to the standard
	global99 MDD definitions for items which hold string values as
	follows:
		licrh
		failmessageh
		failmsg1h
		failmsg2h
		failmsg3h
		icnameh
		msticnameh
		alternate_directoryh

@@4049
		Time of day reset

	    MST or iexec will now clear "clock_days" on reset when the
	"time of day" reset" option is in effect.

		24 hour clock option

	    A new selection is defined for the behavior on reset when the 24
	hour clock option is selected through then environment
	variable "S3_24HR" as follows:

		S3_24HR=1 -&gt; 24 hour clock in effect, time restored on reset,
			     including the day count.
		S3_24HR=2 -&gt; 24 hour clock in effect, time of day is restored
			     on reset, but the day count is cleared.

@@4061
		long ic names

	    mst will allow ic names of up to 11 characters.
@@3972
iexec
		Time step argument

	    Modules called by the executive (usually control modules) may have
	zero, one, or two arguments. The first is integer frame number. The
	second is real*8 (double) time step.

@@4125
iolib SwitchCheck routine

	   The iolib switch check routine is adjusted to behave appropritely
	when aoinfo data is not present.

@@4122
gdaserver

	    Conditional gdaserver fault on exit corrected.

@@3971
opcclient

		xpt point resolution

	    The OPC client process for resolution of client point names is
	upgraded to resolve point names defined by the xpt functionality rather
	than limited to points defined in the MDD.

		Calculated outputs

	    For points which are output from the OPC client, input to an OPC
	server (that is AI, DI) one may enter a drive function to
	calculate the output value instead of a simple symbol name. That is
	the &lt;mdd symbol id&gt; field for server input points may contain a
	leading arrow ("-&gt;") followed by an arithmetic expression.

		Composed points

	    The item Compose=&lt;integer&gt; may be added to the initialization file.
	When it is set to 1 then the client will create new scalar symbols
	(local to the executive, defined to the xpt functions) when it
	encounters symbols in the the points list file(s) which have not been
	previously defined.

		ReadBack inputs procedures

	    Process vector routines are added to instruct the OPC client to
	read back server input values as follows:

		ReadBackAi,0,0

			Read the values of AI points from the server. (These
		   are normally outputs from the OPC client).

		ReadBackDi,0,0

			Read the values of DI points from the server. (These
		   are normally outputs from the OPC client).

		ReadBackOi,0,0

			Read the values of OI points from the server. (These
		   are normally outputs from the OPC client).

		ReadBackBRV,&lt;symbol&gt;,0

			Compare the current value of the &lt;symbol&gt; identified to
		    its last pass value, and if it has increased - read the
		    values of AI, DI, and OI points from the server. (These
		    are normally outputs from the OPC client).

@@4076
prr
	    Exception abort has been reported from prr. It is rare and no
	indications have been found about when and why. Therefore prr is
	instrumented with code to catch any exceptions and post information
	which should help diagnose them to a file named "prr.except.log".


jdb

@@4046,4015
		Recognition of executive hosted server instance


	    An instance of a variation of s3serv can be configured to execute
	as part of an executive task on Windows. This instance provides more
	efficient communication with data from the executive than the separate
	s3serv task usually used. Such an instance requires a unique port
	number assignment and does not support redirection to attach to
	another UDS or executive.

	    An instance of s3serv is configured into an executive by lld
	directive of the form "load exesrv 0 0 Init". When the initialization
	call is executed during startup of the executive it will configure
	itself as a Window named pipe service with name identical to the
	executive name, and as a TCP/IP service if a port number is configured.
	A port number can be configured in the following ways:

		The suffix "_port" is appended to the executive name or alias,
	    if an environment variable is defined with the resulting name it
	    is to identify a TCP/IP port selection by number. (Introduced
	    release 4.4.7)

		If the environment variable "exesrv_port" is defined, it is to
	    identify a TCP/IP port selection by number. (Introduced release
	    4.4.7).

		An entry in the services file
	    (%WINDIR%\system32\drivers\etc\services) matching the executive
	    name or alias may be used to assign a port number.  (required on
	    releases earlier than 4.4.7).

	    When JDB is connected to an executive hosted instance of
	s3serv it will now automatically replace the UDS field with the UDS
	name in which the executive resides, and will automatically recognize
	that it is attached to the executive.


@@3979,4.4.6P1

		IC DATA table introduced.

	    A display table to display data from Initial Condition files is
	added to the Database menu.


	    It will initially open with a single tab to show information about
	individually selected initial condition sets. Enter the name of an
	initial condition (in the form i### or b###) in the Name column to
	select ICs.
	    Additional blank lines are automatically added to the table as ICs
	are selected.




	    The table contains a series of buttons at the top. The leftmost
	is a refresh button. The information displayed on the IC data tables
	is not automatically updated when snapshots are created. Click the
	refresh button (or keyboard F5) to retrieve updated information.

	    The second button activates a tab to display backtrack initial
	conditions. The number of backtrack conditions show is selected by the
	"Number of Backtrack Records" item in the Settings frame.

	    Next are 5 additional buttons each of which will display a
	range of normal initial condition sets.  The number of initial
	coditions configured on these pages may be configured by the "Number
	of IC Conditions" item in the settings frame.

	    In all cases the first two table columns are reserved for
	initial condition name and snapshot time. Additional default data
	columns are configured by "IC Data variables" and "BCK Data variables"
	line items which have been added to the "Settings" frame. Each of
	these is to provide a comma separated list of variables to define
	columns on the respective IC data tables. Default contents provide the
	problem time (d_clocks) for backtrack records, and an "ic_desc"
	variable for permanent ICs. This is intended to be a new character
	variable added to the MDD. The contents of ic_desc may be edited from
	the IC data table display.


	    When attached to an executive, one may right click on an IC
	data table line to activate a popup menu to perform snapshot and reset
	operations.

	    Click a tab heading to replace column contents or to add data
	columns.


	    A combo-box selection to choose a specific IC and MDD levels
	is provided to the right of the buttons.


	    Initial Conditions data table actions are scriptable and will
	participate in logging, replay, and state save and restore operations.


@@3969,4.4.6P2

	      Executive Control "Rate" selection upgraded.

	    The "Rate" combo-box on the "Executive Control" toolbar is now
	editable.  A specific rate may now be selected by typing a number
	after fast or slow.  Rates selected will be added to the combo-box
	selection and recalled with settings.


@@4077
		Monitor table

	    Add to Monitor table open menu when page is saved

	    When one creates a new page file through the "SaveAs" button on a
	Monitor window, it is now immediately added to the monitor table "Open"
	menu.

	    Monitor table "read file" button browser will now start in the JDB
	login directory (rather than in the directory identified in settings as
	"Home Directory").


@@4123
	    Will display integer*8 and logical*8 values.

@@3977
		Settings frame

	    The "Old Interface" selection is deleted from the Settings frame.


@@4041,4042
		Trend Window

		Browse capability for Trend definition and data Import

	    A blank entry is added to the combo box selections on the Trend
	Controls panel. When the blank field is chosen, the Trend definition
	file selection and data import action selections will now initiate a
	file browse popup from which one may select files from other
	directories.

@@4123

	    Will display integer*8 and logical*8 values.

@@4049
		Simulation clock precision

	    Logic has been added to prevent the potential for trend to use a
	representation of the simulation problem time clock with insufficient
	precision.

@@3978
		Scripting

	    The split pane location selection, and line highlight selections
	are added to logging, scriptibility, and replay.

@@4112
		MST

	    Correction for server failure when multiple versions of trncon
	file are encountered.





AST - Automated Scenario testing


@@3758
		Localization Support for AST.

	    Text display on AST GUI can be configured to languages other than
	English.


@@3910
		Support executive defined variables

	    AST query will now support variables defined by code executing
	within attached executive through the xpt funcionalities (such as
	RELAP internal variables).

@@3819
		Function block programs

	    A new script language is introduced for user to write programs
	that will be executed by the AST tests. A new "function block" provides
	user interface to write such programs, and include the programs as part
	of a scenario. Users can make use of this new feature to dynamically
	monitor simulation status and change variable values as necessary.

@@4126
mbin

	    UnixUtl versions of the following common unix utilities are added
	to mbin on Windows:

		diff.exe
		indent.exe
		less.exe
		sed.exe
		sleep.exe
		sort.exe
		tail.exe


Release 4.4.7 P1

dbm

	    Correct error that on initial 4.4.7 release the value on the .dim
	field following dbm ADD, MODify, and MDD commands was silently
	ignored when not enclosed in parentheses.

dfglob

	    Correct syntax recognition to accept an inline comment following
	the closing slash at end of a data statement.

Release 4.4.7 P2

@@4213

dfglob

@@4226
	    dfglob will accept an end of line comment immediately following the
	closing parentheses of a data implied do loop.

@@4228
	    dfglob long execution time for processing large steam tables is
	brought back down.


upgrades to hdxifs:

	    Server initialization file TermOnDisco option

	    Added an initialization file option for specifying whether the
	server should exit when disconnected from its client. The TermOnDisco
	option is defined as follows:

	TermOnDisco=0

	    When the server disconnects from a client, unless responding to an
	explicit terminate status (4), it will continue to execute in
	stand-alone mode while waiting for another client connection.

	TermOnDisco=1

	    When the server disconnects from a client, unless responding to an
	explicit isolate request, it will exit.


	Executive frame coordination

	    Suppressed the clock increment in the server executive when it is
	executing under control of a client so that server frame numbers will
	match the client frame numbers.

	Adjusted the timing of the server's response to a client connection.

	upgrade to hdxifc:

	    Correction to the icredirect server initialization.

	    Logic added to suppress posting of server outputs when a reset
	operation is pending.

	    Logic added to suppress posting of server outputs in freeze when
	not consistent with step-down logic in effect.



Release 4.4.7 Patch 3

@4448
	Structure member resolution corrections

	Correct problems found in structure member resolution in isd, jdb, and
    s3serv. The address of members of a member array of structures was incorrect
    for various functions. The resolution of member names when using "%" as
    member separator was sometimes confused with a format override. Isd dump
    command and implicit display command member expansion will use "%", rather
    than "." separator. Isd remote mode member dimensionality interpretation
    corrected. Isd dump command will force integer format when displaying
    member integers.

    

DbmPidNew

	routine will return long description when requested.



hdxifc

	Correction on input of initialization items "MaxWait" and "MaxSRWait".

dfglob

	    Correct syntax recognition to accept an inline comment at end of
	a set or assignment statement.

	    Correct syntax interpretation to accept range syntax on data
	statement.

opc server

	    Accept longer item ids in point alias file.


rtexec, mst

	    Additional logic to avoid redundant snapshot event calls when executive
	is running behind.


Patch release 4.4.7 Patch 4 : June 11, 2015

dbm, jdb etc -

	Additional patch for structure member resolution.

iexec

	Adjust recordcsv sync frame logic to be compatible with frame interval
    under 1 cps.

</Text>
</Topic>
<Topic>rel4.5.0<Text>

	SimExec Release 4.5.0



@@252
	64 bit mode support

	    With this release SimExec provides 2 sets of binaries and
	executables to support either 32 bit or 64 bit programming environments.
	The alternate executables and objects are placed in subdirectories of
	each of the applicable directories. That is:

		SimExec/bin
		SimExec/mbin		common files

		SimExec/bin/ia32
		SimExec/lib/ia32
		SimExec/mbin/ia32	32 bit binaries

		SimExec/bin/x64
		SimExec/lib/x64
		SimExec/mbin/x64	32 bit binaries

	    32 bit and 64 bit object code cannot be mixed, therefore it is
	essential that all related environmental settings be consistent, and
	all object code required for linking an executive match.

	    Fortran modeling code does not usually work with explicit pointers,
	but there are occasionally instances where a pointer is placed in an
	integer variable. It is essential that any such integers be expanded
	to I*8 (integer*8) type when used in a 64 bit environment.


	General:

		Provision on two sets of executables complicates configuration
	    in some unavoidable ways. The sample environmental setups provided
	    use the ia32 binaries. They set two variables for path to the BIN
	    directory. Specific sites will most often use only one of the sets;
	    therefore it may simplify your configuration to copy the
	    appropriate sets of executables to the common directory and use
	    the previous configuration practices. At this time the latest
	    releases of JTOPMERET requires this as it directly uses the
	    "S3_BIN" environment variable to activate SimExec programs.
 

		Some SimExec include files are duplicated in the build
	    environments for RELAP5 support routines. These must be replaced
	    with current versions, or redirected to the SimExec installed
	    directories for the systems to function correctly.

	On Windows:

		SimExec executables and object libraries are now built with
	    the Visual Studio 2010 update of C/C++.

		Executables are built with static multi-thread run time library
	    (/MT) routines rather than the dll versions. Default settings for
	    this option for user compilations is also changed from /MD to /MT.

		Default setting for __stdcall, Microsoft compatible subroutine
	    calling convention (ifort option "/Gm") is no longer used. It is
	    deemed too obsolescent and no longer fully supported by Intel and
	    is not available in 64 bit mode. As a side effect the executive
	    build process will no longer stop on an erroneous call of a module
	    with a mismatched number of arguments passed.

		The compiler mode in effect on 64 bit Windows MSVC and ifort
	    is made environmentally. This is usually configured in the
	    setenv.cmd file. The installer will set with full paths for 32 bit
	    mode on recognized compiler releases. ifort provides a command
	    file "ipsxe-compiler-vars.bat" which will adjust both c and Fortran
	    settings.

	On linux:

		SimExec binaries are now build with gcc version 4.4.6 20110731
	    (Red Hat 4.4.6-3).

		Compilers in use with 64-bit compatible linux allow one to
	    select which mode to use with option "-m32" for 32 bit, or
	    "-m64" for 64 bit.

		When using 64 bit mode on linux with gnu compilers you will
	    need to add the compiler option "-mcmodel=large" to the S3_FORTRAN,
	    S3_CC and S3_LD environment variable settings. (Otherwise attempts
	    to build executives will fail with "relocation truncated" error
	    messages).
	    



@@4202
environmental variable macro expansion

	    The form $&lt;variable&gt;, where &lt;variable&gt; is the name of an environment
	variable is added to the environmental macro replacement action used
	when reading the S3_ENV file and various other inputs.


@@4212
dbm lmdd ic category

	    An optional lmdd argument is added to support ic names with a
	leading letter other than 'i' or 'b' for ic data listing. "ICCAT=x"
	will redirect ic data listing functions to ic file names which begin
	with the given letter, followed by 3 or more digits.

backtrack ic numbers

	    The backtrack number maximum is raised to 99999999.


dfglob

@@4226
	    dfglob will accept an end of line comment immediately following the
	closing parentheses of a data implied do loop.

@@4228
	    dfglob long execution time for processing large steam tables is
	brought back down.



@@4213
hdxifs

    Server initialization file TermOnDisco option

	    Initialization file option is added to specify that the server
	should exit when disconnected from its client.

	    TermOnDisco=0

		When server disconnects from a client, other than in response
	    to an explicit terminate status (4), it will continue to execute in
	    stand alone mode while listening for another client connection.

	    TermOnDisco=1

		When server disconnects from a client, other than in response
	    to an explicit isolate request, it will exit.


	Executive frame coordination

		The clock increment in the server executive is supporessed
	    when executing under control of a client so that server frame
	    numbers will match the client.

		The timing of server response to a client connection is
	    adjusted.



</Text>
</Topic>
<Topic>rel4.5.1<Text>

SimExec Release 4.5.1


general

    ARCHIVE functionalities

	    Logic is added to better support integration of software
	delivery in a object code library. See "help archive".


    XTDB functionalities

	    Support is added to embedof type definitions into an executive.
	This is implicitly used when loading fortran modules either from
	local source or from archive. Type definitions can also be explicitly
	embedded through use of the lld "embed" command.


lld

	EMBED TDB &lt;type list&gt;


	    Will embed type definitions into an executive.


	EMBED MDD &lt;variable specifications&gt;

	    Will embed mdd definitions into an executive.

	EMBED &lt;icname&gt; &lt;globalid&gt;

	    Will embed the ic contents of the designated global into the
	executive. The global must not be shared, and on Windows either the
	global must be an alias global or "non-sharable objects" mode must be
	in effect.

	EMBED INIT &lt;globalid&gt;

	    Will embed the default image (dftglob) contents of the designated
	global into the executive. The global must not be shared, and on
	Windows either the global must be an alias global or "non-sharable
	objects" mode must be in effect.


MMSF SVN integration

	    SimExec supports automated update of a subversion revision control
	database as part of the MMSF (merge MSF) command action.

	    In order to use this integration the user must install subversion
	command line utilities, configure a subversion database and attach
	the subversion to the SimExec development system. After these
	preliminaries the MMSF integration is enabled by the dbm command:

		"option mmsf svn"

	    Enabling svn integration will disable any previous enable of SCCS,
	RCS, and SS MMSF integration. MMSF integration is a property of the
	ODS MSF database. Once it has been enabled it will remain in effect
	for all users. (It can be disabled by the dbm command
	"option mmsf no svn".) Enable of MMSF command comment collection is
	separately enabled, enabling comment collection either before or with
	enabling SVN integration is recommended.

	    When MMSF SVN integration is enabled:

	- Each module source merge will be echoed to the subversion database
	through the appropriate update or add operation. If the change being
	merged involves a change to the source file name (fairly unusual) then
	the subversion delete will be performed for the previous file. Comment
	line entered with the MMSF command will be included on each subversion
	action.

	- On merge of a specific component source generated by the SimExec
	component development system the cds record will also be updated or
	added to the subversion database.

	- subversion updates will also be performed on addition or
	modification of a ODS generic component.

	- the lmsf history option (/lmsf &lt;modulename&gt;,h) will display the
	subversion history listing of selected file(s).

	- the extract command with revision number will extract the requested
	revision number of the ods module from the subversion database to the
	user development system. The subversion revision numbers can be
	reviewed on the history listing, they will not match the revision
	counter maintained in the ODS MSF for each module.

	- the diff command with one or two revision numbers will display an
	svn diff listing comparing the first revision number with the latest
	version or second revision number as applicable.




TCP general

	    The TCP_NODELAY option selection is now applied to all TCP sockets
	including Windows RPC functions.

getenv

	    All use of the POSIX getenv and putenv routines in the Windows
	instances of SimExec programs are replaced with Getenv and Putenv
	routines introduced to wrap the equivalent native Windows routines.
	User programs which reference environment variables may also need
	to use these routines. They are found in the SimExec iexec and misc
	libraries. The Microsoft instances of getenv and putenv fail at
	communication between root and dll programs which use "/MT" rather
	than "/MD" run time library mode.

jdb/isd

	    Recognition of members of member arrays corrected. Potential
	confusion of member name components entered with fortran "%" separator
	with format overrides corrected.

fscan

	-Egenlci modification

		The common name in the file generated in response to the
	    fscan "-Egenlci" option will now inclued no more than 8 characters
	    of the name of the module being compiled.

cscan

	type of character variable implicit length argument

		The implicit length argument for an argument of the Fortran
	    character data type is declared as "long" on linux.

	compilation of unexpected type module

		Cscan will intercept and reject for compilation module defined
	    in MSF with inappropriate module type.

dfglob

		Will correctly interpret array range syntax on data statement.

		Will accept end of line comments on assignment statements.


lld
		On windows, "/link" to always be included on command line
	    before contents of environmental "S3_LINK".

opc server

	Maximum length of tag alias is increased to 1024.




Release 4.5.1 P1 4/27/15

	Patch release 4.5.1 P1 April 27, 2015 includes adjustments as follows:

dbm

@@4493
    lmdd

	Wildcard point name beginning with "global" will produce expected results.

@@4545
	Stray trace message "S3_CIC=1!" during lmdd ic data lising  is deleted.


@@4541
    mmsf

	    Module merge with svn integration on will set read only attribute on
	ODS source files.

fscan

@@4507
	    Stop statement with integer argument will be translated to call stopx
	with character literal containing the integer.

@@4521
	    fscan will recognize and respond appropriately when the name of a
	locally defined common block matches that of a locally defined variable.

@@4438
dfglob

	    dfglob will accept end of line comments on set statements.


executive

@@4491
	    Potential repetition of snapshot event calls in rtexec when executive
	is falling behind is eliminated.

@@4531
	    Recordcsv implementation corrected for rate less than 1 cps in
	combination with syncframe use.
 


Jade-Dashboard

@@4523
	    Resolution error on members of array of structure which followed other
	member fields is corrected.

@@4524
	    Monitor command line set by line number implementation corrected.

@@4532
SimTrend

	    Potential timing problem which sometimes prevented correct attachment
	to s3serv is corrected.


	
</Text>
</Topic>
<Topic>rel4.5.2<Text>
Release 4.5.2

dbm

    LMDD enhancements

@@4508,4493
    global keyword

	Interpretation of names beginning with "global" as keywords is
	suppressed for LMDD wild card names, and for the file name argument
	to the open command.

    LMDD ic delta

	   The LMDD ic delta listing is enhanced as follows -

		When form i is used output will list individual array elements
	    or structure members, rather than listing entire arrays or 
	    structures when any member has changed. The output for each
	    item will consist of a single set command which will set the
	    data item to the value found in 2nd ic of the comparison and
	    show the 1st value and mdd level as an end of line comment.

	    	Two categories may now be specified on the iccat LMDD option to
	    support icdelta listing for initial condition set in differing
	    categories.


    LMDD "not found" notification

		When making an lmdd request with a specific name addition
	    of a caret sign ("^") to the lmdd argument list will initiate
	    a "not found" message (rather than no output) when no matching
	    point is found.

@@4637
    LMDD &lt;global name&gt; +0x&lt;hex offset&gt;

		Dbm LMDD command will recognize a global name followed by
	    a plus sign and then a hexadecimal offset (prefaced with "0x")
	    to find and list the point or points at the given offset.


@@4024
    .UNIT with long value

		Dbm will accept values for the MDD unit field which are longer
	    than 8 characters, but has not changed the conventional length of
	    the "unit" database field. When a longer unit value is entered the
	    MDD unit field will be filled with an at-sign ("@@") followed by 7
	    characters of the unit definition, and the full, longer, unit
	    definition will be added to the point long description under the
	    convention @@UNITS(&lt;value&gt;). The long unit field, extracted from
	    the long description will be displayed by some, but not all, LMDD
	    formats, and by Jade-Dashboard. The abbreviated valu, with the
	    at-sign will appear in isd monitor and some LMDD formats.

@@4510
    remove ods module

	Remove command may specify ODS level at either end of module list.

@@4575
    Calling modules marked inconsistent on change to argument list

		Dbm and fscan will now mark calling modules inconsistent when
	    the MSF definition of a module argument list is changed. This
	    is not full full consistency checking protection for the the
	    correspondence of calling versus expected argument lists. That is:
	    it does not preclude modules considered consistent from having
	    mismatched routine calls.

dfglob

	character data

	Adjust posting of character data to blank fill in accord with Fortran
    practice. Accept "&lt;repeat count&gt; * &lt;string value&gt;" syntax. Correct
    interpretation of single character value to character value.

	Add opti -c to specify zero fill of character value as might seem
    desirable to c users. Option '-C' to restore default Fortran style protocol.
    The "-c", "-C" and "-Esplit" options may be set from within a blockdata
    file with the pseudostatement comment "!*Option -c".

fscan

@@4507
    stop with integer argument

	Fscan translation of stop statement with an integer argument to call
    stopx will add quotes around the argument value.

@@4579
   logical intrinsic function

	Fscan will no longer assume that the word "logical" is only used
    as a data declaration keyword, such that the Fortran intrinsic function
    named "logical" may be used.

@@4572
   tracking of dummy arguments to contained routines

	Fscan will now recognize when variables are stored to as dummy
    arguments to local (contained) routines.

@@4552
    warning for "multiple data values"

	When option -WD is specified, fscan will produce "multiple data values"
    warning messages when a variable is specified in more than one data
    statement. This does not differentiate between multiple data statements
    which reference different elements of an array or structure, and the case
    of multiple data value specifiers for a specific element.


@@4577
cscan
	Wild card file names

	    Cscan will now accept wild card file name arguments on Windows.

	Integer type definition

	    Users may override the default type definitions for cscan
	definitions of mdd point integer data types by defining INTEGER_1,
	INTEGER_2, INTEGER_4, or INTEGER_8 (for I*1, I*2, I*4, or I*8
	respectively).


    
@@4422
isd

    ic convention warning modification

		Convention for isd warning about use of unconventional ic
	    name is changed from 'i' or 'b' and three digits to any lower
	    case letter ('a' to 'z') and three digits.
lld

@@4513
	vcxproj

	Lld may now produce the vcxproj form of project file used with
    MSVC 9 and 10. This functionality is enabled by identifying a template
    file. The template file may be identified by the environmental variable
    S3_VCXPROJ_TEMPLATE, or by the lld command "VCXPROJ &lt;template file path&gt;".
	VCXPROJ templates require a second file, with suffix ".filters". An
    example pair of template files is added to the SimExec bin directory
    as files vcxproj10.tmpl2c, and vcxproj10.tmpl2.filters.

gdaserver

	Refresh of record on point addition

	    Logic is added to gdaserver data collector to refresh the current
	data record when points are added in freeze.



@@execjscr
executive

    see: AST - Automated Scenario Testing

    Jadescript

	Jadescript programs as documented in Section 7.7.16 of the Automatic
    Scenario Testing User Guide, and extended in the executive implementation
    may also be accessed from the isd or J-Dashboard command line.
	To enable this feature you must include the execjscr module in the
    MSF and load it in your lld script.

	For example:

	    dbm&gt;/include execjscr,library,,s3,Jade Script interpreter

	    lld&gt;load execjscr,20,1,init,freeze,run
	    lld&gt;ldo $(S3BIN)\s3dll.lib

	When execjscr has been loaded into an executive it may be controlled
    from the isd or J-Dashboard command prompt as follows:

	&gt;call jscr "load &lt;file path&gt;"
		will load a script file
	&gt;call jscr "loaded"
		will list JadeScript files in memory
	&gt;call jscr "run &lt;file path&gt;"
		will run a previously loaded script file
	&gt;call jscr "start &lt;file path&gt;"
		will load and run a script file
	&gt;call jscr "schedule &lt;file path&gt; &lt;integer&gt; run"
	&gt;call jscr "schedule &lt;file path&gt; &lt;integer&gt; freeze"
	&gt;call jscr "schedule &lt;file path&gt; &lt;integer&gt; run freeze"
		will load a script file and schedule its repeated execution
		at the designated frame interval and simulation state
	&gt;call jscr "trace &lt;integer 0 to 7&gt;"
		will set trace level for the Jade Script routine
	&gt;call jscr "unload &lt;file path&gt;"
		will remove a memory copy of a Jade Script file
	&gt;call jscr "unload all"
		will remove all script files currently in memory



@@4115
iexec

	environmental setting icRZ

	    When the environment variable icRZ is defined with a value of 1,
	the executive will apply a simple compression algorithm to initial
	condition (IC) files which will avoid writing large volumes of zeros.
	This is introduced in response to an imported system which allocates
	many arrays at sizes far above typical use, resulting in overly large
	IC files. It is only applicable with the one file per IC ("S3_CIC=1").
	iexec, mst, dbm, etc.  will recognize the file format and environmental
	setting as appropriate.
	    On Windows you may set a "Compress contents to save disk space"
	attribute on a directory. Doing so on IC directories will provide a
	much greater level of compression, but with a much greater increase in
	the time required for IC read and write operations to complete.


	"-F continue" option

	    The "-F continue" option is restored. When the "-F continue" option
	is in effect and floating point exceptions are enabled the executive
	replace the results of floating point divide by zero, overflow, and
	invalid operations with the distinct value 1.267651e30 (single) or
	1.267651e300 (double) and continue model execution without inducing
	"STOP" status.

@@4491
rtexec

    snapshot event calls

	Logic is added to the rtexec to avoid redundant snapshot event calls
    when an executive has fallen behind.


@@execast
AST - Automated Scenario Testing

		AST execution in executive

	Functionalities are added to execute AST exercises in the executive
    as an alternative to the asynchronous mode of execution provided by the
    AST program. In order to enable this one must add the "execast" module
    in the executive. Its object is in the executive library, therefore include
    it in the MSF as a library module.

	For example:

	    dbm&gt;/include execast,library,,s3,Automated Scenario Testing module

	    lld&gt;load execast,20,1,init,freeze,run
	    lld&gt;ldo $(S3BIN)\s3dll.lib


	Warning: When executing asynchronously in the AST program Scenario
	sequences and Jade Script files could include "busy wait" steps where
	the logic continuously waits for something to occur in model execution.
	This is not acceptable when the test executed in the executive. It will
	lead to a hard-run, or overtime, in the executive.

	When execast is loaded into an executive, in addition to responding to
    the AST gui programs, its status may also viewed and controlled from the
    isd of J-Dashboard command line.

	&gt;call xast "start &lt;scenario file name&gt;"
		will load and run a scenario file
	&gt;call xast "stop &lt;scenario file name&gt;"
		will stop a running scenario
	&gt;call xast "stop all"
		will stop all running scenarios
	&gt;call xast "load &lt;scenario file name&gt;"
		will load a scenario file
	&gt;call xast "pause &lt;scenario file name&gt;"
		will pause a running scenario
	&gt;call xast "pause all"
		will pause all running scenarios
	&gt;call xast "continue &lt;scenario file name&gt;"
		will continue a paused scenario
	&gt;call xast "pause all" 
		will continue all paused scenarios
	&gt;call xast "run &lt;scenario file name&gt;"
		will run a previously loaded scenario file
	&gt;call xast "state &lt;scenario file name&gt;"
		will provide a dense summary of a scenario's state
	&gt;call xast "sum"
		will summarize scenario files loaded and their state
	&gt;call xast "trace &lt;integer 0 to 2&gt;"
		will set a trace print level for the scenario execution routine.
	&gt;call xast "unload &lt;scenario file name&gt;"
		will unload a loaded scenario


	The executive implementation of the Jade Script language defined for
   AST function blocks is extended with the following additional operators:

	**	exponentiation
	&amp;&amp;	boolean and
	||	boolean or
	&amp;	binary and
	|	binary or
	^	binary exclusive or
	&lt;&lt;	binary shift left
	&gt;&gt;	binary shift right
	!	(unary) boolean inversion
	~	(unary) binary inversion

	The executive implementation of the Jade Script file location is 
   loosened and extended from that defined for AST function blocks. It will
   accept files with suffix ".jscr" appended, and files may be found in the
   following directories:
	%SCRIPT_LIB_DIR%
	&lt;UDS home directory&gt;
	&lt;UDS home directory&gt;/ast/scenario



@@4222
    Executive call stack report on exception

	The Executive will now report the call stack on exception on Windows.


@@4640
    IC Shuffle

	The IC Shuffle read of the mdd merge log is adjusted to correct
    cases where multi-dimensional and variably based array specifiers were
    mis-interpreted.

J-Dashboard

@@4512
    UTF-8 protocol

	UTF-8 protocol, rather than default code page, is used for data
	transfer from s3serv to J-Dashboard. On Windows the default code
	page will be used when non UTF-8 data is encountered. On linux
	the cp-1252 (supporting most Western European languages) is used
	by default.  cp-1251 (Cyrillic) may be selected by setting
	environment variable S3_USE_CP1251 to 1.



@@4530
"Capture Constants" or ConstCapture

    is to capture changes to simulation constants performed
online as part of test/debug simulation exercising and automate
incorporating such patches into the SimExec database.

    This process includes the following steps:

    Snap - save the simulation state, including constants.

		This uses the 'snap K' feature of the executive
	    system to create a user level initial condition which
	    includes constant partitions.

    Get - identify modified constant values.

		This uses the ic delta capabilities of the SimExec
	    LMDD command.

    Review - The modeling engineer should usually review the changes
	before committing them to the modeling software database.

    Update Database - commit changes to the software database.


	The ConstCapture window a J-Dashboard window is normally started
    using the "Capture Constants" menu item found in the J-Dashboard
    "Database" submenu. It includes a toolbar with 4 action buttons and 2
    selection boxes, and a data table to show detail information for
    patches to constant values.



The Constant Capture Toolbar


	Snap	- button to create a snapshot saving all global
		partitions defined in the attached executive. This is a
		category 'k' rather than a normal initial condition.
		The Snap button will be disabled when the J-Dashboard
		instance is not attached to an executive. 10 images
		are supported, see Set# below.

	Capture	- Button which will perform the actions of the "Snap"
		button, and then of the "Get" button.  

	Get	- Button to compare values in a saved image to the
		database global initialization files (dfg/d.global*)
		and retrieve those that are different. When complete the
		table section of the "Constant Capture" window will
		be populated.

		    The Get operation uses 2 items added to
		J-Dashboard Settings frame. 

		"Constant Capture Point Select"

			This field determines which MDD points to
		    include in the data comparison and collection. The
		    default should catch all constants defined in the
		    MDD. Alternate values allow customization to better
		    fit specific users.

		"Constant Capture lines limit"

			This field limits the maximum size of the delta
		    set.

	Set#	- A data set number is selected by a combo box
		found to the right of the Get button offering the
		integers 1 to 10. The ic set number selected here
		will be used for the Snap, Capture, and Get button
		actions.

	Update DB - Button to perform data base updates per current
		constant capture data table content. There are 4
		options, selected by the update protocol combo box,
		defining alternate procedures. 

			Update will perform the following operations:

			    - MDD value modification for scalar values.
			    - Edit of blockdata file for array element and
			    structure member values.
			    - Append array element and structure member values
			    which were not found in an existing blockdata
			    source to a conventional blockdata file.

			The changes will not be immediately reflected in the
			global initialization images. In accord with traditional
			practice, the dftglob function must be executed. This
			can be shortcut by the patch global images functions
			offered on the table popup menu.

			uds versus ods issues -
	
			    ODS MDD modification and blockdata file operations
			are potentially controlled functions. Therefore one may
			choose to extract points and modules to introduce
			patches for ODS point values. The changes will not
			take full effect until they are merged to the ODS.
			This introduces an extra step which may sometimes be
			of little value. The direct ODS modification options
			are often much more convenient.

			    When the selected function includes direct
			modification of ODS blockdata files the system will
			include the modified module in the UDS and then
			merge it to the ODS. If the MMSF Comments required
			option is in effect a popup dialog will request a
			comment for the operation.

			    Presence of MDD points and blockdata files of the
			same name at both the ODS and UDS levels can be
			confusing and degrade the effectiveness of the
			constant capture operation. It is usually appropriate
			to avoid this by merging modifications to the ODS
			promptly once the data that you are working with has				been introduced to the ODS.



	Update procedure selection - The update procedure selection
		combo box provides 4 alternatives for the procedure
		to be followed by the "Update DB" button.

	    uds points only

		    When the "uds points only" selection is in effect
		the "Update DB" button will process only those items in the
		collected data which are checked and are at the uds mdd
		level. It will perform dbm mdd modification to put the
		current value of scalar points into the mdd, then edit any
		uds blockdata files defining values for the selected points,
		then any non-scalar points with modified values which were
		not found in existing blockdata files will be appended to
		the anonymous values blockdata file.

	    ods direct

		    When the "ods direct" selection is in effect
		the "Update DB" button will process only those items in the
		collected data which are checked and are at the ODS mdd
		level. It will perform dbm mdd modification to put the
		current value of scalar points into the mdd (using direct ODS
		modification commands), then edit any ODS blockdata files
		defining values for the selected points, then any non-scalar
		points with modified values which were not found in existing
		blockdata files will be appended to the conventional blockdata
		file for anonymous ODS values.

	    uds and extract ods

		    When the "uds and extract ods" selection is in effect the
		the "Update DB" button will processed checked points defined
		at either UDS or ODS MDD levels, but ODS modifications will
		be added to the UDS. Separate merge operations would be needed
		for them to take effect in the ODS.

	    uds and ods update

		    When the "uds and ods update" selection is in effect the
		the "Update DB" button will processed checked points defined
		at either UDS or ODS MDD levels, ODS modifications will
		processed or merged to the ODS.


The Constant Capture Table


	    The ConstCapture "Get" or "Capture" button operations will populate
	the data table with patched constant values. The table contains 6
	data columns as follows:

	Check

		The Check column initially shows a plus sign ("+") to indicate
	    that the patch is to be included in update operations. When the
	    patch is processed by the "Update DB" operation it will be replaced
	    with an exclamation point ("!"). It can be set or reset by table
	    popup menu selections.


	Constant

		The Constant column shows the MDD point name, array element, or
	    structure member of an MDD point whose value has been modified.

	Patch Value

		The Patch value column shows the value found in the constant
	   capture snapshot data set. The column may be manually edited.

	Init Value

		The Init value column shows the value found in the common
	   initialization image (d.global* file) for the data item.

	level

		The level column shows the MDD level of the constant displayed
	    on the row.

	Blockdata

		The Blockdata column shows the blockdata modules which
	    reference the MDD point of the row.


The Constant Capture Table Popup Menu

	    A popup menu will be activated by a mouse right click after
	selecting a row or a set of rows in the Constant Capture data table.
	It offers the following menu items:

	Drop rows

		    When selected the currently highlighted rows will be
		dropped from the current table.

	Check rows

		    When selected the Check column of the currently highlighted
		rows will be set (to "+").

	Un check rows

		    When selected the Check column of the currently highlighted
		rows will be cleared.

	Check all rows

		    When selected the Check column of the all table 
		rows will be set (to "+").

	Un check all rows

		    When selected the Check column of the all table 
		rows will be cleared.

	Lmdd

		    Submenu offers 6 choices of LMDD formats. When any of these
		submenu items are selected then the MDD points on currently
		highlighted rows will be listed using the selected format to
		the J-Dashboard listed output window.

	Checked rows to select file

		    Will add set commands for the constant patch values found
		on checked rows of the table to a file on the host computer.
		A popup dialog box will request a file name for the file
		created or modified.

	Selected rows to select file

		    Will add set commands for the constant patch values found
		on highlighted rows of the table to a file on the host computer.
		A popup dialog box will request a file name for the file
		created or modified.

	Checked rows to image file(s) patch

		    Will place the patch values on all checked rows of the table
		to the current global initialization images. Such patches will
		be overridden when the dftglob operation is next performed.

	Selected rows to image file(s) patch

		    Will place the patch values on highlighted rows of the table
		to the current global initialization images. Such patches will
		be overridden when the dftglob operation is next performed.

	Print table

		    Will submit the current table contents for printing.




Constant Capture Settings


	The J-Dashboard Settings frame includes the following data items for
    controlling operational details of the Constant capture window.

	"Constant Capture Point Select"

		This defines the LMDD point selection used for the constant
	    "Get" operation. Default value is "C", which will capture all
	    MDD constants in alphabetic order. There are many potentially
	    desirable custom setting possibilities. For example: You might set
	    this to "global_k,o,rel" to limit the ConstCapture operation to
	    ODS variables in global_k and retrieve them in relative order.


	"Constant Capture lines limit",

		This setting places a limit on the number of lines or rows
	    collected on a constant capture get operation. Default setting
	    is 10000.


	"UDS Constant Capture blockdata file",

		This defines the blockdata file for anonymous UDS points. The
	    Update DB operation will add set commands to this blockdata file
	    when it encounters UDS MDD constants which are array elements or
	    structure members, but were not found in any blockdata file.

	"ODS Constant Capture blockdata file",

		This defines the blockdata file for anonymous ODS points. The
	    Update DB operation will add set commands to this blockdata file
	    when it encounters ODS MDD constants which are array elements or
	    structure members, but were not found in any blockdata file.



@@4532,1279
The icDelta Window

	    The icDelta frame supports identifying differences between 2
	initial condition sets. It is initiated by a menu item labeled
	"icDelta" beneath "ConstCapture" on the "Database" submenu.

The icDelta window contains the following controls:


The "Get" button

	    The icDelta "Get" button will collect a data set showing the
	differences between two initial condition sets and populate
	the data table tab with the values. Two different IC numbers must
	be selected.

The "X" button

	    The "X" button will close the currently selected tab.

The "Compare" text field

	    The Compare text field allows selection of points to be included
	in the ic comparison operation of the Get button. Use LMDD point
	selection arguments.

The "ic#" combo boxes

	    Two ic number selection boxes are used to select the two IC number
	to compare.

The "Delta" text field

	    The Delta text field is to specify a tolerance to apply when
	comparing floating point values from the 2 initial condition sets.
	


The icDelta table

	The icDelta table contains 4 data columns as follows:

	Variable

		The Variable column shows the MDD point name, array element, or
	    structure member of an MDD point whose value has differs between
	    the two selected initial conditions.

	ic 1 Value, ic 2 Value

		The ic value columns show the 2 values found in the initial
	    condition sets.

	level

		The level column shows the MDD level of the variable displayed
	    on the row.



The icDelta Table Popup Menu

	    A popup menu will be activated by a mouse right click after
	selecting a row or a set of rows in a icDelta data table.
	It offers the following menu items:

	Drop rows

		    When selected the currently highlighted rows will be
		dropped from the current table.

	Lmdd

		    Submenu offers 6 choices of LMDD formats. When any of these
		submenu items are selected then the MDD points on currently
		highlighted rows will be listed using the selected format to
		the J-Dashboard listed output window.


	Left rows to select file
	Right rows to select file

		    Will add set commands for the values found
		on highlighted rows of the table to a file on the host computer.
		A popup dialog box will request a file name for the file
		created or modified.


	Print table

		    Will submit the current table contents for printing.




icDelta Settings


	The J-Dashboard Settings frame includes the following data items for
    controlling operational details of the Constant capture window.

	"icDelta lines limit",

		This setting places a limit on the number of lines or rows
	    collected on a constant capture get operation. Default setting
	    is 10000.


@@4665
JadeScript Table


	JadeScript is an interpreted language introduced by the Automated
    Scenario Testing "AST" function. JadeScript programs can be executed
    on-demand by the execjscr module. The JadeScript table provides an interface
    to monitor and control executive execution of JadeScript programs.

	The JadeScript table may be initiated from the "JadeScript" menu
    button on the "Online" menu or submenu. It is a single instance window
    containing a refresh button and two table tabs - "Active" and "Jscr Files".

	The "Active" table shows the JadeScript files loaded into the attached
    executive. 

	The "JscrFiles" table shows the JadeScript files found on connected host
    system. A blank line is included at the bottom of the table for introducing
    a new JadeScript file from Jade-Dashboard.

	After selecting a line or a group of lines on either table a right
    mouse click will initiate a popup menu from which one may perform actions
    on the selected file or files. Menu options include the following:

	Delete

		Delete will delete the selected file or files from disk.
		("Jscr Files" table only).


	Edit
	
		Edit will open the selected file in an edit window.

	List
	
		List will print the selected file or files in the
		Jade-Dashboard "Listed Output" window.

	Run

		Will request execution of the selected file (or files).

	Schedule

		The "schedule" item will open a submenu to select 
		repeated execution of the script in fun or freeze status or
		both and a text field to select the repeat interval.

	Stop

		Stop will cancel the scheduled repeat execution of the selected
		script. ("Active" table only).

	Reload

		Reload will instruct the executive to re-read the script file.
		("Active" table only).

	Unload

		Reload will instruct the executive to discard its memory copy
		of the script file.  ("Active" table only).


	The JadeScript table contents will refresh automatically after a
    Run, Schedule, or Stop action is performed. Other actions, such as
    actions performed by other users will not be automatically detected.
    The "Refresh" buttom will update the tables' contents to reflect the
    current state.


	"jscrDirectories" is added to Jade-Dashboard "Settings" to define
    the host directory or directories to search for Jade-Script files. Use
    semicolons to separate to directory paths when specifing multiple search
    directories.
    


@@4661
Trend Window csv import

	The import csv data feature of the Jade-Dashboard trend window is
    enhanced to recognize and accept some trend data csv data file format
    variations produced by other programs.



@@4593
	Record CSV Window

    The recordcsv window may be activated by selecting the "record" menu item
on the Jade-Dashboard "Online" drop down menu. It is a single instance window
with a refresh button and 4 tabs. Most functions of the recordcsv window require
connection to an an executive which has recordcsv loaded.

	The Record CSV "Settings" tab

    The recordcsv window "Settings" tab shows a table with the number of active
recording sessions, and the current values of the recordcsv adjustable setting
items.  The setting values may be dynamically modified by entering a new value
in the "Value" collumn of the table.


	The Record CSV "Active" tab

    The recordcsv window "Active" tab shows a table of the record sessions
currently active in the attached executive. For each active recording session
it shows the page name, the current file, number of items, number of
lines written, number of records collected, record collection interval,
sychronization frame, monitor option, number of points resolved, and the point
names.
    Lines may be selected in the "Active" table and acting upon via a popup
menu with the following options:
	Stop		- stop the recording session.
	Monitor Window	- show the page in a new monitor window.
	Monitor Tab	- show the page in a new tab in the monitor 1 window.
	Trend		- show the page in a new trend window.

	The Record CSV "Pages" tab

    The recordcsv window "Pages" tab shows a table of the page files
currently available on the attached system. One may select a page then
right click for a popup menu offering the following actions:

	Record		- start recording with this page.
	Dump		- print a list of the current value of the page 
			variables in the Jade-Dashboard "Listed output and
			command line" window.
	Monitor Window	- show the page in a new monitor window.
	Monitor Tab	- show the page in a new tab in the monitor 1 window.
	Trend		- show the page in a new trend window.
	Delete		- delete the page definition file.

	Text fields (with recall) to set the record interval and synchronization
    frame options of the "record" command are beneath the action item contents
    of the popup menu.

	The Record CSV "CSV Files" tab

    The recordcsv window "CSV Files" tab shows a table of the CSV data files
currently available on the record csv directory of the attached system. One
may select a file or files then right click for a popup menu offering the
following actions:

	Trend		- start a trend window showing the data found in the
			selected file.
	Delete		- delete the selected data file.

	
	The Record CSV "Refresh" button

    The Record CSV refresh button will refresh the data in all 4 tabs of the
Record CSV window. The data shown in the tabs does not dynamically update, and
so may not be a true reflection of the current system state. The refresh
operation will also act automatically on various operations.


@@2494
Jade-Dashboard State Save / Restore

	The Save State function of Jade-Dashboard is rearranged such that
    the layering of windows on state restore will reproduce that in effect
    when the save was performed.

@@4538
installation demonstration system testex

	A second interactive executive, named "testex" is added to the tdemo
    (trivial demonstration) system usually built on Windows installation. It
    demonstrates configuration of the executive libray server programs
    execast, execjscr, recordcsv, ddesrv, and exesrv and creation of a visual
    studio xml format project file based on the vcxproj10.tmpl2c template.



4.5.2 P1

	Patch Release fo 4.5.2


@@4898
dfglob

    integer assignment statement correction

	Corrections made to dfglob to correct setting of integer values
	with "set" or assignment statement input format.

    character data default reversal

	Default protocol for setting values of character values changed
	to c-style instead of Fortran style. That is default corresponds
	to "-c" option where trailing portion of character value is set to 
	zero. This cooresponds to behavior of isd and J-Dashboard set actions
	and lmdd ic data output. Include trailing spaces in value when
	desired. Use option "-C" to direct dfglob to blank fill trailing
	portion of character variable, which matches Fortran practice.

@@4801,4823,4825
fscan

    nested data statement 

	Correction made to fscan parsing to accept multiply nested
	data statement value syntax.

    f90 compile file

	Fscan upgraded to produce "free" format compilation file when input
	is in free format (fscan option "-Efree").

    -Eimportaliasg option

	Fscan option "-Eimportaliasg" on Windows directs fscan to import common
	partitions defined by point references resolved in MDD alias global
	partitions. Option "-Enoimportaliasg" will cancel the setting.

    -Epass option

	"-Epass" option added to fscan to treat unrecognized syntax as a
	warning, rather than fatal error, and to pass unrecognizable statements
	to the Fortran compiler. Option "-Enopass" will turn this mode back
	off.

@@4847
global99 definition

    sim_stat to sim_status

	Definition of variable "sim_stat" in bin/g99 file as equivalent to
	"status" is replaced with sim_status". (In response to name collision
	with variable used in gdaserver simalarm option).
 
 
@@4881
isd, J-Dashboard

    module type instance correction

	Corrections made to interpretation of data structure member definition
	in embedded module data.

@@4902
lld

    IMPORT command

	Global configuration command IMPORT is added to lld to support
	definition of "Alias" partitions in a Windows dynamic link library
	(dll).


@4882
OPC client

    Potential stack overflow correction

	Adjustment made to OPC client initialization to avoid potential
	stack overflow exception on definition of large transfer sets.


</Text>
</Topic>
<Topic>rpcservers<Text>

	There are 4 RPC servers normally executed with the simulation load.
   3 of these are common with OpenSim, a 4th interfaces JStation with the
   simulation load. A 5th server - portmap supports RPC resolution.

	They are:

    dirserver - Directory Server

		The directory server coordinates the locations and service
	    numbers of the other servers by project name.

    dbaserver - Database Access Server

		Provides MDD lookup service.

    gdaserver - Global Data Access Server. Used for trend data collection.

    jisserver - Jade Instructor Station Server. Implements most JStation
	    interaction with the load.



	Stand-alone or In-Exec execution


	On Windows, each of the 4 RPC servers may be activated as separate
    programs, or loaded into an executive task. (On linux only the separate
    task instances are provided).

@@portmap

portmap

	Portmap is a basic element of ONC-RPC (Open Network Computing - Remote
    Procedure Call) services required to associate fixed RPC service
    id and version numbers to dynamically assigned TCP/IP port numbers. It is
    provided by the operating system environment on Linux, but is an addition
    on Windows.
	On Windows portmap is installed as a service. This involves copy
    of portmap.exe to the System32 directory and execution of a simple program
    named "instpm.exe" to register portmap as a Windows service. These
    operations are normally performed by the SimExec installation package.

	Portmap operates on port number 111 (universally reserved for it).
    RPC server programs utilizing this package on Windows use privileged port
    numbers in the range 600 to 1623 selected in an effectively arbitrary
    manner.


@@dirserver

dirserver (Directory Server)

	dirserver coordinates location and service numbers for dbaserver,
    dbaserver, gdaserver, and jisserver. It uses a fixed service number and
    only one instance may be active on a computer. When multiple simulation
    instances are supported on a computer they must share a single dirserver.
    Each may be configured to start dirserver, but all should have the
    same data.

	dirserver data is usually provided in a text file named "DIRserver.dat"
    located in  the directory identified by environment variable "S3_SEISDATA".
    One line of data is required to identify each PROJECT. There are 2 format
    alternatives for this line. When multiple simulation instances are
    supported - the long form must be used and each service must be given a
    unique service number.


	Short form:

		Short form data is in the form or 3 fields, separated by the
	    bar character ("|"). The fields are:

		PROJECT		- the project name
		DBAHost		- the computer name or ip address for dbaserver
		GDAHost		- the computer name or ip address for gdaserver

			When the short form is used default service numbers are
		   used for all servers, the GDAHost also used for RTHost and
		   TDCHost, and all other fields default to empty.

			Default RPC service numbers are as follows:

		DBA		570425346
		RT/JIS		536870911
		GDA		536870912
		TDC/GOA		536870913

	Long form:

		Long form data is in the form of comma separated fields as
	    folllows:

		PROJECT		- the project name
		HDir		- home directory (not used)
		OUser		- ODS user (not used)
		Binpath		- executable directory (not used)
		DBAHost		- the computer name or ip address for dbaserver
		DBARPC		- RPC service number for dbaserver
		RTHost		- the computer name or ip address for jisserver
		RTRPC		- RPC service number for jisserver
		GDAHost		- the computer name or ip address for gdaserver
		GDARPC		- RPC service number for gdaserver
		TDCHost		- the computer name or ip address for goaserver
		TDCRPC		- RPC service number for goaserver
				(goaserver is part of jisserver)
		NIC		- number of ics (not used)


	Comment lines may be included with asterisk ("*") as first character.

	When the ODBC data source "opsproj" is configured on the system will
    access the project data from table "opsproj" instead of reading the text
    data file.


    dirserver clients


	    dbaserver clients include dbaserver, gdaserver, jisserver, jstation,
	and SimView. Each attach to an instance on dirserver on the computer
	identified by environmental "OPS_DIRHOST" and then inquire for the
	block of information for the project identified by environmental
	"OPS_PROJECT".


    dirserver activation


	    dirserver is most typically activated by starting dirserver.exe.
	As only a single instance of dirserver may be active on a computer, it
	will immediately exit if another instance is already active.
	    dirserver will read its data file during initialization and proceed
	to answer client inquiries. dirserver will also exit during
	initialization if no project information is found. If the data file is
	changed, dirserver should be restarted.
	    dirserver does not access simulation executive task memory nor other
	data, and may remain in service when the simulation load is not in
	operation.

	    (Windows only) Alternatively, an instance of dirserver may be
	configured into an executive task. To do so:

		dbm&gt;/include DIRSERV,library,,seis

		lld&gt;load DIRSERV,0,0,init
		lld&gt;ldo $(S3BIN)\dirsdll.lib

	    The executive will call a dirserver entry once during
	initialization. That entry will start a thread for dirserver to perform
	its service. If another instance of dirserver is already active on
	the host computer, that thread will exit.



@@dbaserver

dbaserver (Database Access server)

	dbaserver provides mdd lookup information to clients. On activation, it
    will inquire of dirserver to determine its RPC service number. If dirserver
    is not available it will use its default rpc service number.


    dbaserver activation


	    dbaserver is most typically activated by starting dbaserver.exe.
	    dbaserver will open the SimExec database during initialization
	and proceed to answer client inquiries.
	    dbaserver does not access simulation executive task memory nor other
	data, and may remain in service when the simulation load is not in
	operation.
	    dbaserver does access the SimExec database information, and
	therefore it must be activated with sufficient environmental
	information to open the correct database.

	    (Windows only) Alternatively, an instance of dbaserver may be
	configured into an executive task. To do so:

		dbm&gt;/include DBASERV,library,,seis

		lld&gt;load DBASERV,0,0,init
		lld&gt;ldo $(S3BIN)\dbasdll.lib

	    The executive will call a dbaserver entry once during
	initialization. That entry will start a thread for dbaserver to perform
	its service.


@@gdaserver

gdaserver (Global Data Access server)

	gdaserver provides a collection of services which interact with an
    active simulation load. It is used by JStation for trend data collection
    and provides compatibility with Xtreme tools SimView. It also contains
    obsolescent services for OpenSim or SEIS instructor station systems.

	On activation, gdaserver will inquire of dirserver to determine its
    RPC service number. If dirserver is not available it will use a default
    service number.


    gdaserver activation


	    gdaserver is most typically activated by starting gdaserver.exe.
	    gdaserver will open the SimExec database during initialization
	and proceed to answer client inquiries.
	    gdaserver accesses simulation executive memory in addition to
	database information and will exit when the simulation load is
	terminated. The independent executable will reference shared global
	partitions only.

	    (Windows only) Alternatively, an instance of gdaserver may be
	configured into an executive task. To do so:

		dbm&gt;/include EXECGDASERVER,library,,seis

		lld&gt;load EXECGDASERVER,0,0,init
		lld&gt;ldo $(S3BIN)\gdasdll.lib

	    The executive will call a gdaserver entry once during
	initialization. That entry will start a thread for gdaserver to perform
	its service. The exec resident instance of gdaserver will reference
	the global memory partitions defined in that executive (they may be
	shared or local).

    Seis data directory files

	gdaserver will reference several files located in the directory
    identified by environment variable "S3_SEISDATA". This includes the
    following.

	gda.properties


	    The gda.properties is a text file to various gdaserver operational
	parameters. Each is provided on a line of the form

		&lt;parameter name&gt;=&lt;value&gt;

	    Parameters which may be defined here include the following.

		runGDAServer
		runRampServer
		runEventCommand
		runVirtualMachine
		runPeriodicServer
		runDataCollection
		dataCollectionRate
		testSWCK

	    The value for dataCollectRate is an integer in milliseconds; all
	others expect values of on or off. When used with JIS the following
	settings are typically used:


runGDAServer=on					
runRampServer=off		
runEventCommand=off			
runVirtualMachine=off
runPeriodicServer=off
runDataCollection=on
dataCollectionRate=250


	dcol.dat

	   The dcol.dat file is to specify global data points which are always
	included in data collection. Points are specified one per line by point
	name, and array index when applicable.

	DCtest.map

	    This file is created and used by trend data collection.


    GDA_COMPATIBILITY

	The GDA_COMPATIBILITY environment variable controls whether gdaserver
    performs compatibly with OpenSim versus SEIS in some places.

	set GDA_COMPATIBILITY=OpenSim

		or

	set GDA_COMPATIBILITY=Seis


    gdaserver trend data collection


	The trend data collection routine of gdaserver performs periodic
    collection of data point values to a memory mapped binary file and provides
    services to control the selection of data points being recorded and
    to output point value history data. The set of points being recorded
    includes a those configured at initialization to always be collected plus
    others dynamically added.


	data collection parameters

	The frequency of data collection has a default of 1 cps or 1000
    milliseconds per interval. This is usually raised to 4 cps by the
    dataCollectionRate=250 setting in the gda.properties file. It can also be
    controled by specifying a millisecond interval on the environment variable
    DCOL_RATEMS, and on-line by client programs through the RPC or SocketServer
    interfaces.

	The size of each data collection buffer is determined by the maximum
    number of data points which may be collected. The default setting for this
    limit is 1200. This may be overriden at initialization by environmental
    variable DCOL_MAX_ITEMS.

        The maximum number of records has a default value of 86400. This may be
    overriden at initialization by the environment variable DCOL_MAX_RECORDS.
    The default corresponds to 24 hours of data at 1 cps, or 6 hours at 4 cps.
    After a simulation session exceeds this capacity new data records will
    replace the oldest (which will no longer be available).

	The data collection capacity is the product of the size of each data
    collection buffer and the maximum number of records.


	data collection reset

	On simulation reset the data collection resets its data collection
    history to empty when resetting to an initial condition, and to the point
    when the snapshot was created when resetting to a backtrack record.


	logging

	During initialization gdaserver data collection check for environment
    variable "GDADC_LOG", and if it is defined with a non-zero value will log
    traces about its activities to a file named "gdaserverdc.log". When an
    existing of this file is of size less than 2 megabytes it will be opened
    in append mode. Whe the file is larger, it will be moved to
    "gdaserverdc.prev.log" and a new file started.


	Socket Service

	A separate, more capable, and simpler service based on tcp sockets,
    rather than ONC-RPC, was added to gdaserver data collection for use by
    JTrend. This service must be explicitly enabled and assigned a service
    name or port number by defining the environment variable "GDADC_SERVICE",
    with a service name or port number as value.


	Seminar Room data collection


	gdaserver data collection has an alternate mode for seminar room
    data collection. In this mode it performs the all of the functions of the
    default mode, but some are modified and other functionalities are added.

	Seminar Room data distribution

	gdaserver data collection has an alternate mode for seminar room
    replay. In this mode it does not collect data, but instead replays
    data previously collected in a Seminar room data collection session.








</Text>
</Topic>
<Topic>s3serv<Text>
    The S3SERV program

	    The s3serv program performs as a TCP/IP service to support remote
	access to various SimExec data and functionality for client programs.
	Once started it does not interact directly with the user.

	    Client programs which use s3serv include:
	dbm and isd when activated with "r" options.
	JadeDashboard (jdb) (java based, point and click SimExec interface).
	SimDraw, and many other JADE programs.

	    In order to define establish communication s3serv will listen
	on a TCP service port, and the client must request the same port. The
	port number on which s3serv will listen for client requests must be
	known to both server and client.
	    The following precedence of rules is used by s3serv to define this
	selection.

	- When s3serv is activated with a single argument that integer
	value will be used as the service port name or number.

	- When activated with no arguments the service may be configured by
	the environment variable "S3_SERVICE". If the "S3_SERVICE" variable is
	not defined then the variable "S3_NAME" will be used. If neither is
	defined then the service will default to the service name "s3".

	    In all cases the port may be identified either as an integer port
	number or by a symbolic service name. When a symbolic name is used, it
	must be resolved to a port number by the system "services" file. The
	"services" file is found in directory /etc on unix-like systems,
	in directory %SystemRoot%\system32\drivers\etc on Windows systems
	(where %SystemRoot% is usually "C:\Windows").
	

	    Whether remote clients will be permitted to perform operations
	requiring SimExec ODS modification privileges is conditional on the
	privilege status applicable on activation of s3serv.


	    In order to successfully communicate with a SimExec executive
	task in a windows server environment s3serv must be executing in the
	same user session as the executive.


	S3serv default uses a TCP socket as a windows file HANDLE, this is not
    accepted on some systems (depending on how network drivers are installed).
    The environment variable "USE_SEND_RECV" may be set to 1 to tell s3serv,
    and its clients, to avoid this usage, and thereby, work on such systems.



	When environment variable S3_OPS is defined with a non-zero value
    s3serv assumes that is being used in an OpenSim environment. It will
    use OpenSim RPC services to enable integration of OpenSim with certain
    JADE tools. Other services will not be available.

 

Establishing Binary connection

	In order to establish a connection to s3serv a client first opens
    a TCP socket to the host/port on which an s3serv instance is listening.
	Next the client must send the username and uds name to it wants to
    connect to. The username sent as 12 characters, the uds as 8, each zero
    filled. If the connection is accepted then s3serv send a 2 character
    response of which the first character will be a plus sign ("+"). On failure
    (such as invalid UDS name) s3serv will return a 12 character refusal
    message and then close the socket.
    
</Text>
</Topic>
<Topic>jade_s<Text>
 jade_s -  s3serv service for Jade programs

	   The Jade_S service communicates through ascii character strings for
	requests from Client, and return data. This interface was introduced to
	simplify communication for java based programs. The types of services
	range widely. They include redundancies and overlaps with other s3serv
	services, and a "wrapping" of many of the gii routines.  As it is
	keyword driven with clear failure indication it is easy to add routines
	here without compatiblilty issues. This is a prefered approach for new
	s3serv capabilities requirements.

	   A subset of the functions are sufficient to support Jade Java based
	panel mimic graphic displays. These are implemented by s3serv operating
	in the OpenSim environment, integrated to SimSuite-Pro SCF service,
	and implemented by s3serv variants for some other simulation execution
	environments. These alternate implementations do not include the many
	jade_s services not used by the panel graphics systems. In these
	alternate environments executive attachment is implicit, and the
	executive attachment services are dummied in or disabled.

	   The exesrv routine implements an s3serv instance executing within
	an executive task. When this is used executive attachment is
	implicit, and executive attachment commands are dummied in or
	disabled.


   Input:
	    The jade_s service is initiated by s3serv receipt of service
	request 52. 

	Two reads are always performed:

		1st Read:  length of pending message in a nine character zero
			embedded string. IE "000000014"
		     or special character + 8 byte ascii length
			~	no response

		2nd Read:  message of 1st read length.

	    The message begins with a keyword request type, followed by
	applicable space separated arguments. Request keyword is case
	insensitive.

   Response:
	Writes a response string, terminated by plus (success) or minus (fail)
	followed by the new-line character, for example "+\n" and "-\n", back
	to the Client.

	Most response string(s) sent back to the Client are terminated by the
	above end-of-response trailer ("+\n" or "-\n"). Negative results
	typically return only "-\n". Action commands with no data return
	typically return only "+\n". Data returns vary somewhat with most
	either returning a single line terminated with "+\n" or multiple
	lines terminated with "\n+\n".

	Most response strings will contain only ascii characters, any
	non-ascii characters found in most response strings are forced to
	utf-8. The getfile services are an exception to this (as well as to
	the end-of-response trailer; they return the actual binary file
	contents with no translation.

Services ::


echo&lt;text&gt;
  response: &lt;text&gt;\n+\n

batch

	batchd&lt;command&gt;[input=d&lt;input&gt;d]

	where:	d := delimiter for input

	response: &lt;batch output&gt;\n+\n

constat
  response: &lt;id&gt; &lt;ExecName&gt;*\n+\n
	where:	&lt;id&gt; := integer connection id
		&lt;exec&gt; := executive name
  "get connection status" enumerates execute connections

	Obsolescent


dbmcmd &lt;dbm command string&gt;

	Will return output of the dbm command with "\n+\n" trailer added.
    This service is very flexible. It can replace quite a few of the other
    Jade_s services.


dbm &lt;cmd&gt;
	Interface which executes command with protocol to return incomplete
	output with client required to respond with request for more when
	applicable.
	Not detailed




exec &lt;ExecName&gt;
	response:+\n or -\n

	Establishes connection to active executive. ExecName is ignored when
    exesrv or non-SimExec environment.


execdisconnect &lt;ExecName&gt;

	Removes connection to active executive. Ignored when exesrv or
    non-SimExec environment.

	Removes 

execdisconnectall

execkill &lt;execname&gt;

execkillall

execmodule &lt;ExecName&gt; &lt;ModuleName&gt; [in|out]

execspawn &lt;ExecName&gt;
  activates and establishes connection to executive

freeze &lt;ExecName&gt;

getexecframetime &lt;ExecName&gt; &lt;?&gt;

getexeclist
	service obsolete, linux only

getexecmodulelist &lt;ExecName&gt; &lt;category&gt;
  &lt;category&gt; ::= integer
	0, default	all
	2		control modules
	4		modules out
  response:
	&lt;name&gt;\f&lt;enabled&gt;\f&lt;level&gt;\f&lt;time average&gt;\f&lt;time worst&gt;\f
	    &lt;time current&gt;\f&lt;system&gt;\f&lt;mod.type&gt;\f&lt;consistency&gt;\f
	    &lt;dummy&gt;\f&lt;cps&gt;\f&lt;group&gt;\f&lt;frz&gt;
	*
	\n+\n

getexecudslist
  response:&lt;ExecName&gt; *\n+\n
  ExecNames are selected by filesearch of "ld.*" on linux or "*.lld"
  on windows. Obsolete.


getfile &lt;filename&gt;
   response:
	&lt;size&gt;&lt;contents&gt;
	where: &lt;size&gt; ::= &lt;network binary integer&gt;
			size of contents, in bytes, 0 if file not found.

getfilec &lt;category&gt; &lt;filename&gt;
   where:&lt;category&gt;
		asrc	- amended source (msf name required)
		osrc	- ods source (msf name required)
		usrc	- uds source (&lt;uds&gt;/&lt;msf name&gt; required)
		isdpage - isd page file
		UdsRel - uds relative path
		OdsRel - ods relative path
		OdsIcpatch - ods ic patch file
		UdsIcpatch - ods ic patch file
		optext - maybe MT_TEXT
		&lt;else&gt;	- general
   response:
	&lt;network binary integer&gt;&lt;contents&gt;

getfilelist &lt;key&gt;
    where:&lt;key&gt; ::= wild card file path specification
    response: space separated list of file names (paths),
	terminated with " \n+\n"
    note: no provision for names w/space

getfilelistc &lt;category&gt; &lt;key&gt;
    where: &lt;category&gt; ::= isdpage | unknown
    response: space separated list of file names (paths),
	terminated with " \n+\n"

getremoteaccess &lt;ClientHostName&gt;
	documentation omitted as service obsolete

getsource &lt;ModuleName&gt;
   response:
	&lt;size&gt;&lt;contents&gt;
	where: &lt;size&gt; ::= &lt;network binary integer&gt;
			size of contents, in bytes, 0 if file not found.

getval &lt;ExecName&gt; &lt;Variable&gt;
  response:&lt;value&gt;\n+\n
    where:&lt;value&gt;
	doubles per %#.15g
	floats per %#g
	ints per %d
	complex per (%g,%g)
	character looks wrong!
	logicals true or false or per 0x%x
	not found "-000"

getvar &lt;Variable&gt; &lt;Level&gt;
    where: &lt;Variable) ::= &lt;symbol name&gt;[(index)] | &lt;wild card symbol&gt; |
		^simtime | ^status
	&lt;level&gt; ::= 0 | 1 | 2
  response: &lt;name&gt;[(&lt;index&gt;)]\f&lt;level&gt;\f&lt;user&gt;\f&lt;global&gt;\f&lt;system&gt;\f
		&lt;units&gt;\f&lt;format&gt;\f&lt;description 0&gt;\f&lt;description 1&gt;\f
		&lt;description 2&gt;\f&lt;description 3&gt;\f&lt;description 4&gt;\f
		&lt;description 5&gt;\f&lt;vcopt&gt;\f&lt;dtype&gt;\f&lt;precision&gt;\f
		&lt;dimen 0&gt;\f&lt;dimen 1&gt;\f&lt;dimen 2&gt;\f&lt;dimen 3&gt;\f
		&lt;dimen 4&gt;\f&lt;dimen 5&gt;\f&lt;dimen 6&gt;\f&lt;dimen 7&gt;\f
		&lt;giitype&gt;\f[&lt;subscript&gt;)]\f&lt;mdd value&gt;\f
	*\n+\n

    Obsolescent, replace with dbmcmd LMDD form=6

getvarX &lt;Variable&gt; &lt;Level&gt;
	like getvar, but xpt sensitive

getMddInfo &lt;Ptid&gt; &lt;Level&gt;
    response: &lt;name&gt;[(&lt;index&gt;)]\f&lt;level&gt;\f&lt;user&gt;\f&lt;global&gt;\f&lt;system&gt;\f
		0		1	2	3	  4
		&lt;units&gt;\f&lt;format&gt;\f&lt;description 0&gt;\f&lt;description 1&gt;\f
		5	 6	   7		    8
		&lt;description 2&gt;\f&lt;description 3&gt;\f&lt;description 4&gt;\f
		9		 10		  11
		&lt;description 5&gt;\f&lt;vcopt&gt;\f&lt;dtype&gt;\f&lt;precision&gt;\f
		12		 13	  14	   15
		&lt;dimen 0&gt;\f&lt;dimen 1&gt;\f&lt;dimen 2&gt;\f&lt;dimen 3&gt;\f
		16	   17	  	18	 19
		&lt;dimen 4&gt;\f&lt;dimen 5&gt;\f&lt;dimen 6&gt;\f
		20	   21		22
		&lt;giitype&gt;\f&lt;global offset&gt;\f&lt;mdd value&gt;\f&lt;predecessor&gt;\f
		23	   24		    25		 26
		&lt;offset&gt;\f&lt;bound&gt;\f&lt;rootflag&gt;\f&lt;rev.date&gt;\f
		27	  28	   29		30	 
		&lt;strType&gt;\f&lt;xdesc&gt;\n+\n
		31	   32

getmodule &lt;ModuleName&gt; &lt;level&gt;
    where: &lt;ModuleName&gt; ::= &lt;module name&gt; or &lt;wild card module name&gt;
  response: &lt;level&gt;\f&lt;user&gt;\f&lt;name&gt;\f&lt;module type&gt;\f&lt;decription&gt;\f
		&lt;system&gt;\f&lt;consistent&gt;\f
	*\n+\n

	made obsolete by dbm lmsf form=52

getlistid &lt;ExecName&gt; &lt;listid_in&gt; &lt;Variable&gt;*
  response: &lt;listid_out&gt;\n+\n
    where:  &lt;listid_in&gt;	:= integer existing listid or -1
	    &lt;listid_out&gt; := integer new listid
	    &lt;Variable&gt; := &lt;global symbol name&gt; or
		&lt;complex global symbol name&gt;&lt;suffix&gt; or
		&lt;built in name&gt;
	      &lt;suffix&gt; := (! | # | @)(I or R or i or r)
	      &lt;built in name&gt; = _simtime or ^simtime or ^status

getlistidset &lt;ExecName&gt; &lt;listid&gt; &lt;VariableList&gt;
   &lt;similar to getlistid&gt;

getstatus &lt;ExecName&gt;
  response: &lt;status&gt;\f&lt;hour&gt;\f&lt;minute&gt;\f&lt;second&gt;\f&lt;frame&gt;\f&lt;rate&gt;\f
		&lt;exec type&gt;\f&lt;licr&gt;\n+\n

getvaluS &lt;listid&gt;
  response: &lt;status&gt;\f&lt;hour&gt;\f&lt;minute&gt;\f&lt;second&gt;\f&lt;frame&gt;\f&lt;rate&gt;\f
		&lt;exec type&gt;\f&lt;licr&gt;\f(&lt;value&gt;\f)*\n+\n

getvalue &lt;listid&gt;
  response: &lt;value&gt;\f *\n+\n

hold &lt;ExecName&gt;

listidstat
  response:
	&lt;listid&gt; &lt;ExecName&gt; &lt;ConnectionId&gt;
		&lt;VariableName&gt; &lt;TypeCode&gt; &lt;Address&gt; *
						    *
	\n+\n

mmsfcomments

privilege

putfile &lt;filename&gt; &lt;content&gt;

putfilec &lt;category&gt; &lt;filename&gt; &lt;content&gt;
    where:&lt;category&gt; ::= as for getfilec +
		sela - append to select file
		logu - append to UDS log file
		logo - append to ODS log file

putsource &lt;ModuleName&gt; &lt;content&gt;

rate &lt;ExecName&gt; &lt;rate&gt;

reset &lt;ExecName&gt; &lt;IcName&gt;

run &lt;ExecName&gt;

setvalue &lt;listid&gt; &lt;Valuelist&gt;

setval &lt;ExecName&gt; &lt;VariableName&gt; &lt;value&gt;

snap &lt;ExecName&gt; &lt;IcName&gt;

step &lt;ExecName&gt; &lt;Interval&gt;

xterm &lt;Client&gt; &lt;Command&gt; &lt;argument&gt;
	(linux only)
</Text>
</Topic>
<Topic>sequ<Text>


	SEQU options


	    Additional options and capabilities are available on the
	lmdd sequ listing functions. These are selected by adding the
	characters '+', '*', and 'e' or 's' to the sequ keyword on the
	lmdd command.
	    Their meanings are as follows:

		    '+'	- The plus option adds any points equivalenced by the
			mdd successor/ predecessor relationship below the level
			of the global root point to the sources and lines
			selected for output by the sequ function.

		    '*' - The asterisk option limits the source files searched
			for the sequ listing to those where the point is stored
			to.

		    'e' or 's' - The E or S option modifies the sequ line
			selection to include the full equation section (under
			the source formating conventions usually followed) for
			each location where the symbol is referenced. (E or S
			are synonymous as pnemonic for either "equation" or
			"section").
			
	    These three options may be used in any combination or order.
	For example -

		sequ+
			- include any equivalenced points on the listing.

		sequ+e
			- include any equivalenced points on the listing,
			and list by full source equation sections.

		sequ*
			- include only source files where the variable is set.

		sequ*e
			- include only source files where the variable is
			set, and list by full source equation sections.

		sequ+*e
			- include only source files where the variable, or
			any equivalenced variable is set, and list by full
			source equation sections.

	Miscellaneous notes on sequ process

		    When the variable searched is referenced on a block
		structure control statement the body of the structure will be
		included on the listing.
		    The parsing of structure statements is greatly simplified.
		One consequence is that use of the "enddo" statement to
		terminate "do" blocks is expected. When do statements are
		terminated by labels on other statements, sequ will not
		recognize their termination.

		    The listing will will always include any comment
		statements immediately preceeding statements on which the
		searched variable is referenced.

		    Fscan source files from other UDS systems which reference
		requested ods variables will be processed when available.



</Text>
</Topic>
<Topic>dbmchk<Text>

	dbmchk is a separate executable program to check for and recover from
    corruption of the mdd.  Such corruptions are normally rare, however,
    such uncontrollable events as power interruption during update, file
    system corruption, partially corrupt file transfer operations, or users
    copying mismatched data and index file versions will occasionally cause
    them to occur.
        When they occur they may cause fairly arbitrary symptoms, including
    loss of data, and will usually not self correct. They are likely to be
    noticed by const (part of the dftglob process) which will issue a
    successor order failure message to alarm of the condition.

	dbmchk can also be used to rebuild the mdd index on demand in support
    of changing the case sensitivity setting.



	dbmchk is executed from the command line with the following options
    available:


	-o	check the mdd of the official development system

	-p	purge cross-reference information (not usually recommended),
		but can be useful if much orphaned cross-reference information
		is present due to arbitrary deletion of UDSs. As modules are
		not marked inconsistent by this operation, use of the dbm
		"check mdd x" process is needed to recover data.

	-r	read-only, that is check for, and report on corruptions, but
		do not patch.

	-u	check the mdd of the current user development system (default)

	-v	verbose. Prints many messages (not recommended).

	-x	rebuild index. Forces a rebuild of the index. (Use this if
		the value of S3_CASE is changed).


	dbmchk checks the integrity of the mdd index (i.e. all entries point to
    the correct data, and all mdd data entries are present in the index) and of
    various data structures contained in the mdd file.

	If dbmchk detects any inconsistencies in the mdd index it will report
    them and rebuild it. If dbmchk detects any inconsistencies in the data
    structures within the mdd data file it will report them and, in most cases,
    patch the data file to recover from them.  When such patching is performed,
    effected mdd data are often deleted. All such deleted points are listed to
    either "duplicatepoints", "loosepoints", or "trashpoints" data files in
    dbm input format. After dbmchk completion they can be restored to the mdd
    by selecting these as dbm input. When doing so one should remember to:

	use the dbm 'r' option to tell dbm to attempt to assign the same
	address offsets to free successor points as they had previously.

	in the ods case, it is likely to be appropriate to remove the add
	records from the mdd_merge_log so that the automatic IC update
	process will not treat them as new points.

</Text>
</Topic>
<Topic>dbm<Text>
4.	Data Base Manager

    The Data Base Manager (DBM) program is used to maintain the data dictionary
files, the module specification files, and the component definition databases at
the user and ODS system levels.

    Command files (files containing command and data directives) may be used
instead of on-line data entry. (See /select command directive.)

    The dbm program may also be attached to a SimExec executive task. In that
mode, all commands described in Chapter 10 (Interactive Symbolic Debugger) are
also available.

    The dbm program may be invoked in a remote mode to act against a SimExec
database residing on another machine. A few commands are disabled in this mode.

    Most functions of dbm are also available through a point and click interface
by using the jdb program (see Chapter 11).

In This Chapter

	?	Invoking DBM
	?	Command and Data Directives
	?	Wildcard Characters
	?	General Notes on DBM Commands

@@invoking
4.1	Invoking DBM

    DBM can be invoked from the Windows command console prompt by entering a
command with the following syntax:

Syntax:

	dbm [-s&lt;options&gt;] &lt;path name 1[&gt; ... &lt;path name n&gt;] [&lt;redirection&gt;]
    or

	dbm [-&lt;options&gt;] [&lt;command&gt; ... &lt;command&gt;] [&lt;redirection&gt;]

Where:

    &lt;options&gt;

	    Specifies options to be passed to DBM. Valid options include:

	c	The 'c' option relaxes some dbm default rules.
		When option 'c' is in effect:
			- The Master Data Dictionary and Module Specification
			Files database files or tables will be automatically
			created, if they do not already exist. (Default is to
			inquire whether creation of a new UDS was intended
			before creating it).
			- Maximum compatibility with old data files is
			supported. DBM will accept null descriptions and
			system ids and accept "/CMD" as an alternate spelling
			for the /MDD command.
			- MDD modification commands which result in no actual
			change to a point definition are ignored such that they
			will no result in extraction of a point to the UDS nor
			an update of the point revision time mark.

	O	The various DBM MDD modification commands which otherwise
		default to the UDS level default instead to ODS. The ODS
		privilege is required on DBM entry. The commands affected are
		ADD, DUMP, MDD, MOD, MOVE, PACK, PROMOTE, ROOT, and TRIM.

	q	quiet mode - suppresses the point modified message
	Q	quiet mode - suppresses the point added message

	r	Instructs DBM to abide by the offsets specified for free points.
		This option applies when adding, modifying, extracting, or
		merging mdd points.

	s	Invokes DBM in the batch mode, wherein all additional command
		line arguments are expected to supply file pathnames to dbm
		command files each of which will be processed in turn.

	x	DBM will recognize the option -x &lt;executive&gt; name to attach to
		an executive on entry. When successful this will also implicitly
		invoke selection of the file identified by environment variable
		"ISD_INIT".

	&lt;pathname&gt;
		Provides the pathnames of the command file(s) to be processed.

		NOTE:  This field is only applicable in conjunction with option
			s, discussed above.

	&lt;redirection&gt;

		DBM is compatible with standard input/output redirection
	features of the command processor such as "|" to pipe output to another
	program and "&lt;" or "&gt;" to read commands from or send output to a file.
	If redirection is not specified, listed output will be sent to the
	command window.

Examples:

dbm -c

The dbm program will be entered in interactive console mode. If the current
uds system has not been initialized then it will be created and initialized
without prompting. Default rule enforcement is relaxed in several dbm
commands.

dbm -s addsome modsome

The Data Base Manager will execute the DBM commands found in the file
addsome and modsome. After execution of the commands, dbm will exit
and the user will return to  the Windows cmd prompt.

dbm -s addsome modsome &gt;dbmtrace

The Data Base Manager will execute the DBM commands found in the file
addsome and modsome. All messages from DBM that would normally
appear on the user's screen will be placed in the current directory in a file
named dbmtrace after execution of the commands.

Alternatively, "one-shot" DBM commands can be executed as follows:

Syntax:

dbm &lt;command1&gt; [... &lt;commandn&gt;]

Where:

&lt;command&gt;

Is any valid DBM command. These will usually need to be enclosed in
quotes because most useful commands require more than 1 word to specify
(either single or double quote marks are accepted).
Examples:

dbm "lmdd, yc*,i"

DBM will provide a list in input format of all symbols that start with yc.
dbm 'open, ycout' 'lmdd, yc*,i'

DBM will first open a file in the current directory with the name ycout.
Then, DBM will generate a list in input format of all symbols that start with
yc. This list will be placed in the file ycout.
dbm &lt; myfile

equivalent to dbm -s myfile
dbm -s * &gt; listfile

to collect all dbm messages

    DBM will behave appropriately when either standard input or output are
redirected to a file or pipe. When input is redirected dbm recognizes that the
input is not interactive and responds accordingly where appropriate (prompts
are suppressed, batch defaults applied). When stdout is redirected the
"more" emulation normally provided on list data is suppressed and line buffering
is allowed.

    Default settings for dbm option flags may be preset by providing a value
for the S3_FLAGS environment variable. For example: If the S3_ENV file contains
"Set DBM_FLAGS=O" then the dbm mdd modification commands will default to the ODS
level, effectively nullifying the ODS/UDS logic for data points.


@@remote
4.1.1	Invoking DBM in Remote Mode

Syntax:

dbm r &lt;host&gt; &lt;service&gt; &lt;uds&gt; [&lt;executive&gt;]

Where:

&lt;host&gt;
	is host name or ip address of a computer available on the network.

&lt;service&gt;

	is the service name or service port number of an s3serv listening on
	the designated host

&lt;uds&gt;

	is the name (sub-directory name to S3_HOME) of a user development
	system available to the s3serv service identified by &lt;host&gt; and
	&lt;service&gt;.

&lt;executive&gt;

	(optional) is the name of an executive running in the remote host
	environment.

   Will attach dbm to a SimExec development system on another computer through
the s3serv service. When activated in this mode all commands (as applicable)
will act against the software database on the remote host. Most DBM commands
will act essentially the same in remote mode as in local mode. The following
notes and exceptions apply.

CDF	Most forms of the CDF command are not accepted in remote
	connection mode.

CDS	The CDS command will act in the batch or select file mode, rather than
	interactive, when selected against a remote host.

COMPILE (or equivalents, including LMSF options)
	Will perform compilation on the host system.

DUMP &lt;path&gt; &lt;level&gt;
	The dump command (to produce a series of files in dbm input format
	of all mdd and msf entries for a system) will produce files on the host
	system.

LCDF &lt;file&gt; and &lt;print&gt; option

LCDS &lt;file&gt; and &lt;print&gt; option

LMSF &lt;file&gt; and &lt;print&gt; option

	Will create files on the host system

LMSF form=4
	The interactive form of LMSF (selected by form=4) may not be
	performed against a remote host.

MACRO
	The MACRO command is not accepted in remote connection mode.

OPEN
PRINT
	The OPEN and PRINT commands will open a file (to receive listed
	output) on the client system.
SELECT

	The SELECT command, by default, will open a file (to read dbm
	command input) on the client system.

SHUFFLE
	Input datafile required by the SHUFFLE command will be opened on
	the host system.

START
	The START command will activate a task on the host system.





@@general
4.2	General Notes on DBM Command and Data Directives

4.2.1	Command and Data Directives

    Within DBM, there are two levels of directives. Command directives specify
an action to be taken, and may begin with a forward slash (/). Data directives
supply additional information for a previous command directive, and must begin
with a period (.). There is no need to include the leading slash character
shown for dbm commands when using dbm interactively. Its use is recommended
within command files, because, after encountering errors within batch input,
dbm will skip to the next leading slash to resume processing

4.2.2	Wildcard Characters

    The DBM list commands (/lmdd and /lmsf) and various other commands will
accept wildcard characters for point names. Wildcard characters include the
question mark (?), which represents any single character, and the asterisk (*),
representing a variable length sequence of characters.

Examples:

/lmdd yc*,i


4.2.3 Commenting

    Most DBM commands will accept an end of line comment starting with an
exclamation point. A notable exception is the /INCLude command where the
exclamation point is suggested as start of description. End of line comments
beginning with the single-back-quote character are also accepted.
    This feature may be useful when documentation is desired within command
files.

    Most commands will accept either comma (,) or space as a separators
between the command and argument as well as betweens successive command
arguments.

4.2.4 Environment variable string substitution

All dbm (as well as ISD and LLD) command input will be scanned for terms of the
form %&lt;symbol&gt;% (like Windows cmd processing) or $(&lt;symbol&gt;) (like many UNIX
shells' processing) to substitute environmental variable symbol definition
values. When the syntax is matched but the environment variable is not defined
the command input is left as is.

    When dbm is attached to a remote host this substitution will be performed
against the local (client) environment in all cases and again against the host
in only some cases (somewhat arbitrarily per implementation details).

4.2.5 Multiple command Lines

    Multiple DBM commands may be entered on a single one when separated by a
semicolon (";").

4.2.6 ISD Commands in DBM

    All commands defined for the SimExec ISD program are available in
DBM.  Most of these commands require connection to a SimExec executive task to
succeed; this can be accomplished on dbm activation with the "-x" or "r"
options, or during a session with the ATTACH command. When dbm is not connected
to an executive, ISD commands will either generate an error message or fail
silently.

    Command syntax collisions between the previous DBM and ISD programs are
resolved as follows.

DUMP
	An explicit level argument is required for the dbm DUMP command

MOD
	The MOD command will be interpreted as short for the MODULE command
	when dbm is attached to an executive, and as short for the MODIFY
	command otherwise.

OPTION
	The OPTION command from isd (which passes option selections to the
	attached executive) is differentiated from the dbm OPTION command
	(which sets dbm related option selections) by requiring that the minus
	sign preceding 1st argument always be included for the executive
	option selections.

PAGE &lt;integer&gt;
	The PAGE command with integer argument will be interpreted
	to select an ISD monitor layout save when an executive is
	attached, to set the "more" emulation page size otherwise.




@@summary
4.3	DBM Command Summary

    The commands available under DBM are summarized below and discussed in the
following sections.

ADD	&lt;point name&gt;[,{ U | O }]
	&lt;name&gt;	[&lt;quote&gt;] {alphnumeric | :_ }+ [&lt;quote&gt;]
	{ U | O }	{ U | O }
.desc	&lt; 1 line brief description and up to 5 lines full description&gt;
.unit	&lt; 8 char unit name&gt;
.sys	&lt; 2-3 char alphanumeric system id&gt;
.type	{ C*8 | C*16 | I*1 | I*2 | I*4 | L*1 | L*2 | L*4 | R*4 | R*8}
.form	{ E12.6 etc}
.value	[&lt;value&gt;,[{ C | V | P | T}]]
.dim	[(&lt;expr&gt;[,&lt;expr]*)]
.pred	[&lt;predecessor symbol&gt;][,{B,&lt;offset&gt; | F[,&lt;offset&gt;]}]
.root	[ 0 - 3]
	where - 0 - normal,
		1 - not eligible for merge modify,
		2 - unconditionally ineligible for merge,
		3 - delete ods structure on merge modify
@&lt;field name&gt;(&lt;value&gt;) |
@(field name&gt; -  for context edit of long description.


ADD TYPE &lt;type name&gt; [{ U | O }] [F]	or
MOD TYPE &lt;type name&gt; [{ U | O }] [F]
&lt;member definitions&gt;
					to add or modify structured type
					definition

ATTACH &lt;executive&gt;			attach to executive
CDF	&lt;generic name&gt;				re-expand specifics
CDF	&lt;generic name&gt;[,&lt;path&gt;],{ U | O }[,N]	new or revised generic
CDF	&lt;generic name&gt;,{ U | O },DELete		delete generic component
	&lt;path&gt;	[ { FILE= | PATH= }][&lt;quote&gt;] {alphanumeric | :_.~/ }+ [&lt;quote&gt;]

CDS	&lt;specific name&gt;[,&lt;generic name&gt;][,N][+]	specific component expansion
[%name value]*				iff in command file

CHEck	CDS,{ U | O }[,Full]
CHEck	CONSIstent[,{ U | O }]		check for modified source files
CHEck	{ [MDD,] | MSF, } X,&lt;levels&gt;	check cross reference data consistency

CLOse					close alternate output file (OPEN)

COMPIle	&lt;module name list&gt;		compile modules by list

CONST	[{E H I K O R U V}]	initialize default global image files

DELete	&lt;mdd select (see Lmdd)&gt;		delete mdd point(s)
DELete	TYPE &lt;typename&gt; [&lt;level&gt;] [F]	delete type definition(s)

DETach				detach from executive

DFTGLOB [{U O}]		initialize default global images, full process

DIFf	[CDS,]&lt;name&gt;[,{ U | O }]		print latest module delta
DIFf	[CDS,]&lt;name&gt;,&lt;revision&gt;[,&lt;revision&gt;]	print ods module specific delta

DUMp	&lt;path&gt; { U | O }			dump full mdd information
	&lt;path&gt;	[ { FILE= | PATH= }][&lt;quote&gt;] {alphanumeric | :_.~/ }+ [&lt;quote&gt;]

ENCRYPT &lt;from path&gt; [&lt;to path&gt;] &lt;key&gt;	encrypt file
DECRYPT &lt;from path&gt; [&lt;to path&gt;] &lt;key&gt;	decrypt file

EXIT

EXTRact &lt;name&gt;				extract point or module from ods
EXTRact &lt;name&gt;,M			extract module from ods
EXTRact &lt;name&gt;,{FULl | SYMbols | CALl}	recursive extraction
EXTRact &lt;name&gt;, &lt;revision&gt;		extract specific module revision
EXTRact TYPE &lt;name&gt; [F]		extract structured type definition


Help					view this

IC CLEAN &lt;icset&gt;			clean ic files
IC DUMP &lt;icset&gt;			dump ic files (to ascii set files)
IC PATCH &lt;icset&gt; &lt;id range&gt; = &lt;value list&gt; define ic patch
IC PATCH Apply &lt;icset&gt;			apply ic patches
IC SET, [B] &lt;ic level&gt; &lt;icno&gt; &lt;variable&gt; = &lt;value&gt;
IC SHUFFLE &lt;icset&gt;			apply ic updates (requires CIC=1)
IC STACK &lt;icset&gt; [D | L]		stack ic files (many to 1 file format)
IC UNSTACK &lt;icset&gt; [D | L]		stack ic files (1 to many file format)

INCLude &lt;name&gt;[,&lt;name&gt;],&lt;module type&gt;,&lt;ftype&gt;,&lt;system&gt;[,&lt;desc&gt;]
	&lt;ftype&gt; {  | I*1 | I*2 | I*4 | R*4 | R*8 | C*8 | C*D G*0 C*16} (*opt)
	&lt;module type&gt; { &lt;integer (1-10)&gt;  | EXEC | CONTRol | SEGMENT | COMPonent
	      |	SUBROUTINE | FUNCTION | BLocKData | LIBRARY | INTRINsic | TEXT }


INIt	{sccs | ss | rcs}[,&lt;name&gt;]	initialize SCCS for ods modules

LCDf	[&lt;which&gt;,][&lt;form&gt;,][&lt;levels&gt;] (arbitrary order)
	&lt;which&gt;	{ &lt;name&gt; | &lt;wild&gt; }
	&lt;form&gt;  { | F | Long | X }
	&lt;levels&gt; { U | O | UO }
					list generic component information

LCDS	[&lt;which&gt;,][&lt;form&gt;,][&lt;levels&gt;] (arbitrary order)
	&lt;which&gt;	{ &lt;specific name&gt; | &lt;generic name&gt; | &lt;wild&gt; }
	&lt;form&gt;  { | F | Long | H | DIFf }
	&lt;levels&gt; { U | O | UO }
					list specific component information
LICF	&lt;lmdd&gt;

LIST TYPE &lt;name&gt; (F I O U X)*		list structured type definitions

Lmdd	[&lt;lmdd arguments&gt;]*		list mdd information

where:
    &lt;lmdd arguments&gt;	{ &lt;mdd select&gt; | &lt;lmdd order&gt; | &lt;lmdd_form&gt; |
	&lt;lmdd form modifiers&gt; } *

    &lt;mdd select&gt;	{ &lt;name&gt; | &lt;wild&gt; | &lt;globalid&gt; | &lt;field&gt; | &lt;levels&gt; |
		&lt;mddtype&gt; | NR | XO | NOSTORE | LEAF | DATA | SYS=&lt;system&gt; |
		SUCC | TREE | DATE&lt;yymmddhh | DATE&gt;yymmddhh } *
    &lt;mddtype&gt;		{ PARam | TEMP | MACro | V | C | P | T | M }
    &lt;field&gt;		[-]@&lt;field name&gt;[{ (&lt;field value&gt;) | =&lt;field value&gt; } ]
    &lt;field value&gt;	{ &lt;word&gt; | &lt;quote&gt; &lt;phrase&gt; &lt;quote&gt; }
    &lt;levels&gt;		{ U | O | UO | U+O | U&amp;O | U-O }

    &lt;lmdd order&gt;	{ ALPHA | REL | FORWARD | REVERSE }
    &lt;lmdd form&gt;		{ S | L | F | I | W | LONG | FULl | SQL }
    &lt;lmdd form modifiers&gt;  { H | SEQU[+*E] | X | ICNZ | MDD | MOD | ADD | MAP |
		&lt;icset&gt; | DELete }
    &lt;icset&gt;		{ UIC | OIC | IC | IC&lt;integer&gt; | &lt;integer&gt; | B |
		DELta = &lt;deadband&gt;



LMSf	&lt;lmsf arguments&gt;		list msf information
where:
    &lt;lmsf arguments&gt;	{ &lt;lmsf select&gt; | &lt;lmsf form&gt; } *
    &lt;lmsf select&gt;	{ &lt;levels&gt; | &lt;lmsf names&gt; | &lt;lmsf types&gt; | SYS=&lt;system&gt;}
    &lt;lmsf types&gt;	&lt;module type&gt; | CONSIstent | INConsistent} *
    &lt;lmsf names&gt;	{ &lt;name&gt; | &lt;long wild&gt; | ({&lt;short&gt; | &lt;short wild&gt;}) }
    &lt;lmsf form&gt;		{ [FORM=]&lt;integer&gt; | H | DIFf | LONG | X | INCLude |
		FULl | JCL | MOD | SEQU | F | I | L | S | COMPILE | SUBMIT }
    &lt;module type&gt;	{ CONTRol | SEGMENT | COMPonent | SUBROUTINE |
		FUNCTION | BLocKData | LIBRARY | INTRINsic | TEXT }

MACro	&lt;name&gt;[,{ U | O }]		define or modify mdd macro definition
&lt;applicable mdd information fields : .SYS .DESC .UNIT &gt;

MAP	&lt;name&gt;[,{ U | O }]		print successor address usage map

MARk	&lt;module name list&gt;		mark modules inconsistent

MCDF	&lt;name&gt;				merge generic component definition

MDD	&lt;name&gt;[,{ U | O }]		add or modify
&lt;mdd information fields per ADD&gt;

MERge TYPE &lt;name&gt; [F]			merge structured type definition

MMSf	&lt;lmsf&gt;				merge module(s)

MODify	&lt;name&gt;[,{ U | O }][,H]		modify mdd information
&lt;mdd information fields per ADD&gt;
MODify	[msf] &lt;name&gt;			modify msf information
&lt;msf information fields&gt;

MOVe	&lt;name&gt;[,{&lt;name&gt; | &lt;global&gt;}[{ + | - } &lt;int&gt;[W|H|B|D]][,{ U | O }]
					re arrange mdd point order

ODEL	&lt;name&gt;				delete mdd point(s) from ods

OMOD	&lt;name&gt;[,H]			restricted ods mdd point modification
&lt;applicable mdd information (.DESC .UNIT .SYS .FORM .VALUE .ROOT @) fields&gt;

OPEn	&lt;path&gt;				open list outpu file
	&lt;path&gt;	[ { FILE= | PATH= }][&lt;quote&gt;] {alphanumeric | :_.~/ }+ [&lt;quote&gt;]

OPTion	MMSF [NO] { CHECKOUT COMMENT | DIFf | SCCS | SS | RCS}
OPTion	{ RESTRICT | UNRESTRICT } DFGLOB
OPTion	{ O | U | C | I | L | Qq | Rr | V}
					select ods configuration options

PACk	&lt;name&gt;[,{ U | O }]		pack successors of mdd point

MORe(PAGe)	[&lt;integer&gt;]		set pagesize for more emulation

PROmote &lt;name&gt;,&lt;ptype&gt;,&lt;new precision&gt;[,{ U | O }] change mdd data types enmass

REAd	&lt;path&gt;				process command file
	&lt;path&gt;	[ { FILE= | PATH= }][&lt;quote&gt;] {alphanumeric | :_.~/ }+ [&lt;quote&gt;]

REMOve	{ &lt;name&gt; | O,&lt;name&gt;) } *	remove module(s)

REName MDD &lt;old name&gt; &lt;new name&gt;	rename dbm point
REName MOD &lt;old name&gt; &lt;new name&gt;	rename module

ROOT	&lt;global&gt;[,{ U | O }]		define mdd global root point

SELect	[H] &lt;path&gt;			process command file
	&lt;path&gt;	[ { FILE= | PATH= }][&lt;quote&gt;] {alphanumeric | :_.~/ }+ [&lt;quote&gt;]

SETENV &lt;variable&gt;=&lt;value&gt;		add to local environmental settings

ScHUFfle { &lt;icset&gt; | &lt;path&gt; | &lt;field&gt; | { U | O } | &lt;global&gt; | &lt;mddtype&gt; |
	LEAF | DATA | SYS=&lt;system&gt; | &lt;wild&gt; } *
	&lt;path&gt;	[ { FILE= | PATH= }][&lt;quote&gt;] {alphanumeric | :_.~/ }+ [&lt;quote&gt;]
					perform ic maintenance process (obsolete)

SMRG	&lt;mdd select (see Lmdd)&gt;		merge mdd point(s)

START	&lt;executive&gt;			activate task

SUBMIT	&lt;module name list&gt;		compile module(s)

TRIm	&lt;name&gt;[,{ U | O }]		delete mdd point successors

USEr	&lt;name&gt;				reestablish uds directory



@@

4.4 DBM COMMANDS

@@default
default command

	A symbolic name or wild card name specification may be entered at the
dbm command prompt with no leading command keyword. When no executive attachment
is in effect dbm will interpret this as a default list command. It will perform
the LMDD (list master data dictionary) and LMSF (list module specification file)
operations against the name or wild card entered.



@@add,modify,mdd

/ADD - Add a Point to the Data Dictionary

	The /ADD command adds a new point to the Master Data Dictionary (MDD).
	The /MODify and /Mdd and /OMOD commands are also descibed in this
	section as they are closely related.

	/MODify - Modify an existing Data Dictionary Point
	/MDD - Add or modify MDD point

   Syntax:
	/ADD &lt;ptid&gt; [&lt;level&gt;]
	/MODify &lt;ptid&gt; [&lt;level&gt;]
	/MDD &lt;ptid&gt; [&lt;level&gt;]
	/OMOD &lt;ptid&gt;

   Where:

	&lt;ptid&gt;	   Is the symbol name for the point to be added. Symbol names
		may be up to 31 characters long. They must begin with an
		alphanumeric character, may also contain the special characters
		colon (":") and underscore ("_").  Symbols starting with a digit
		must contain sufficient alphabetic characters to avoid
		confusion with literal values.
		   The symbol name will need to be enclosed in quotes in the
		fairly unusual case of it matching a keyword recognized by
		dbm (such as i1, i4, r4, const).
		   Global root points must be initially defined using the
		ROOT command. They may be modified with Modify. Non-root
		point symbol names may not begin with "global".

	&lt;level&gt;	   Specifies the development system level to add the point at.
		Level specifiers are as follows:

		u    Default. Add to user level.

		o    Add to ODS level directly. Available to privileged users
		     only.

    For each point added, additional information needs to be supplied.
In the interactive mode, DBM will prompt for the additional information. When
using batch  input the additional fields must be provided on data directive lines
each begining with a period followed by a field name (as detailed
below).

  The Add, Modify, Mdd, and OMOD commands accept the same set of data directives.
The Add command will not accept a symbol name which is already defined in the
MDD.

   The Modify command will not accept a symbol name which is not already
defined in the MDD. When an MDD point defined in the ODS is modified at the
UDS level, a copy is automatically extracted to the UDS.

   The Modify command is also used to modify an MSF (Module Specification File)
entry. When the selected symbol name is not defined in the MDD but is defined
in the MSF then the MSF modification routine will be invoked. This may also
be explicitly indicated by the command syntax "/MODIFY &lt;name&gt;,M".

   The Modify command may also apply to the type data base. This is explicitly
different syntax "/MODIFY TYPE &lt;name&gt; ...".

   The short form, "MOD", of the command can be confused with the ISD MODULE
command. When attached to an executive the MOD command is short for "Module",
when not, it is short for "Modify".

   The MDD command will accept either a new or an existing symbol name, and
perform exactly as ADD when a new name is given, as Modify when an existing
symbol name is selected.

   The OMOD command modifies an existing mdd point directly at the ODS level but
is limited to the descriptive and value fields (the other data field directives
will be ignored if present).


    These data directives are used by the /ADD, /MOD, /MDD, and /OMOD commands.

.desc		Provides the brief and full descriptions of the point.

.unit		Provides the units of measure for the point.

.sys		Provides the system ID of the point.

.type		Declares the type and precision of the point.

.form		Provides the default isd display format for the point.

.dim		Declares the dimension (or size) of the point if it is an array.

.valu		Provides an initial default value for the point and defines
		the point as variable, constant, or parameter.

.pred		Specifies how the point is located in a global data partitions.

.root		Merge eligibility options (This is not usually used. DBM will
		not prompt for it.)

.desc

   The .desc directive is required. It is used to enter the brief and full
descriptions of a point. A brief description is to be provided on the .desc
line. Up to five lines of additional description may follow.  The first
character on each line of the full description may not be period (.) or
slash (/) to avoid confusion with dbm command directives. Leading blanks on
each line are ignored.
   In interactive mode, entry of a blank full description line terminates the
description section.

The long description may also contain keyword defined information under the
convention :
	@&lt;fieldname&gt;(&lt;value&gt;)
		where &lt;fieldname&gt; corresponds to a field that auxiliary
		programs may search.
Such fields may be edited and deleted via syntax

	@fieldname(&lt;value&gt;)
				to add or replace

	@fieldname-
				to delete

.unit
	   The unit field is to document the engineering units used for a data
	item. The unit field is limited to 8 characters.

.sys
	   The sys field is to document the system id to which the point
	belongs. The system id field is limited to 4 alphanumeric characters.
	It is normally required.

.type

	Syntax:

	.type &lt;type and precision&gt;

	    The .type directive is required to define the type and precision of
	the data item. The type may be either a simple type or a defined type.
	Simple types are specified with a one letter code followed by an
	integer precision specifier. The simple type codes are as follows:

	integer	- i*1, i*2, i*4, i*8
	logical - l*1, l*2, l*4, l*8
	real - r*4, r*8
	complex - c*8, c*16
	character - H*&lt;precision&gt;

	   Defined or structured types must first be defined in the type data
	base (see Add Type). To define a point based on a structured type place
	the type name, as defined in the type data base, on the .type directive.
	   The 64 bit integer types (I*8, L*8) are not supported with the (old)
	Visual C 6.0, Dec Fortran compiler environment.

.form

The .form directive is optional. It may be used to provide a default output
display format for isd to display the symbol value.

.form &lt;format&gt;

    Where:

	&lt;format&gt;	Is of the form I&lt;w&gt;, F&lt;w&gt;.&lt;d&gt;, E&lt;w&gt;.&lt;e&gt;, G&lt;w&gt;.&lt;d&gt;
			as defined in fortran format statements. The
			format codes must be appropriate to the data type,
			appropriate defaults are provided.


.dim

The .dim directive is optional. It is used to define array dimensionality.

NOTE:   When a symbol is declared as an array, its initial and constant values
	are specified in a block data file (using FORTRAN-like data statements)
	instead of through the .valu directive).

.dim
.dim 0

	   The .dim directive absent, present with no content, or with a
	value 0  defines a scalar point. In the "/MODIFY" case absent or
	empty will leave the existing definition. Therefore to modify a point
	from array to scalar requires the syntax ".dim 0"

.dim &lt;n&gt;

	   Where &lt;n&gt; is a non-zero integer defines a single dimensioned array
	starting with element 1.

.dim (&lt;n1&gt;,&lt;n2&gt;,...,&lt;n7&gt;)

	   Arrays with multiple dimensions, with explicit ranges (i.e. starting
	at other than 1), and ranges defined by arithmetic expressions may
	also be defined. In these cases the dimension specifiers must be
	enclosed in parentheses.
	   There may be a maximum of 7 dimensions.
	   Dbm will also accept the FORTRAN syntax

		&lt;start&gt;:&lt;end&gt;

	to specify arrays with index ranges starting at values other than 1.
	When the range syntax is used the maximum number of dimensions is
	reduced to 3.
	    Dimensionality may be specified by an arithmetic expression using
	integer literals, dbm parameter values and arithmetic operations.

.valu
	   The .valu directive is used to specify the initial value for a
	variable, or constant, and also defines a variable, constant, or
	parameter type code.

	Syntax:

	.valu &lt;value&gt;[,&lt;vcopt&gt;]

	Where:

	&lt;value&gt;		Is a literal value for the point.
	&lt;vcopt&gt;		Is a point type code as follows:

		C	- constant
		V	- variable
		P	- parameter
		M	- macro


	   When the value data directive is absent the default value of zero
	(or FALSE) is provided. Values may be defined as literal values with
	natural syntax or with an arithmetic expression containing literal and
	parameter values and typical fortran or c like operators.

	   Only a single value may be entered and only 8 bytes of precision
	is maintained. For arrays, structured variables or for double complex,
	or character data requiring multiple values or greater precision the
	initial values must be defined in a block data file.

	   The vcopt codes of C and V apply to data maintained in global
	partitions. A predecessor must therefore be defined for such points.
	The vcopt codes C and V do not need to be explicitly provided as they
	will be inherited from the predecessor.

	   The vcopt code P defines a parameter point. Parameter points do not
	reside in global, but are defined (by fscan) with parameter
	declarations in the compiler source files where they are used.

	   The vcopt code M defines a macro file. Macros require a source file
	supplied by the user in the "macro" subdirectory. They are to contain
	code fragments, with macro expansion operations as defined by the
	SimExec Component Development System to be expanded in line, by fscan,
	in response to CALLM statements. The .type, .form, .dim, and .pred data
	directives are not applicable to macro points.


.pred

The .pred directive is required for global data points. It defines where and
how to locate the point.

	Syntax:

	.pred &lt;pptid&gt;[,&lt;category&gt;][,&lt;offset&gt;]
	or
	.pred &lt;pptid&gt;(&lt;array offset)[,&lt;category&gt;]

Where:

	&lt;pptid&gt;

		is the name of the predecessor point.

	&lt;category&gt;

		is a one letter selection specifying how to allocate space
		for the point.

		F	- free - dbm is free to choose offset for the point
		B	- bound - the point is to be fixed at the specified
			offset
		A	- Anonymous - the point is to be placed at the specified
			offset but is not to reserve space.

	&lt;offset&gt;

		an integer offset, relative to to start of the predecessor
		point. A suffix of B, H, W, or D may be used to specify
		that the offset is in bytes (8 bits), halfwords (16 bits),
		words (32 bit), or double-words (64 bit) respectively.



	    When adding a free successor, DBM automatically allocates
	address space in the specified predecessor large enough for the point
	or as specified by the (optional) offset.
	    If the dbm "-r" option is not in effect an offset entry for a free
	successor is ignored. When the "-r" option is in effect, an offset is
	specified and the specified location is occupied or overlaps other
	successors of the specified predecessor, the new point will be located
	by DBM as if no offset were specified.
	    When adding a bound successor, the operation will fail if other
	free or bound successors are currently located at the specified
	location.
	    When allocating address space, the natural boundary alignment
	based on the precision of the point is always automatically
	observed.
	    The anonymous successor category allows adding points which do not
	participate in the unique successor address protocol.  It is present to
	simplify the case where several equivalent names are desired for the
	same data location but no natural ordering applies to define a
	predecessor - successor ordering.

	   The second form of the .pred data -

	&lt;pptid&gt;(&lt;array offset)[,&lt;category&gt;]

	   allows specification of the position of a point in a manner
	resembling how one would do so on a Fortran equivalence statement.
	That is the start location of the new point will match the offset
	of the array element &lt;pptid&gt;( index ). When this form is used then
	the default for successor category is anonymous (A), rather than
	free (F) as in the other form.

.root &lt;integer&gt;

	   This optional data field to the add, mdd, mod, and omod commands sets
	an integer option flag to control subsequent merge requests on the
	point.
	   A value of 2 marks a point unconditionally ineligible for merge
	(this is used when defining an interface point required for testing a
	system but which is expected to be defined by another system).
	   A value of 1 marks a point as being ineligible for merge
	modification, meaning it may be merged only if it does not already
	exist at the ODS level (use when a point may or may not be defined by
	another system, if it is the other definition is preferred).
	   A value of 3 on a UDS point specifies that when the point is merged
	to the ODS any existing ODS point definition and implicitly all its
	successors are first deleted.  The new point is added and implicitly
	all its successors (this may be convenient or necessary when a
	structured group of points is rearranged).


Examples:

*
/add fwpressure21a
.desc 01010 Pressure in htr. 21A
.form f5.3
.sys fw
.type r,4
.pred global01

/add iadegrees
.desc 05090 Temp. of compressor bearing
.sys ia
.type r,8
.unit deg c
.value 50.5
.pred globalia

The symbol iadegrees, a REAL number with eight bytes of storage and an initial
value of 50.5 will be added to the Master Data Dictionary in globalia.

/add ioarray
.desc 03040 Status light box Panel 12.
@tag(1234)
.dim (3,29)
.form l1
.sys an
.type l,1
.pred globallo

The symbol ioarray, dimensioned as being a 3 by 29 array of LOGICAL values with
1 byte of storage for each element, will be placed in the Master Data Dictionary
in globallo.



@@addtype,tdb
/ADD TYPE command

	    The Add Type command will add or modify a user defined structured
	type definition to the SimExec type database (TDB).

	    Structured Type definitions allow users to group multiple data items
	together into a single symbol, with appropriate names for member
	elements.
	    The Type database is separate for UDS versus ODS levels.  That is
	for any UDS mdd points of structured type where the type
	definition was found at the ODS the type definition will be copied
	(extracted) to the UDS type database (TDB). In order to merge a point
	of structured type the applicable type definition must already be
	present in the ods, if it differs from the UDS definition then the
	point will change definition accordingly on the merge.

dbm&gt;/ADD TYPE &lt;typename&gt; [&lt;level&gt;] [F]
dbm&gt;/MODify  TYPE &lt;typename&gt; [&lt;level&gt;] [F]

	Will add or modify a type definition at the given level. (Add and Mod on
	type definitions are treated as synonymous, that is either will add a
	new definition or modify an existing definition.)

	When invoked interactively dbm will activate up notepad to edit, with
	either an empty skeleton, or the existing type definition. After
	filling the new or modifying the type definition and performing save
	and exit dbm will read the resulting file and perform appropriate
	updates to its type definition data base.

	When in batch mode the type definition lines are to immediately follow
	on input.


	  Comment lines within the type definition may begin with either a
	pound sign ("#") or asterisk ("*"). Each non-comment line is to define
	a type member. Each member has a type, name, dimensionality, units,
	and description.  These lines follow the following sytax:

	&lt;space&gt; &lt;type&gt; &lt;name&gt;[(&lt;dimensions&gt;)] &lt;units&gt; &lt;description&gt;

	Where:

	&lt;space&gt;	    Each line defining a member must begin with a space
		or tab character.

	&lt;type&gt;	    Each members may be simple type (i*1...i*8, l*1...l*4, r*4,
		r*8, C*8 C*16, H*##) or may be an instance of a nested defined
		type. Pointer and related types are not supported (as fixed
		memory definitions are required for simple and efficient
		snapshot, reset, and sharing).

	&lt;name&gt;  Type member names are limited to 16 characters, each a letter,
		digit or underscore. Names must begin with an alphabetic
		character.  Member name are not allowed to duplicate by case
		insensitive comparison.

	&lt;units&gt;
		   A field to define the applicable units of measure.

	&lt;description&gt;	A brief description.

	  If a type definition undergoing modification is referenced by other
	type definitions then by default dbm will refuse to perform the
	modification; The operation will proceed, and recursively modify
	appropriate outer types when the "F" option is specified.

	  If a modified type is referenced by existing MDD points, dbm will
	automatically modify them (no operation as not needed if only
	descriptive information is changed). If the size of the resulting
	type changes then the referencing points may receive new offsets.
	Should that modification fail because dbm is unable to allocate the
	appropriate the points will be deleted.  Modules which reference MDD
	points will be marked inconsistent as appropriate on modification of the
	MDD points. Modules may also use a type definition to define local or
	parameter variables. Cross reference data is not currently maintained for
	this type of usage, therefore, while it would be appropriate to mark such
	a module inconsistent on modification of the type definition, doing so
	is not implemented.




@@attach
/ATTACH - Attach Command

    The /ATTACH command will attach the DBM program to a running executive task
for simulation debug monitor, and control operations.

Syntax:

	/ATTACH &lt;executive&gt;

Where:

&lt;executive&gt;	is the task name of an active SimExec simulation executive task.

    If there already exists an executive attached to the current instance of
dbm then that connection is closed.



@@cdf
/cdf - Maintain Generic Components

    The /cdf directive adds, replaces, or deletes a generic component definition
(refer to chapter 4 for a discussion of generic components).  The text for a new
generic component definition must be supplied in a separate text file in the
generic subdirectory.  When replacing an existing generic component, the
specific components based on it are automatically re-expanded at the ODS and
in the current user's UDS.  Other users' UDS components will not be expanded
automatically.

Syntax:

	/cdf &lt;gname&gt;,[[path=]&lt;path&gt;,]&lt;level&gt;[,&lt;option&gt;]

Where:


&lt;gname&gt;
	Is the generic component name.  If this field is specified without
	also specifying a &lt;path&gt; field, then the &lt;gname&gt; field is the file
	name (from the current directory) as well as the generic name.

&lt;path&gt;
	Is the name of the file containing the source of a new (or replacement)
	generic component definition.

&lt;level&gt;
	Specifies the level at which the generic component will be added,
	replaced, or deleted.  Valid level specifiers are:

	u	Add, replace, or delete the generic component at the UDS level.

	o	Add, replace, or delete the generic component at the ODS level.
		This option is available only to privileged SimExec users.

	By specifying a &lt;level&gt; field only in conjunction with the &lt;gname&gt;
	field, the user will force re-expansion of any specific components
	defined by the given generic component.  This operation is required to
	update UDS level components defined against a modified ODS generic
	component.

&lt;option&gt;

	Specifies option from the following list:

	n	Suppresses the automatic re-expansion (at user level only) of
		the specific components which have already been defined from a
		replaced generic component definition.

	del	Specifies deletion of a generic component.  A copy of the
		generic component source file will be left in the directory
		%S3_HOME%\&lt;sys&gt;\old or %S3_ODS%\old.



Re-expansion of the specific components defined from a given generic component
may need to be performed manually if the required argument changes.  If the
change does not affect the argument lists, automatic re-expansion will be
effective.  Specific components defined in the ODS will be re-expanded and
marked inconsistent when the ODS generic is replaced.

Examples:

/cdf gaov2d,o

The generic component gaov2d will be added or replaced to the ODS level,
with the source code for it found in the file gaov2d, in the
%S3_ODS%\generic subdirectory.  If this is a replacement all associated ODS
specific components will be automatically recreated and marked inconsistent.
/cdf pump2a,path=pump2agencomp,u

The generic component pump2a will be replaced at the user level, with the
source code for it found in the file pump2agencomp, in the current directory.
All associated specific components will be automatically recreated.
/cdf gaov2d,u,del

The generic component gaov2d will be deleted from the user level.  If any
specific components have been created from this generic component, they will
be re-expanded using the ODS generic.  If there is no ODS generic the delete
will fail.
/cdf movx345nm,o,del

The generic component movx345nm will be deleted from the ODS level, if no
specific components have been created from this generic component (at the
ODS level).   This means that any specific components generated from this
generic must be deleted from the database before deleting the generic
component.



@@cds

/cds - Maintain Specific Components

    The /cds directive adds or modifies a specific component definition. The
component descriptor is expanded using the appropriate generic component
definition to generate a specific component module source file.

NOTE:   The specific component must be defined in the Module Specification File
	(MSF) as a module of type component before it may be added/re-expanded
	using the CDS command.  When a specific component is modified, a copy
	of the previous source file will be left in the directory
	%S3_HOME%\&lt;sys&gt;\old or %S3_ODS%\old.

    When the /cds command is encountered in non-interactive modes, DBM defaults
to expect a full redefinition of the component arguments to follow.  An
optional plus sign argument on the /cds command, overrides that default, in
favor of an edit mode where old values are retained.  Any argument definition
lines following the cds command are accepted as amendments to the list.

    The plus (+) sign may also be selected interactively in which case selected
arguments will be accepted from the user, terminated by an empty line (that is
&lt;ENTER/RETURN&gt; for the argument).

Syntax:

	/cds &lt;sname&gt;[,&lt;gname&gt;[,n]]

Where:

&lt;sname&gt;
	The specific component name.

&lt;gname&gt;
	The corresponding generic component name.  This field is optional when
	replacing or deleting an existing specific component.

n
	Suppresses echoing of the specific component text lines to the current
	listing device as they are generated.

    When a specific component is generated or modified in the interactive mode
then a prompt, including the argument name, description, and current value is
issued for each argument defined in the associated generic component.
    If an argument is to be marked null (entered with no value), the user may
enter one of the following: 'absent', 'absence', or hit the ENTER/RETURN key.

    During re-expansion, if the user needs to change an argument value to
absent (none) enter '^' for the value.

    A select file may be used to generate or modify specific components.  The
file would consist of the /cds command directive followed by a number of data
directives.  The data directive syntax is as follows:

Syntax:

[.arg] [%&lt;argument&gt;] &lt;value&gt;

Where:

.arg
	Optional must be the first 4 characters of the line.

%&lt;argument&gt;
	Must match the appropriate argument string from the generic record. If
	not supplied, the value must be in the same order as the generic
	arguments.

&lt;value&gt;
	Is the character string you want to substitute for the argument.

    Start all command and data directives in column 1.  When creatinge a
select file for multiple components use the forward slash (/) with the command
directive.

Examples:

/cds mcchs43202,gaov9

A specific component with the name mcchs43202 will be created using the
generic component gaov9.  If this is specified in the interactive mode,
prompts will be displayed for each of the parameters in gaov9.
/cds mccsh43202

The specific component mccsh43202 will be recreated or re-expanded using
previously assigned generic.  If in the interactive mode, the current arguments
will be displayed along with prompts to change them.


@@check
/check - Verify and Correct database information

   The /check command will check or verify some specific parts of the SimExec
data base for consistency dependent on argument selections.


	/Check CDS &lt; U or O&gt;

    The Check CDS command will check the component (specific components, and
generic components) archives for missing files and for unrecorded files.


	/Check CONSIST &lt; U or O&gt;

    The Check Consist command will check for any missing source files, and for
any modules which are currently recorded as consistent, but whose source
has been modified since the most recent compilation. Such modules are marked
inconsistent.



    The check X routines will verify the consistency of the cross
reference information recorded in the SimExec database.

	/Check MDD X U

   Will verify that the lists of referencing modules in the UDS MDD accurately
reflects the lists of UDS MDD references in the UDS MSF.

	/Check MDD X O

   Will verify that the lists of referencing modules in the ODS MDD accurately
reflects the lists of ODS MDD references in the ODS MSF.

	/Check MDD X UO

   Will verify that the lists of referencing modules in the ODS MDD accurately
reflects the lists of ODS MDD references in the current UDS MSF.


	/Check MSF X U

   Will verify that the lists of referencing modules in the UDS MSF accurately
reflects the lists of UDS MSF references in the UDS MSF.

	/Check MSF X O

   Will verify that the lists of referencing modules in the ODS MSF accurately
reflects the lists of MSF references in the ODS MSF.

	/Check MSF X UO

   Will verify that the lists of referencing modules in the ODS MSF accurately
reflects the lists of ODS MSF references in the current UDS MSF.


    UDS and UO level cross-reference verifications are separate for each UDS.
    The MDD cross-reference verification process will list any MDD point names
found in the MSF cross reference, but not in the MDD to a file named
"xref_discards".
    Usage of the Check X commands may be used to return the system to
consistency when uds or ods files have been removed or restored through
external file management operations.
    The cross-reference check operations are not applicable to systems using
ODBC to maintain the software database tables in a 3rd party dbms.


	/Check MDD gaptable U
	/Check MDD gaptable O

    Will rebuild, and thereby resolve any corruption in, the table used to keep
track of free successor address space in the ODBC mdd. This command is only
applicable on systems using ODBC to store the software database tables in a 3rd
party DBMS.

@@close
/close - Close the Terminal Output File
The /close directive closes the file (via /open) that has been receiving DBM standard output.
Syntax:
/close

@@compile
/compile - Compile Selected Modules

    The /compile directive may be used to compile modules tracked by the SimExec
Module Specification file.
    Synonyms /fscan and /submit are provided for this command.

Syntax:

	/compi[le] &lt;module&gt;,&lt;module&gt;,...,&lt;module&gt;
Where:

    &lt;module&gt;	Specifies the name of the module or wild card group of modules
		to be compiled.
Examples:

/compi fw4cps,mccpfx1356

The fw4cps and mccpfx1356 modules will be compiled.
/compi mccpfx1356

The module mccpfx1356 will be compiled.

@@const
/CONST - CONST Command

    The /CONST command creates (or recreates) and initializes default global data
image files from MDD information, which will be used for initialization of
simulation executive tasks. This action is most often not performed explitly
(or )independently but rather as part of dftglob.
    Const is available as a dbm command and also as a stand alone program which
performs the same functions.

Syntax:
/CONST] &lt;options&gt;

    Const options are as follows:

	-c	create mode - create new global image files (default)

	-e	edit mode - use existing global image files, overlay data
		values for scalar points only

	-g &lt;global name&gt; - explicit partition selection. Directs const to
		regenerate image file(s) only for the partition explicitly
		named (default is to include all global paritions).

	-h	hold mode - global image files are created in the "compile"
		directory (not in the development system home directory)

	-i	install mode - global image file are moved from the "compile"
		directory to the development system home directory.

	-k	constants only - directs const to perform only on those global
		partitions defined with VCOPT value of 'C'.

	-o	ODS mode - perform the const process at the Official Development
		system level.

	-r	report - produce status report only.

	-u	UDS mod - perform the const process at the User Development
		system level (default).



@@del

/delete - Delete a Point

    The /delete directive deletes a point from the Master Data Dictionary (MDD).
If the point has successors, they will also be deleted.  To delete only the
successors of a point while retaining the selected point, use the /trim command.

    To delete only a point while retaining all its successors, the immediate
successors must first be separately moved to a new predecessor using the /modify
command.

Syntax:

	/DEL[ete] &lt;ptid&gt; [&lt;level&gt;] [&lt;other MDD selection criteria&gt;]

Where:

    &lt;ptid&gt;	Is the symbol name of the point to be deleted.  Question mark
		characters (?) and asterisk (*) wild card characters may be
		used, as well as other mdd selection criteria as defined by
		the LMDD command.

    &lt;level&gt;	Specifies the development system level of the point or points
		to be deleted.  Level specifiers are as follows:

		u - Default.  Delete from user level.
		o - Delete from ODS level directly.  Available to privileged
		users only.

    &lt;other ...&gt; The delete command will also recognized and respect most other
		MDD point selection arguments defined for the LMDD command.

Examples:

/del fwpressure21a

The symbol fwpressure21a will be deleted from the user level Master Data
Dictionary.  If it should have successors, they will also be deleted.

@@deltype,tdb
/delete type command

    The dbm "delete type" command deletes a structured type definition
(or definitions) from the SimExec type data base.

Syntax:

	dbm&gt;/DEL[ete] TYPE &lt;typename&gt; [ &lt;level&gt; ] [ F ]

Where:
	&lt;typename&gt; Is the name of a type definition in the type database,
		or a wild card specifier ( '?' - wild character, '*' -
		wild string) for multiple types.

	&lt;level&gt;	Specifies the development system level of the type definitions
		to be deleted.  Level specifiers are as follows:

		u - Default.  Delete from user level.
		o - Delete from ODS level directly.  Available to privileged
		users only.

	F	The optional flag argument "F" tells dbm to force the deletion
		of a type definition currently referenced by mdd points or by
		other type definitions.  In its absence dbm will reject
		the delete type request if any current MDD definitions are
		based on the type or any other type definitions require the
		definition as to define a member structure. When a type
		referenced type definition is deleted all mdd points and type
		definitions based on the type definition are also deleted.


@@detach
/DETACH - Detach Command

    The /DETACH command closes a connection between DBM (or ISD) and an
executive task.

@@dftglob

    /DFTGLOB - DFTGLOB Command

    The /DFTGLOB command initializes the default global data image files used
for initialization by simulation executive tasks.

Syntax:

	/DFTGLOB [&lt;level&gt;]

Where:

&lt;level&gt;		is "U" to perform at the current uds level (default)

		or "O" to operate at the Official Development System level.

    The DFTGLOB command will perform the CONST operation in hold mode. It will
then look for a d.bdindx file in the development system base directory; if
found then it will read a list of blockdata files and execute dfglob, in hold
mode, on each. If no d.bdindx file is found it will instead perform dfglob, in
hold mode, for all modules of type blockdata defined in the applicable
MSF. It will then install the new default global data image files.

    Use of the d.bdindx file is an obsolete practice. Support for it is retained
for compatibility with established practice at older simulation installations,
however it is not recommened.

    The dftglob functionality is also available in a standalone executable.

    See also: const, dfglob

@@diff

/Diff - show changes in module source

   The /diff directive will difference listing showing changes made to a module
or to a specific component.  Results are subject to data availability.  The
optional argument "CDS" requests a difference listing against the defined cds
argument list records rather than between the source files.

   Numbered ODS module version numbers are available if and only if VSS
integration with module merge has been in effect.  Delta listings for the most
recent ODS change are normally available based on obsolete copies left in the
"old" directory, and a delta between the current UDS and the ODS modules
available whenever both versions exist.

   Other diff listings are produced by submitting 2 versions of a source file
to an external program. The default program used is "diff" on unix-based systems,
FC on Windows systems. This can be replaced by specifying an alternative on
environmental variable "DIFFNAME". (Using this to replace the "FC" default on
Windows, with a unix-compatibility version of "diff" is recommended.)

Syntax:
	/diff [cds ]&lt;name&gt; [&lt;level&gt;] or

	/diff [cd]&lt;module name&gt;,&lt;version&gt;[,&lt;version&gt;]

Where:


    cds		Specifies a difference listing between cds argument list
		records rather than module source files

    &lt;path&gt;	Specifies the name of a module defined in the SimExec MSF.

    &lt;version&gt;	Specifies an ODS module revision level.

    &lt;level&gt;	Specifies either u - user level (default) or o - ODS level

Examples:

/diff MyModue [, u]

Will produce listing showing the differences between the current uds and
current ods versions of MyModule

/diff MyModue , O

Will produce a listing showing the changes introduced on the most recent
merge of module MyModule

/diff MyModue, 2,

Will produce a listing showing the changes introduced between version 2 and
the current ODS version of module MyModule

@@drop

    DROP USER - delete a user development system

	The "DROP USER" command will remove a user development system. It will
properly delete a UDS system. A UDS is not (usually) properly deleted by simply
removing the files in its directory; Doing so will leave obsolete cross
reference information in ODS data files.
    On Windows systems interactive use of the drop command will produce a
popup window requiring confirmation that the UDS is to be dropped before
it proceeds to do so.

Syntax:

	dbm&gt;/DROP USER &lt;uds name&gt;

Where:
	&lt;uds name&gt;	is the name of a user development system. This will
			be an immediate subdirectory of the S3_HOME directory.


	    The process will move source and database files for the designated
	user to the "old" subdirectory rather than fully delete the files. The
	directories "compile", "generic", "list", "lld", "obj",  ("obj_ns"),
	and "specific" are deleted as these normally contain only generated
	files. Uds initial condition files are not removed.
	    The "DROP USER" command may be used with a uds for which the uds
	directory is not present. In this case the process will remove any
	cross-reference entries refering to the non-present uds from the ods
	database files, and delete the uds name from the udslist.

@@dump
dump - Make Select Files for Database

    The /dump directive will produce a series of text files representing the
software database content in source form. These can be used to recreate the
SimExec Database (MDD, MSF, CDF, CDS) for the specified level.

Syntax:
	/dump [path=]&lt;path&gt; [&lt;level&gt;]
Where:

&lt;path&gt;	Specifies a path and prefix for the resulting files.  &lt;path&gt; may
	be enclosed in quote marks ("path", ' path ', or ` path `) or use the
	"path=" keyword.
&lt;level&gt; Specify either
		u - user level
		or
		o - ODS level MDD dump.
Examples:

/dump '/usr/xfer/db/xyz' o

Will produce a series of files beginning with xyz in directory /usr/xfer/db.
The file names will have the following structure

	xyz&lt;specific_id&gt;_&lt;n&gt;

Where:

    &lt;specific_id&gt;	Identifies the global id or type of points

    &lt;n&gt;			Is a sequence number beginning at 1.  Each file is
			limited to 1000 points. Therefore any &lt;specific_id&gt;
			may require multiple files.

In addition to the series of files produced for the MDD definitions input
format listing files are also created for including all MSF definitions,
CDS definitions and the type data base.

@@crypt

	ENCRYPT and ENCRYPT commands

	The dbm encrypt command will encrypt a file.

    Syntax:

	/ENCRYPT &lt;from path&gt; [&lt;to path&gt;] &lt;key&gt;


		The file identified by &lt;from path&gt; will be encrypted using 
	&lt;key&gt; as its password. If a &lt;to path&gt; argument is provided, the
	encrypted file will be written to the file name identifed by it.
	If no &lt;to path&gt; argument is provided then the file will be replaced with
	the encrypted file.


	/DECRYPT &lt;from path&gt; [&lt;to path&gt;] &lt;key&gt;

		The file identified by &lt;from path&gt; will be decrypted using
	&lt;key&gt; as its password. If the file was not encrypted using the dbm
	ENCRYPT command with the same command, this will fail. When successful,
	if a &lt;to path&gt; argument is provided, the decrypted file will be written
	to the file identified. If no &lt;to path&gt; argument is provided then the
	encrypted file will be replaced.


	Warnings:

		The size of files which may be encrypted and decrypted using
	    these commands is limited to by what can be conveniently held in
	    memory. They will fail on very large files.

		Encryption and decryption are fairly slow.

		There is no way to recover an encrypted file without its
	    &lt;key&gt;.


@@exit

/exit - Leave DBM

    The /exit directive is used to exit from DBM.

Syntax:

	/exit or /x or x

@@extr
/extract - Extract MSF and/or MDD Data and Source from ODS

    The /extract directive is used to extract a copy of an ODS mdd point or
msf module to the UDS for modification or to extract all modules which are
members of a package.  If a module is assigned to more than one package, the
last added will display in the /lmsf long form.

Syntax:

	/extr[act] &lt;name&gt;[,&lt;option&gt;][,&lt;rev no&gt;]	or
	/extr&lt;packagename&gt;, call

Where:

&lt;name&gt;	Is the name of an ODS module or the name of an ODS symbol to be
	extracted to the user level.

&lt;packagename&gt; Is package name

&lt;option&gt;

    full	Instructs DBM to recursively extract the named module and all
		referenced modules and their referenced symbols to the user
		level.

    call	Instructs DBM to perform a downward extraction of modules,
		based on the named module, without extracting the MDD points.

    sym		Instructs DBM to extract all ODS mdd symbols referenced by the
		module to the user level.

    &lt;rev no&gt;	Specifies to extract a specific numbered revision of an ODS
		module to the UDS.  (Such revisions are available if and only
		if VSS integration with module merge is in effect.)

    If the module or symbol is already defined at the user level, /extract will
not normally override that definition. When /extract is invoked interactively
and finds a user level source file dbm will prompt with a question whether or
not to overwrite the file.

dbm&gt;/EXTract TYPE &lt;typename&gt; [F]

	   Will extract a type definition (or wildcard deinitions) from ODS to
	UDS. If the extracted type is already present in the UDS then the UDS
	definition will be updated to correspond with the ODS definition. If
	the extracted type definition includes members of structured type then
	they will also be extracted if not already present in the UDS. When the
	option "F" is selected then member types will also be extracted to
	override existing UDS defintions.
	   Type definition extraction will also be performed implicitly as
	needed when addition or modification of UDS MDD points or type
	definitions require.
@@
HELP command

    The HELP command will outputs ascii text documents documenting dbm commands
and various other SimExec information. When entered with no arguments a dense command summary is output. Additional information is provided for various
keyword arguments. A summary of available help notes is output by the
"/HELP HELP" command.

@@ic
/ic - ic maintenance and manipulation

The /ic command provides several ic file manipulation capabilities.


    /IC CLEAN &lt;icset&gt;

	    The "ic clean" command instructs DBM to step through the MDD data
	definition and zero the ic values for any unallocated global locations.

    /IC STACK &lt;icset&gt; [ L D ]

	    Instructs DBM to collect ic data from the separate file for each
	global partition image to create an ic data file in the single file
	format. The option flag "L' requests dbm to leave the (obsolete) separate
	file in place.  The option flag "D' requests dbm to delete them. In
	the absense of either flag they will be moved to the "old" directory.

    /IC UNSTACK &lt;icset&gt;

	    Instructs DBM to extract separate files for each global partition
	image from an ic recorded in the single file format.

&lt;icset&gt;
	   The &lt;icset&gt; arguments specify which initial condition images to act
	on. Initial condition level, number and range arguments as defined for
	the LMDD command are used.

	    SimExec supports 2 ic (initial condition) data file formats. In the
	"unstacked" format each global partition image for each ic resides in a
	separate file. In the "stacked" format the complete data set for an ic
	is maintained in a single file. The "stacked" format simplifies ic save
	and restore and clarifies content. The "unstacked" format allows mix
	and match ic creation but can lead to an excessive number of files in
	the ic directory.

    /IC DUMP &lt;icset&gt;

	    The IC DUMP command will extract the full content of each ic
	selected to an ascii text file is set file format suitable for ISD.
	This can be considered to be a source form for the ic. Each ic will
	be placed in a separate file with name consisting of the ic name, plus
	the suffix ".sel".  The condensed  value list form of assignment
	statement is used.

    /IC PATCH &lt;icset&gt; &lt;id range&gt; = &lt;value list&gt;

	Where:

	    &lt;id range&gt;
			&lt;mdd symbol&gt; [ &lt;member&gt; ] [ ( &lt;index range list&gt; ) &gt; ]

	    &lt;value list&gt;
			&lt;value&gt; [ , &lt;value list&gt; ] *
			&lt;repeat count&gt;( &lt;value list&gt; )


	    The IC PATCH command will append data defining variable vale updates
	to ic patch files for a set of initial conditions. The patches are not
	applied immediately to the IC files. The MST and interactive executive
	programs have facilities to automatically process these updates as part
	of the reset operation, be aware that this must be explicitly enabled
	in the trainer configuration file for MST.

    /IC PATCH Apply &lt;icset&gt;

	    The IC PATCH APPLY command will update the initial condition data
	files for selected ICs to reflect any data waiting in the IC PATCH
	files.

    /IC SHUFFLE &lt;icset&gt;

	    The IC SHUFFLE command will update selected initial condition data
	files in accordence with modifications made to the MDD since the time
	the IC was last updated. This process may also be performed
	automatically by the MST or executive programs as part of the IC RESET
	operation. The DBM implementation of the IC update operation requires
	the single file (selected by environmental "S3_CIC=1") ic data form.

	    The IC update facility is based on logs kept by DBM of all MDD
	modifications. This is always performed (in file mdd_merge_log in the
	ods directory) for the ODS level; it can be enabled for the UDS MDD by
	providing an environmental value for "S3_UMDD_LOG".
@@import
dbm&gt;/IMPORT


    /IMPORT OPS &lt;data source name&gt; [&lt;source path&gt; [&lt;icpath&gt; [&lt;module.dat path&gt;
			[go] ] ] ]

	Will import data from an opensim database.

	The first parameter is to be the ODBC data source name for the OpenSim
	database. DBM will read the "vars" and "module" tables and create
	select files "Vars.sel" and "Modules.sel" to define the data present
	to SimExec.

	The second parameter, if present, is to contain a directory path or
	path list designating where module source files are to be found. Dbm
	will use the indicated path or list of paths to collect source files for
	the modules defined in the modules table.

	The third parameter, if present, is to indicate a directory path to the
	OpenSim initial condition files. When this is present Dbm will import
	the initial condition files and block data files found there.

	The fourth argument, if present, is to contain a path to the OpenSim
	modules.dat file. Dbm will read the indicated modules.dat file and
	create a file "mstx.lld" with the corresponding lld commands.

	The fifth argument, if present, and containing "GO" will tell dbm to
	attempt to complete the import process by reading the select files
	generated, compiling the modules found, and attempting to generate an
	mstx load.


@@include
/INCLUDE - Define a New Module

	    The /Include command defines a new module to the Module
	Specification File. A name (up to 31 characters), module type,
	and system ID must be specified. If the module is a function
	subroutine then the type of function return must also be supplied.
	An optional brief description may also be provided.

	Syntax:

	/INCLUDE &lt;lname&gt;,[&lt;sname&gt;,]&lt;type&gt;,[&lt;return&gt;],&lt;sys&gt;[,&lt;desc&gt;]

    Where:


	&lt;lname&gt;

	    Is the module name. This name must be used for all references to
	the module.

	&lt;sname&gt;

	    A short name field is accepted on the include command for
	compatibility with the older S3 software product input. If present
	it is ignored.

	&lt;type&gt;

	    Indicates the module's type. This field may be specified by keyword
	or an integer  code as follows:

	1 or EXECUTIVE - executive task
	2 or CONTROL - control modules.
	3 or SEGMENT - segment modules.
	4 or COMPONENT - component modules.
	5 or SUBROUTINE or function - subroutine or function modules.
	7 or BLOCKDATA - blockdata modules.
	8 or LIBRARY - external library subroutine.
	9 or INTRINSIC - intrinsic subroutines.
	10 or TEXT - datafile identification
	11 or PACKAGE - package identification
	12 or MODULE - Fortran MODULE

		    Simulation executive tasks may be defined in the MSF as
		module type EXECUTIVE. LLD will create such entries when this
		has not been performed explicitly. LLD will update
		executive MSF entries to record the executive type and
		date/time created. No cross-reference or consistency tracking
		is performed, and executive MSF entries are not merged to ODS.
		    Compile requests against executive modules will
		invoke lld with select file named per the convention
		"&lt;executive name&gt;.lld" in the UDS base directory.

		    Control modules are normally the main routines for each
		system. They are loaded separately to be scheduled or called
		directly by the executive task. fscan will post an error should
		a segment, component, or subroutine module call a control
		module.

		    Segment modules are loaded along with the control module
		which calls them. Segments are normally called only by a single
		control module. fscan will post an error should a component or
		subroutine module call a segment.

		    Component modules are usually maintained by the
		component development system. Component modules are called by
		segments or control modules and may also be called in
		response to changes in DI states through the Input Scanning
		and Activation System (ISAS). Components should not be called
		by more than one segment. fscan will post an error should a
		subroutine call a component module.

		    Subroutine modules may be called by many different system
		modules. Function subprograms are classed as subroutines with
		the additional requirement that a two-character return code
		(data type and precision) be specified.

		    Blockdata modules consist of data initialization
		statements (normally based on the Fortran data statement
		syntax) and serve to initialize array constants, via dfglob,
		prior to execution of simulation. These source files must be
		place in the "bd" subdirectory. When no period is included in
		the blockdata module name "d." is prefixed to the file name.

		    Library subroutines are those subroutines that are defined
		in external libraries such as the Fortran/C run time libraries.
		SimExec does not track a source or object. LLD will expect the
		linker to be able to locate an entry point for such modules.

		    Intrinsic routines (usually functions) are modules defined
		by the Fortran compiler.  A few (mostly very simple) intrinsic
		functions are predefined in the fscan program; others
		must be defined in the MSF as intrinsic modules.  The function
		return type 'G0' is specifically for generic Fortran intrinsic
		functions.

		    Text type is used for include files and for general data
		files. For example, the configuration data file generated by
		TOPMERET is often included as a text file in order to receive
		the development system level treatment and revision tracking
		accorded to module sources.
		    The Text module type is used for source fragment files to
		be used with the fscan "include" statement, or with the cscan
		module pseudo-command. cscan will insert a c++ preprocessor
		"#include" statement cscan in response to the "/*module"
		pseudo-statement naming a text in cscan modules. fscan will
		read the text file in response to a fortran INCLUDE statement
		naming a text.
		    The text module type may also be used to track binary data
		files.
		    Files defined by the TEXT module type must be placed in
		the "text" subdirectory.

		    A module package provides the means to reflect in the MSF
		that a group of modules are closely related to each other.  An
		appropriate example would be the group of modules produced by
		a TOPMERET system.  A package msf entry has no source.

		   A Fortran MODULE must be defined with the 'MODULE' type.
		Only partial support appropriate to this type is implemented
		at this time.

	&lt;return&gt;

		    Indicates the data type and precision of the data returned
		from a function. (May be appropriate with module types of
		subroutine, library, and intrinsic.)

		Return data types are to be encoded are as follows:

		i1, i2, or i4 - Integer valued functions.

		r4 or r8 - Real valued functions.

		c8 or cd - Complex functions.

		l1, l2, or l4 - Logical functions.

		G0 - Generic intrinsic functions.

		Input of the return types can include an asterisk (*) if
		desired. For example, I*2.

	&lt;sys&gt;

		    Is the alphanumeric acronym identifying the simulation
		system in which this module will be used.

	&lt;desc&gt;

		    Is the brief description.

	    After successfully processing an INCLude command, dbm will accept
	data directives to modify or add data fields in the MSF entry created.
	These include the following:

	.args &lt;argument list&gt;

		    Where &lt;argument list&gt; is a comma separated list of argument
		type codes describing the calling parameters for a subroutine.
		(Control and segment modules normally have no arguments,
		component modules normally have only a single argument used
		to signal an out-of-turn call).
		    Encode the argument lists as a single character data type
		code followed by integer precision, then parentheses if an
		arry is expected, and w if the argument is written to by the
		routine. That is:

		i1, i2, i4		input integers
		i1w, i2w, i4w		output scalar integers
		i1(), i2(), i4()	input integer arrays
		i1()w, i2()w, i4()w	output integer arrays

		l1, l2, l4		input logicals
		l1w, l2w, l4w		output logicals
		l1(), l2(), l4()	input logical arrays
		l1()w, l2()w, l4()w	output logical arrays

		r4, r8			input reals
		...
		r4()w, r8()w		output real arrays

		c8, c16			input complex
		...

		h0			for character
		s0			for structures
		...
			    The length of character arguments and the specific
			type of structured arguments are not tracked.

			    Several minor variations to the above argument list
			syntax, including that required by OpenSim, are
			accepted.


			    For modules compiled through fscan it is not
			necessary to provide this argument descriptor (fscan
			will fill in the required data when the subroutine is
			compiled).
			    For modules compiled through cscan the
			argument list description must be explicitly provided
			either through dbm or through the "/*arglist"
			pseudo-statement in the source.
			    For library modules the argument list description
			must be defined through dbm.
			    The argument list tracking does not include full
			provisions for the optionalities applicable to many
			Fortran intrinsic routines.  A precision indication of
			0 in combination with any of the simple data types is
			appropriate on definition of intrinsic routines
			requiring a specific data type of any precision. 'g0'
			may be used for an argument of any type. No argument
			list descriptor is appropriate for the more generic
			intrinsics.

	.note &lt;note&gt;

		    Msf entries include an additional 72 character note field.

	.fscan
	.cpp
	.c

		    Which language preprocessor applies to the module may be
		explicitly indicated with data directives. This is normally
		not necessary as the pre-processor programs will fill it in
		when the module is compiled.

	.package &lt;package name&gt;

		   Will add the module to the list of modules grouped into
		a package.

	.module &lt;module name&gt;

		   For modules of module type PACKAGE only the .mod data
		directive may be used do assign other modules to the package.

	.package &lt;package name&gt;

		    For module types other than package this data directive
		may be used to add the module to the list of modules assosciated
		with a package.

	    Additional fields appropriate to MSF modify, (they override
	fields entered on the INCLUDE command line) are also recognized.

	.system &lt;new system id&gt;
	.description &lt;new description&gt;
	.return &lt;function return type&gt;
	.&lt;module type&gt;	(CONTROL, SEGMENT, etc.) &lt;new module type&gt;
	.revision &lt;revision number&gt;
	.uncheck



Short forms:
The INCLUDE keyword may shortened to INCL.
The EXECUTIVE keyword may be shortened to EXEC.
The COMPONENT keyword may be shortened to COMP.
The BLOCKDATA keyword may be shortened to BLKD.
All data directive keywords may be shortened to 3 characters beyond the period.


Examples:

/incl fw4cpsxrv,fw4cps,control,,fw,fw control 4 cps

	This would define a control module with a name of fw4cpsxrv, and
   indicate that it is part of the feedwater system.

/incl sial01md2,3,,ia

	This would define a segment with a name of sial01md2, and indicate
    that it is part of the instrument air system.

/incl nusqrtr4,sqrtr4,function,r4,ys

	This would define a function with a name of nusqrtr4, return data type
    of single precision real, and assign system id of 'ys'.

/incl bdia4,blockdata,,ia

	This would define a blockdata module with filename d.bdia4.

/incl anssystem,package,ans,ans system
.MOD cansset1
.MOD cansset2


@@initss
/init - initialize source code control

    The /init directive initializes or re-initializes the ODS source code
control system baseline.

Syntax:
	/init SS[,,start&gt;]
Where:

SS	Indicates use of MicroSoft Visual Source Safe for revision tracking.
	(RCS and SCCS are also recognized but are not recommended for Windows
	systems.)

&lt;start&gt;	Specifies to restart the process at the named ODS module

	    The init command steps through the ODS Module Specification file
	and, for each module defined, resets the revision level to 1 and
	initializes a source safe entry with the current ODS source file
	content.

	    The optional &lt;start&gt; parameter allows for restarting the init
	process after interruption (in some environments the process can take
	a long time).  Its use should not normally be necessary.

@@LCDF
/lcdf - List Generic Component Information

    The /lcdf directive lists all or selected generic components defined in
the user system or the ODS CDF.

Syntax:
	/lcdf [&lt;gname&gt;][,&lt;form&gt;][,&lt;level&gt;]
Where:


&lt;gname&gt;		Is the name of the generic component whose definition is to
	be listed or a wild card specification to list multiple generic
	components. The default is all ("*").

&lt;form&gt;		Specifies the output format. Format specifiers are as follows:
	L - Long Format.	Lists the full definition(s) of the selected
			generic component macro(s) as defined in the CDF.

	F - Form Format.	Outputs the generic component argument
			information in a form suitable for /CDS data entry.

	X - Cross Reference Format. Outputs the generic name of all specific
			components created from the generic.

	    The default format lists the software level, generic name, and
	date added/modified of the selected generic component(s).

&lt;level&gt;		Specifies the software level to search, as follows:

	u - Lists user CDF entries only.
	o - Lists ODS CDF entries only.
	The default is to list all user and ODS CDF entries.

Examples:

/lcdf

The names of all generic components in the user and ODS level component
definition files will be displayed.
/lcdf gaov2d,l

The macro source code for the generic component gaov2d will be displayed.
/lcdf gaov2d,f,o

If the generic component gaov2d is at the ODS level, a listing will be printed
that will contain the parameter name, descriptive information, and .Arg
directive for each parameter in the generic component.
@@lcds
/lcds - List Specific Component Information

    The /LCDS command lists all or selected specific components defined in the
	user or ODS CDS.

Syntax:

/lcds [&lt;name&gt;][,&lt;form&gt;][,&lt;level&gt;][,&lt;flag&gt;][,print] or

/lcds &lt;gname&gt;

Where:

&lt;name&gt;		Is the specific component name, or a wild card pattern for
	selecting a group of specific components. The default is all ("*").

&lt;form&gt;		Specifies the output format. Format specifiers are as follows:
	F	(Form) Produces a listing that can be used as a select file to
		regenerate the specific.

	L	(Long) Lists the corresponding MSF information for the module,
		including user/ODS level, module name, module type, system,
		consistency status, O, CDF, description, revision level, cross
		reference counts, date the module was included, date compiled,
		and if applicable merged. It then lists the arguments and
		values last used to expand the generic into the specific.

		The default format includes the MSF information only (user/ODS
	    level, module name, module type, system, consistency status, O,
	    CDF, generic name, generic level, and date created/reexpanded).


&lt;level&gt;		Specifies the software level to search, as follows:

	u - Lists the user CDS entries only.
	o - Lists ODS CDS entries only.

	default level is to include all user and ODS CDS entries.


&lt;flag&gt;		Valid flag specifiers are:

	cons[istent] - List only those specific components marked as consistent.

	incons[istent] - List only those specific components marked as
		inconsistent.

	print		Specifies that the output from this command should be
		sent to the printer.

&lt;gname&gt;		Will list all specific components created from the generic.

Examples:

/lcds

Information on all specific components at the user and ODS level will be
displayed. For each specific component, the following information will be
displayed: the corresponding generic component name, specific component
name, software level, date expanded and component name.
/lcds mcfphs2685,l

The corresponding generic component name, specific component, software
level, date expanded, source file name, and arguments supplied when the
specific component mcfphs2685 was expanded will be displayed.
/lcds mcfphs2685,f

Will list the /cds command directive and the data directives to reexpand the
specific component.
@@listm
LIST MEMBERS command

/LIST M &lt;Pid w range&gt; [&lt;level&gt;] [&lt;max lines&gt;] [#] [ = &lt;value list&gt; ]

    Where:
	&lt;Pid range&gt; :: { &lt;Symbol&gt; or &lt;Member&gt; } [ ( &lt;range&gt; ) ]
	&lt;range&gt; ::	&lt;range item&gt; [ , &lt;range&gt;]
	&lt;range item&gt; :: &lt;intpar&gt; [ &lt;separator&gt; &lt;intpar&gt; ]
			or \&lt;expression&gt;
	&lt;intpar&gt; ::	&lt;integer&gt; | &lt;integer parameter&gt;
	&lt;separator&gt; ::	"/" | " : " or "-"

	Will expand the member elements corresponding to the entered point id
    and range. This command is mostly for internal use but could occasionally be
    found otherwise useful should a list of the members of point be needed.

@@listtype,tdb
LIST TYPE command
	    The LIST TYPE command will list information from the type database.

Syntax:
	/LIST TYPE &lt;name&gt; &lt;opts&gt;


Where:
	&lt;name&gt; - May be specific or wildcard, may not be absent.
	&lt;options&gt;
		B	Bare
		F	simplified xml format
		I	input format
		O	ODS types
		U	UDS types
		UO	amended level
		U+O	both levels
		X	include cross reference listing
		S	short form - one line per item
		T	tree


	form I will force listing of types used in member definitions of other
	types to preceed those of referencing types

@@lmdd
/LMDD - List Point Data command

	    The /lmdd directive lists information on points in the MDD.

	Syntax:

	/LMDD [&lt;ptid&gt;] [,&lt;type&gt;] [,sys,&lt;sys&gt;] [,&lt;globalid&gt;]
		[,&lt;ord&gt;] [,@&lt;fieldname&gt;] [,&lt;form&gt;] [,&lt;xrf&gt;] [,&lt;level&gt;]
		[,&lt;ic&gt;] [,map] [,succ] [,tree] [&lt;restrict&gt;]


Point selection arguemts

    &lt;ptid&gt;

		    Is a symbol name or wild card symbol specification.
		Symbol names may be up to 31 characters long. Question mark
		characters (?) for single wild card character, and asterisk
		(*) for wild string may be used to select groups by partial
		names. The symbol name may be enclosed in quotation marks
		(this allows specific listing of names that conflict with the
		DBM command keywords).
		    The default is to list all points.
		    When standing alone, the symbol name indicates the point
		or points to be listed. When followed by the keyword SUCC, the
		symbol name indicates the point whose immediate successors are
		to be listed. When followed by the keyword TREE, the symbol
		name indicates the point whose successors (at all levels) are
		listed.
		    May be repeated to request listing data for multiple
		points or wild card groups (one after another in the order
		entered).


    SYS=&lt;sys&gt;

		    Is the alphanumeric system ID (2 to 4 characters). When
		specified, ony points with the specified system are listed.


    &lt;globalid&gt;

		    Specifies the global partition whose points are to be
		listed. The partition is specified as global&lt;specific_id&gt;.

    BYTYPE
		    Selects points by TDB type name.


  Type specifiers

	    These options limit the symbol type to list. Valid type specifiers
	are as follows:

    M
		macro - Lists only points which declare an FSCAN macro routine.

    P		parameter - Lists only those points defined as parameters.

    data	This option acts differently when applied to a normal lmdd
		listing or to an lmdd ic listing. When applied to a listing
		request without IC information it will result in parameter and
		temp points being excluded from the listed output. When applied
		to an lmdd ic data listing, it option will result in output
		with a single value per line and no identification.

    V	 - Limit selection to variable data partitions

    C	 - Limit selection to constant data partitions


  Level selection

    U
		- List only symbols found in the user level MDD.
    O
		- List only symbols found in the ODS level MDD.

    UO
		- Lists points from amended MDD (default). An amended MDD
		consists of all points from the user and ODS level MDD, where
		only the user level information is printed for points defined
		at both levels.

    U+O
		- Lists both user and ODS level MDD points.

    U-O
		- Lists points that exist on user level but not on ODS level.



  Cross Reference selection

    NR
		- List points that do not have any cross-reference information.

    XO
		- List points whose cross-reference includes modules, whose
		system ID is different from the point (e.g. interface points).

    NOSTORE
		- List those points that are referenced by at least one module
		but have no cross reference entry indicating stored to (points
		that may be used but never assigned a value).



  Selection by modification time

    DATE&lt;relational operator&gt;&lt;date time&gt;

		    MDD point listing may be selected by the last modification
		date and time. This is specified by the key word DATE, followed
		(immediately) by the relational operator less than ("&lt;") or
		greater than ("&gt;") and a numeric date time. The date time must
		be entered as a string of 2 to 10 digits, where
			1st two digits are year (90-99 for 1990 to 1999,
				00-xx for 2000 to date)
			next two digits (3rd,4th) are month (01 to 12)
			next two digits (5th,6th) are day of month (01 to 31)
			next two digits (7th,8th) are hour of day (00 to 23)
			next two digits (9th,10th) are minute of hour (00 to 59)

		    That is

			YYMMDDHHMM

				shortened in accord with desired degree of
				specificness.



  Selection by Long Description field contents

    @fieldname (&lt;wild card value&gt;)
	or
    @fieldname = (&lt;wild card value&gt;)

		    may be used to restrict the listing to points containing
		the named field in the long description matching the defined
		value.

    -@fieldname (&lt;wild card value&gt;)

		     A leading minus sign may be used to restrict the listing
		to points without the named field matching the defined value.



  Alternate User Development system

	UDS=&lt;uds name&gt;

		    When specified the list operation will be performed
		under the specified alternate user development system.


  Order Specifiers

	    These optional arguments specifiy the listing order.

	ALPHA	alphabetical ordering of the listing. This is the default order.

	REL	relative, by address, ordering of the listing.

	Forward - points at the same level in the MDD structure as the point
		named be listed in ascending address order.

	Reverse - points at the same level in the MDD structure as the point
		named will listed in descending address order.

  Format Specifiers

	S	 - Short Format. Contains two lines of point information,
		including everything specified in the /add command, except the
		full description. The short format also a user/ODS indicator,
		global partition name and code, and global address.
		    This is the default format.

	L	- Long Format. Contains the short format plus the full
		description of the point and the date added or last modified.

	F	- Full Format. Includes the long format plus pointer
		information established internally by DBM. Will also append
		a list of equivalent points.

	W	- Wide Format. Contains the same information as the short
		format, but formatted into one 132 character line.

	I	- Input Format. Contains the point information in select file
		input format with /cmd as the command directive. The command
		may be specified by one of the following:

		==&gt;	ADD	/add
		==&gt;	MOD	/mod
		==&gt;	DEL	/del

		    When specified with intial condition listing option, the
		point information is suppressed, IC data is listing in the form
		of ISD set commands.


	Bare	- list point names only, one per line.

	XML	- format all listing information in simple xml style. Xml
		formatting is also applied for any additional data requested.

	FORM=&lt;integer&gt;

		    Some additional listing formats are specified by number.
		These are principly for internal use.



Additional Data Listing Specifiers


  Cross Reference Listing

    X
		- List the names of modules that reference the selected point.

    SEQU[ + * E S]

		    List source code sections of modules that reference the
		selected point. The sequ process will accept fscan, cscan, and
		block data modules. It has FORTRAN language specific logic to
		recognize and include complete Fortran statements and relevant
		block structure statements. Equivalent syntax specific logic
		is not implemented for cscan formats.

		Character options may be appended to the SEQU keyword.
	+
		    Include references under equivalenced or "alias" names.
	*
		    Restrict to files where the point is set.
	E or S
		    Include full equation sections.

		    An extended explanation of these options may be found
		by requesting "/HELP SEQU".



    H
		    (History) - supplement the point listing(s) with a history
		of the revisions made to the ODS definition of each point.
		    This is performed by searching the mdd_merge_log file.


   Initial Condition Data Listing

	UIC,&lt;nn&gt;[,&lt;nn&gt;] or
	OIC,&lt;nn&gt;[,&lt;nn&gt;] or
	IC&lt;nn&gt;

	UIC
		- Specifies that user IC file data is to be listed.

	OIC
		- Specifies that ODS IC file data is to be listed.

	IC
		- Specifies that amended IC file data is to be listed.

	&lt;integer&gt;
		- Provides the IC number, or range of IC numbers, whose data
		is to be listed.

	B
		- The keyword "B" may be used to request data from backtrack
		instead of initial condition files.

	ICNZ

		    The keyword ICNZ, when combined with a request for IC data
		listing in input format will suppress lines for values of zero.

	LEAF

		    The keword LEAF, when combined with a request for IC data
		listing will restrict the listing to points which have no
		successor points.

	&lt;ptid&gt;(&lt;offset range list&gt;)

		    An array offset range list may be included when entering
		specific point names to lmdd. It is ignored except in
		combination with ic data specifiers and the "LIST" option, in
		which case it will restrict the data listing to the requested
		range.

	    The LMDD initial condition listing features support the numbered
	ic sets. That is those named i000 to i999 for normal snapshot initial
	conditions and b000 to b999 for backtrack initial condition sets. In
	addition ic number -1 may be requested to display data from the default
	global data image files. Initial condition sets outside the numeric
	convention are not supported by lmdd.

    Initial condition data format

	    The default for initial condition data listing is a tabular
	form.

	I -	The format option "I" overrides the ic data listing format to
		SET or assignment commands compatible with isd. It also
		suppresses the non-ic data portion of the point listing.

	LIST -	The option "LIST" formats ic data in the condensed set-list
		assignment statement. Combine with "I" to suppress the point
		definition portion of the listing.

	DATA -	The option "DATA" (may also be combined with "I") formats ic
		data in a bare one item per line form.

	    The option "SWAP" is special for listing data from initial condition
	files copied in binary form from a computer with opposite endianness to
	that being used.



    MAP

		    Specifies that a successor's address bit map similar to
		that produced by the DBM /map command should be produced.


   Redirection

	    By default the LMDD listing will be displayed at the standard
	output of dbm with page continuation logic. The page continuation
	assumed page size can be adjusted with the dbm "MORE" command.

	    The listing may be redirected to a file by the dbm print or open
	commands.

	    The optional argument pound sign ("#") will override the
	redirection to a file opened by the dbm print or open command.

	    The optional argument PRINT will direct the lmdd process to open a
	print file for the listing, and on completion, send it to the printer.



Examples:

/lmdd

	All points in the amended Master Data Dictionary will be listed.

/lmdd *,p

	All symbols in the amended Master Data Dictionary defined as being
	parameters will be listed.

/lmdd *,sys=fw,l

	All symbols in the amended Master Data Dictionary that have been
	defined as belonging to the system fw (typically feedwater) will be
	listed in long format.

/lmdd fw:*,sequ,u

	All symbols in the user level Master Data Dictionary that start with
	"fw:" will be listed. For each of the points listed, the modules that
	reference the point and the applicable source code lines will also be
	listed.


@@lmsf
/lmsf - List Module Specification File Information

 The LMSF command lists information from the Module Specification File.

LMSF Module Selection arguments:

	&lt;name&gt;	- module name or wild card name specification

	&lt;module type&gt;
		- restricts the module listing to modules of the specified
		type, where type codes are as follows.
			EXECUTIVE, CONTROL, SEGMENT, COMPONENT, SUBROUTINE,
			BLOCKDATA, GENERIC, LIBRARY, INTRINSIC, TEXT, PACKAGE,
			MODULE
		- only one type may be specified, if multiple type arguments are
		used the last will override.

	&lt;level&gt; - development system level:
		- U	- list only User development system level modules
		- O	- list only Official development system level modules
		- UO	- Amended system - (default) list modules from both
			levels, when a given module is present at both levels
			only the UDS level is listed.
		U+O	- list modules at both levels
		U-O	- list only modules found at the uds level which are not
			  also defined at the ods level.
		U&amp;O	- list only modules found at the uds level which are
			  also found at the ods level.

	&lt;consistency&gt; - when specified restricts listing to modules matching
			the specified consistency state
		CONSISTENT
		INCONSISTENT

	&lt;system id&gt; - when specified the module list selection is restricted
			to modules with the specified system id
		SYS=&lt;id&gt; - where &lt;id&gt; is 2 to 4 alphanumeric characters.

LMSF Format or action arguments:

	The Lmsf process uses a numeric format or action specifier, there are
    quite a few selections, most of the frequently useful selections have a
    nmemonic selector, some (mostly special purpose) must be selected by number.

	S (1)	- short form
		include module name, level, generic (when applicable), function
		return type (when applicable), module type, consistency, flags,
		description.

	L (2)	- long form
		supplements short form with module date stamps (included,
		modified,  compiled), note field, argument list descriptor,
		and package name (all as applicable).

	X (3)	- cross reference - adds list of modules which call the module
		being listed.

	V (5,8)	- variables (mdd) - adds list of variables referenced by listed
		module.

	I or INCLUDE (6)	- input - lists modules in the
		form of dbm include commands; includes argument list
		and cds definitions as applicable.

	C (7)	- calls - list of modules which are called by the module being
		listed.

	F (9)	- full - combines 2,3,7,8 and 14

	COMPILE or SUBMIT (13)	- compile module. Will perform fscan, cscan,
		dfglob, or lld, as applicable, to re-compile each selected
		module.

	H (14)		- history

	DIFF (15)	- difference listing

	SEQU (23)	- source equation - module cross reference (i.e. modules
		which call that being listed) is supplemented with appropriate
		source fragments.

	MOD  (18)	- module call tree structure - produces a single line
		listing followed recursively by a similar indented list of the
		modules it calls; thereby showing the call tree structure.

	    The following formats are relatively obscure, for special purposes
	or obsolete.

	4		- interactive
	JCL (10)	- JCL
	51, 52		- for java interface
	53		- list note field and module name iff note has content
	54		- list source file name (bare)
	55		- list source relative path (bare)
	56		- list source full path (bare)
	10, 11, 12	- minor variations on compile
	100, 101	- bare name, bare name with tab
	103, 107, 108, 114, 115 - like X, C, V, H, DIFF, respectively,but
			without leading short form listing.

LMSF Other arguments:

	UDS=&lt;uds id&gt;	- when specified the list action will be performed
		against the specified (alternate) user development system.

	#	- forces output to standard output (i.e. overrides active
		listed output file).

	PRINT	- sends output to print file.

	U.&lt;name&gt;
	O.&lt;name&gt; - a level specifier followed by period may be supplied as a
		prefix to the module name specification.

	(&lt;name&gt;) - a name specification may be enclosed in parentheses.

	D=&lt;reference data id specification&gt; - to list reference data usage,
		see help reftab.

LMSF notes:

	When a print file is active (per dbm "OPEN" or "PRINT" commands) the
	module listing will normally be sent to the selected file and not to
	the standard output. This may be overridden by the pound sign argument.



	Flags:	O cdf
		U cdf
		cscan
		cpp
		wrap
		CheckedOut
		rtexec
		root
		dll



Examples:

/lmsf

All modules from the user level and ODS level will be
listed, using the short form.
/lmsf *,o,7

All modules at the ODS level will be displayed along
with the names of the modules they call.
/lmsf incons,subroutine

All modules that have been defined as subroutines and
are inconsistent with the database will be listed, using the
short format.
/lmsf *dyn*,control,2  or  /lmsf*dyn*,control,l

All control modules whose name contains 'dyn' will be
displayed, using the long form.
/lmsf inconsistent, compile

Will recompile all inconsistent modules.
@@macro
/macro -  Define a Macro
The macro command is used to define a macro routine to the SimExec system. The macro is
recorded as an mdd point of type "M". An associated source file with the same name as the
macro name must be placed in the "macro" subdirectory. Only the descriptive mdd fields are
applicable for macros. The macro source defines a code section or fragment to be replaced inline
by fscan wherever the macro is invoked. All macro commands as defined by the component
development system may be used. See Sections 3 and 4.
Syntax:
/macro &lt;macroname&gt;
Where:


&lt;macroname&gt;
Is the symbol name to be defined.
@@map
/map - Generate a Bit Map of Immediate Successors

    The dbm /MAP command produces a bit map showing the address allocation usage
of the immediate successors of an MDD point. The output is in the form of a
sequence of hexadecimal digits. A one in the binary representation of the
hexadecimal digit indicates that the corresponding byte in the point is covered
by some immediate successor of that point, while a zero indicates that the byte
is not used by any immediate successors.
    A similar output is provided by the "MAP" argument to the LMDD command.

Syntax:

	/map &lt;ptid&gt; [,&lt;level&gt;]

Where:


&lt;ptid&gt;		Is the symbol name of the point whose immediate successor map
		is to be produced.

&lt;level&gt;		Is the level of the PTID. Valid entries are:

			u - UDS (User Development System) level.

			o - ODS (Official Development System) level.

	Default will look at user level if present, otherwise ODS level.

Examples:

/map itemab3

A successor bit map will be produced for the symbol itemab3.

@@mark
/mark - Mark module(s) inconsistent

    The dbm /MARK command allows the user to declare specific modules
inconsistent, that is marked as requiring re-compile.

Syntax:

	/mark &lt;module1&gt;,&lt;module2&gt;,...,&lt;modulen&gt;

Where:


&lt;module&gt;	Specifies the name of the module to be marked inconsistent.
		If a module is to be marked at the ODS level, it should be
		specified as o(&lt;module&gt;) where &lt;module&gt; is the module name.

Examples:

/mark fw4cps,mccpfx1356

A module with a name of fw4cps and another with a name of mccpfx1356
will be flagged as inconsistent and marked for recompile.
/mark o(mccpfx1356)

A module at the ODS level with the name of mccpfx1356 will be flagged as
inconsistent and marked for recompile.
@@mcdf
/mcdf - Merge a generic component into ODS

    The dbm /MCDF command allows the user to merge a generic component from
the user level into the ODS. If successful the generic component is removed
from the user level.

Syntax:

	/mcdf &lt;name&gt;

Where:


&lt;name&gt;		Is the name of the generic component.



@@

/mdd - Add/Modify User Points

    The dbm /MDD command allows the user to add or modify MDD point information.
All of the data directives discussed under the /ADD directive may be provided.

Syntax:

	/mdd &lt;ptid&gt;[,&lt;level&gt;]

Where:


&lt;ptid&gt;		Is the symbol name of the point to be added/modified. If
		the point already exists, DBM will assume that the user wishes
		to modify it. If the point does not exist, DBM will assume
		that the user wishes to add it to the MDD.

&lt;level&gt;		Specifies the software level for data point. Valid entries are:

			u - User level (default).

			o - ODS level (privileged only).
Examples:

/mdd iapress46b- .type i,2

Changes the data type and precision of iapress46b to integer with two bytes of
storage.
*	/mdd iadegrees
*	.desc 05090 Temp. of compressor bearing.
*	.sys ia
*	.type r,8
*	.unit deg c
*	.value 50.5
*	.pred globalia
The symbol iadegrees, a REAL number with eight bytes of storage and an
initial value of 50.5, will be added to the Master Data Dictionary in globalia.

@@merge,mergetype,tdb
MERGE TYPE command

Syntax:
	/MERGE TYPE &lt;typename&gt; [F]

	   Will merge a type definition (or wildcard deinitions) from UDS to
	ODS. If the merged type is already present in the ODS then its
	definition will be updated to correspond with the UDS definition. If
	the merged type definition includes members of structured type then
	they will also be merged if not already present in the ODS. When the
	option "F" is selected then member types will also be merged,
	overriding existing ODS defintions.
	   If the merged type definition is not referenced at the UDS then it
	will be deleted from the UDS after merge.

	   As type definition(s) are not automatically deleted from the UDS
	except when merged with no current UDS references there will be a
	tendency for no longer referenced, and possibly obsolete, type
	definitions to accumulate at the UDS after the points or types using
	them have been merged. Since delete type without the "F" option will
	delete only non-referenced types the command "/DEL TYPE * U" can be
	used to clean them out.

@@mkinclude
/mkinclude - mkinclude Command

    The dbm /MKINCLUDE command will list the MDD points defined in a global in
a format suitable to define the global to the fortran compiler.

Syntax:

	/mkinclude &lt;global name&gt;[,&lt;level&gt;]

Where:


&lt;global name&gt;		Is the name of a global data partition root point
			defined in the mdd.

&lt;level&gt;			Is "U" to search at the current uds level (default)
			"O" to search at the Official Development System level
@@mmsf
/mmsf - Merge Modules into the ODS

    The dbm /MMSF command allows privileged SimExec users to selectively merge
consistent user system modules into the ODS level. All modules that are merged
will have copies of their user level source code placed in the directory
pointed to by %S3_HOME%\&lt;sys&gt;\old or %S3_ODS%\old.

Syntax:

	/mmsf	[&lt;name&gt;, [&lt;type&gt;, [&lt;other module selection criteria&gt; ]

Where:


&lt;name&gt;		Specifies the module to be merged. This may be a specific module
		name or a wild card name specification.

&lt;type&gt;		Specifies the type of modules to be merged. Valid type
	specifiers include

		control - Merge those modules defined as being control modules.
		segment - Merge those modules defined as being segments.
		component - Merge those modules defined as being components.
		subroutine or function - Merge those modules defined as being
			subroutines or functions.
		blockdata - Merge those modules defined as being blockdata.
		library
		intrinsic

&lt;other module selection criteria&gt;	Other module selection criteria as
		defined for the LMSF command may also be used with the MMSF
		command.
Examples:

/mmsf function

All consistent function modules will be merged from the current user system
to the ODS level.

/mmsf fw4cps

The module whose name is fw4cps will be merged from the current user
system to the ODS level.
@@modify
/modify - Modify Points and Modules

    The dbm /MODIFY directive allows the user to modify point information in
the MDD or MSF. All information originally specified via the data directives
of an /ADD command may be modified.
    The modify command can also be used to modify fields of a module definition
in the MSF. Module modification can be explicitly indicated by presence of
second "MOD" keyword. In its absence dbm will detect that a module (msf entry)
but no data point (mdd entry) of the name entered is defined.
    The short form "mod" of the "modify" keyword is interpreted as the isd
"module" keyword when an executive attachment is active.

Syntax:

	/mod[ify] &lt;ptid&gt;[,h] [,&lt;level&gt;]	or
	/mod[ify] &lt;module&gt; [,&lt;level&gt;]
	/mod[ify] mod &lt;module&gt; [,&lt;level&gt;]

Where:


&lt;ptid&gt;		Is the symbol name of the an MDD point to be modified.

h		Specifies that DBM should display the current value for each
		field in a symbol and prompt for input to change the field. If
		the field should stay as is, press enter. If the field should
		be changed, enter its new value, followed by enter. If h is not
		specified, the user is expected to enter the accompanying data
		directives for the fields to be modified.

&lt;module&gt;	Is a module name as defined in the MSF.

&lt;level&gt;		Specifies software level for data point. Valid entries are:

			u - User level (default).

			o - ODS level (privileged only).

NOTE:       Modifying the predecessor of a point which has successors moves its
	entire tree structure to a new memory area.
	    Modifying the dimension or precision of a point may expand or
	reduce the amount of memory required. Expansion usually implies the
	need to move a new location.
	    To change a global point into a parameter or temporary, the .valu
	data directive with second argument as p or t is required.
	    If the point to be modified is in the ODS MDD but not in the user
	MDD, the point along with all the points in the ODS structure (up to
	the global partition points) not currently in the user MDD will be
	extracted to the user MDD before any modification is begun. The same
	is performed if the new predecessor is not in the user MDD. This does
	not apply if the ODS level was specified.

Examples:
/mod fwpressure21a
.type i,2

Changes the data precision of fwpressure21a to INTEGER with two bytes of storage.
/modify itemab3
.pred global01

Changes the predecessor of itemab3 to global01.


	For modules, the modify command can be used to modify certain fields
    of MSF entries. The MOD command line is to be followed by data directives
    as follows.

	/mod &lt;module name&gt;

	.sys &lt;new id&gt;

	.desc &lt;new desc&gt;

	.note &lt;new note&gt;

	.return &lt;new function return type&gt;

	.args &lt;argument list&gt;

	Module types can be changed by specifying any one of the following:

		.CON, .SEG, .COM,
		.SUB, .BLOCK, .TEX, .LIB, .INT

	    Various potential inconsistencies can be introduced by
	unusual modification of module types.

Examples:

/modify heatx
.return r4
.args r4, i4, r4(), l1w, i4()w

Modify the module heatx so that it returns a value of type real*4, and have 5
arguments of type real*4, integer*4, array of real*4, logical*1, and array of
integer *4. The "w" at the end of the last two arguments indicates that the
module will write to these arguments.
NOTE:   The argument type lists are automatically recorded upon compilation of subroutines by the
FSCAN task. The above mod command should only be necessary for cscan, library and
intrinsic modules. The argument type lists are retained across merge and extract operations.
Currently up to 60 argument types are recorded. Modules may still have longer argument lists,
however only the first 60 will be recorded and type checked.



@@move
/move - Move a Point
The /move directive moves a point to a new location under the same predecessor.
Syntax:
/move &lt;ptid1&gt;[,&lt;ptid2&gt;][+&lt;offset&gt;][,&lt;level&gt;]
Where:


&lt;ptid1&gt;
Is the symbol name of the point to be moved.
&lt;ptid2&gt;
Is the symbol name of the point following which the point
specified by &lt;ptid1&gt; is to be moved. This point must have the same immediate
predecessor as that specified by &lt;ptid1&gt;. If &lt;ptid2&gt; is not specified, the point
specified by &lt;ptid1&gt; will be moved to become the first successor of the current
predecessor.
&lt;offset&gt;
Specifies an offset from the end of the point specified by &lt;ptid2&gt;. The point to
be moved will be placed at the address calculated from the end of the
predecessor point and the offset. If &lt;ptid2&gt; is not specified, the offset will be
applied to the point's current predecessor. The offset is specified as &lt;n&gt; or &lt;n&gt;b,
&lt;n&gt;h, &lt;n&gt;w, or &lt;n&gt;d where n is an integer, b indicates bytes, h indicates
halfwords, w indicates words, and d indicates doublewords.
Examples:

/move fwioa13,fwioa10

Moves the point fwioa13 to after the point fwioa10.
/move fwioa13

Moves fwioa13 to become the first successor of its predecessor.
/move fwioa13,fwioa10+3b

Moves fwioa13 to three bytes after the point fwioa10.


@@odel
/odel - Delete a Point from the ODS Level MDD
The /odel directive allows the privileged user to delete a symbol from the ODS level Master Data
Dictionary. If the point has successors, they will also be deleted. To delete only a point while
retaining all its successors, the immediate successors must first be separately moved to a new
predecessor using the /modify command directive.
Syntax:
/odel &lt;ptid&gt;
Where:


&lt;ptid&gt;
Is the name of the point to be deleted.
Examples:

/odel fw:xyz123

The symbol fw:xyz123 will be deleted from the ODS level Master Data
Dictionary.


@@omod
/omod - Modify a Point at the ODS Level MDD
The /omod command allows the privileged user to descriptive and value fields of an ODS point.
Critical fields are .dim, .type and .pred, these fields determine the size and location of the point.
All other fields are descriptive only and will not affect how the compiler handles the data point.
Syntax:
/omod &lt;ptid&gt;[,h]
Where:


&lt;ptid&gt;
Is the name of the ODS point to be modified.
h - Is an optional flag requiring prompts for data directives. By default the
user must supply the data directive and the data to modify to.


@@open
/open - Open a File for Listed Output

    The /open command allows the user redirect output from the list commands of
dbm to a file.  This file will remain open and will receive data until the user
issues the /close, /print, or another /open command or exits DBM.

Syntax:
/	open [path=]&lt;filename&gt;
Where:


&lt;filename&gt;	Is the name of a file to receive data. If the file does not exist,
		it will be created. Pathnames may need to be enclosed by quotes
		("",'', or ``) or use the "path=" keyword.
Examples:

/open dbmout

Opens a file called DBMOUT. From this point on, listing data will be sent to the
file DBMOUT.

@@option

/option - set DBM option settings

    The /option command allows the user to set or clear dbm option settings. It
includes options corresponding to the lettered flag options which may be
specified dbm on entry. Default settings for these options may be provided by
the "DBM_FLAGS" environmental variable.

    /OPTion C
    /OPTion L

    /OPTion R
    /OPTion r
    /OPTion Respect

    /OPTion I
    /OPTion Q
    /OPTion q
    /OPTion O
    /OPTion U

	C and L options

	    The dbm 'C' option (case insensitive) relaxes certain default dbm
	rules and behavior. Its effects include the following - 

	    - When dbm is entered from a directory which is eligible to be
	    a UDS home directory (that is: a subdirectory of the "S3_HOME"
	    directory with a name of 2 to 4 character length) but is not (uds
	    has not been initialized) then the UDS will be created and
	    initialized implicitly (that is: without a confirmation question,
	    answer exchange).

	    - dbm will allow the addition of data points with no short
	    description provided.

	    - dbm will allow the addition of data points with no system id
	    provided by the user input, (a default system code of "none" will
	    be inserted).

	    - dbm will accept "/CMD" as a synonym for the "/MDD" command.

	    - dbm will suppress MDD point modification operations where no
	    fields are changed.  Points which would otherwise be effected will
	    not be extracted from ODS to UDS, will not have their revision
	    date-time field updated, and will not appear in mdd modification
	    log files.

	    - The ic data listing (LICF or LMDD command options) will report
	    "true" for logical data items whose value is ambiguous (that is
	    neither 0 (false) nor the expected binary equivalent of fortran
	    .TRUE.).  When the 'C' option is not in effect, dbm will output the
	    actual values in hexadecimal notation when such cases are
	    encountered.

	    - The isd warning messages "set is beneath index range" and
	    "set is beyond index range" are suppressed.

	    The dbm 'L' option (case insensitive) returns dbm to its default
	behavior with regard to the effects described above of the 'C' option.
	

	O and U (level) options

	    The dbm 'O' option (case insensitive) changes the default level
	selection for the mdd edit commands (including /ADD, /DEL, /MOD, /MDD
	and /ROOT) to the ODS level.

	    The dbm 'U' option (case insensitive) returns the default level
	selection for the mdd edit commands (including /ADD, /DEL, /MOD, /MDD
	and /ROOT) to the UDS level.

	Q and V options

	    The dbm 'Q' option (upper case) suppresses the "point added"
	message produced by the dbm MDD or ADD commands.

	    The dbm 'q' option (lower case) suppresses the "point modified"
	message produced by the dbm MDD or MOD commands.

	    The dbm 'V' option (case insensitive) cancels the effects of the
	'Q' and 'q' options.


	R and I options

	    The dbm 'r' option (lower case) instructs dbm to attempt to
	respect explicit offset values entered on the .pred data directive with
	the dbm ADD, MDD, and MOD commands when placing free (",F" attribute)
	data points. Default behavior is to ignore these offset values for
	free points. When the offset cannot be respected dbm will attempt to
	place the data point at another offset location as it would when the
	'r' option is not in effect. The argument "respect on" is recognized
	as a synonyn for 'r'.
	    The dbm 'R' option (upper case) instructs to dbm to attempt to
	respect explicit offset values entered on the .pred data directive with
	the dbm ADD, MDD, and MOD commands when placing free (",F" attribute)
	data points. Default behavior is to ignore these offset values for
	free points. When the offset cannot be respected dbm will fail the
	operation; That is: it will not attempt to place the data point at
	another offset.
	    The dbm 'I' option (case insensitive) will cancel the 'R' or 'r'
	option. Dbm will return to its default behavior of ignoring offset
	suggestions for free points. The argument "respect off" is recognized
	as a synonyn for 'i'.






/option mmsf - set or clear module merge option settings

    The /option command allows the user to set or clear option settings related
to the module merge (MMSF). These settings are stored in the ODS MSF such
that the most recent setting is retained and applied for all users.


    /OPTion mmsf checkout
    /OPtion mmsf no checkout

	    Will set of clear a flag retained in the ODS MSF which selects
	whether (or not) the module extraction will intercept and disallow
	the presence of concurrent versions in 2 (or more) separate UDS systems.
	    When the "mmsf checkout" setting is in effect module extract
	operations will update the ODS MSF record to indicate the presence of
	a UDS version of the module extracted, extract requests for modules
	which are already present extracted to some other UDS will be rejected.
	    Disabling exclusive checkout (/option mmsf no checkout) will return
	the system to its default behavior, which allows the dangerous condition
	of having versions of the same module under modification in different
	user development systems.


    /OPTion mmsf comments
    /OPtion mmsf no comment

	    Will set of clear a flag retained in the ODS MSF which selects
	whether (or not) the MMSF command will request a reason or description
	for modification of the module(s) being merged. When active, the
	description entered will be posted in the msf_merge_log, and, if
	Source Safe, SCCS, or RCS integration is enabled, also to depository.

    /OPTion mmsf diff
    /OPtion mmsf no diff

	    Will set of clear a flag retained in the ODS MSF which selects
	whether (or not) the MMSF command will include a "diff" listing of
	module source modifications in the msf_merge_log file.


    /OPTion mmsf ss
    /OPtion mmsf no ss

	    Will set of clear a flag retained in the ODS MSF which selects
	whether (or not) the MMSF command will update Visual Source Safe.
	Valid on Windows only.



    /OPTion mmsf rcs
    /OPtion mmsf no rcs

	    Will set of clear a flag retained in the ODS MSF which selects
	whether (or not) the MMSF command will update rcs. Valid on unix only.


    /OPTion mmsf sccs
    /OPtion mmsf no sccs

	    Will set of clear a flag retained in the ODS MSF which selects
	whether (or not) the MMSF command will update sccs. Valid on unix only.


/option dfglob - set or clear dfglob restriction option settings

    /OPTion restrict dfglob [&lt;level&gt;]
    /OPTion unrestrict dfglob [&lt;level&gt;]


	    The dfglob restriction flag is retained in the MDD such that the
	most recent setting applies to all users. Separate flags are retained
	for ODS version UDS application.

	ODS
	    When set for ODS, the const and dftglob function for ODS level mdd
	requires a privileged user and dfglob files must be block data modules
	defined in the ODS MSF and located in %S3_ODS%\bd subdirectory.

	UDS
	    When set for the user level, dfglob files must be block
	data modules defined in the user level MSF and located in
	%S3_HOME%\&lt;sys&gt;/bd subdirectory.

	    When the restriction flag is not set then the dftglob or const
	function for the ODS may be performed by non-privileged users and
	dfglob will accept block data input files which are not recorded in
	the MSF.


/option - set executive option settings

	/OPTion -&lt;option string&gt;

	    When dbm or isd is connected to a SimExec executive, option
	selections may be passed to the executive. Please refer the the
	executive documentation (/help exec) for explanation of the options
	recognized by the executive. A leading minus sign ("-") is required
	for executive option selections.



@@pack

/pack - Reduce Fragmentation

	    The dbm /pack command rearranges the immediate free ("F") 
	successors of a selected point so that they are located as close as
	possible to the beginning of the selected point.

	Syntax:

	/pack &lt;ptid&gt; [,&lt;level&gt;]

	Where:


	    &lt;ptid&gt;
			    Is the name of the user level point whose immediate
			successors are to be rearranged. Global patition names
			are valid.

	    &lt;level&gt;
			    Specifies the level to operate on.

		U	User Development System (UDS) level.

		O	Official Development System (ODS) level (privileged
			user only).

	Example:

		/pack ioarray

	    The immediate successors of the user level point ioarray will be
	rearranged to reduce fragmentation.

@@more

/more - Redefine Page Size

	    The /more command allows the user to redefine the number of lines
	of scrolling listed output to display to an iteractive console before
	pausing for user input to continue.

	Syntax:

	/more &lt;n&gt;

    Where:


	&lt;n&gt;	Is integer number of lines to display before pausing.

	NOTES:

		     0 will suppress the paging logic, that is: assume an
		infinite page and not pause until all data has been written to
		the screen.

		    The default size is on dbm entry.

		    When dbm is not connected to executive task the "PAGE"
		 command will be interpreted as a synonym.
	

@@promote

/promote - Change Data Precision for Symbol Group
The /promote directive allows the user to change the data type and precision for a group of points
rooted to the same predecessor.
Syntax:
/promote &lt;pred point&gt;,&lt;old type&gt;,&lt;new type&gt;[,&lt;level &gt;]
Where:


&lt;pred point&gt;
Specifies the name of the predecessor point.
&lt;old type&gt;
Specifies the current precision of the symbols to be changed.
&lt;new type&gt;
Specifies the desired precision of the symbols to be changed.

NOTE:  That the new type has to be the same as the old type. Only the precision
can change.
&lt;level&gt;
Specifies the level of the points to change. Level specifiers are as follows:
*	u - Default. Change at user level.
*	o - Change at ODS level. Available to privileged users only.
Examples:

/promote global01cr,r4,r8

All points in global01cr with a data precision of 4 bytes will be changed to a
data precision of 8 bytes.
/promote zdi041a,i1,i4,o

All ODS level points anchored to zdi041a with a data precision of 1 byte will
be changed to a precision of 4 bytes.

@@rename
/RENAME MDD &lt;old name&gt; &lt;new name&gt; &lt;N/S&gt;

/RENAME MDD &lt;old name&gt; &lt;new name&gt; O &lt;N/S&gt;

	    Will replace the mdd point &lt;old name&gt; with &lt;new name&gt;. This may be
	performed for the mdd and conditionally for source modules referencing
	the point.

	    Option argument N specifies to omit source file modification. This
	is the default.

	    Option argument S specifies to include source file modification.

	    If &lt;old name&gt; is not defined in the mdd then the command is
	rejected.

    UDS level:

	    If &lt;new name&gt; is currently defined in the mdd then no mdd
	modification is performed but symbol name substitution may be performed
	in modules which reference the &lt;old name&gt;.

	    If &lt;new name&gt; is not defined and &lt;old name&gt; is defined at the UDS
	level then the &lt;old name&gt; definition is modified in place to &lt;new name&gt;.

	    If &lt;new name&gt; is not defined and &lt;old name&gt; is defined at the ODS
	level then a new mdd point is created at the UDS level based on the
	attributes of the &lt;old name&gt; definition.

    ODS level:

	    If &lt;new name&gt; is currently defined in the mdd then no mdd
	modification is performed but symbol name substitution may be performed
	in modules which reference the &lt;old name&gt;.

	    If &lt;new name&gt; is not defined and &lt;old name&gt; is defined at the ODS
	level then the &lt;old name&gt; definition is modified in place to &lt;new name&gt;.



    note:

	    Symbol replacement in source files is performed only in the UDS.
	When the &lt;old name&gt; point is referenced by ODS level modules the
	sources are extracted as appropriate. Symbol replacement is not
	performed in generic components nor in specific component argument
	lists.

	    The symbol may not have sucessors.

	    The symbol may not be a global root definition.


dbm&gt;/RENAME MOD &lt;old name&gt; &lt;new name&gt; S
or
dbm&gt;/RENAME MSF &lt;old name&gt; &lt;new name&gt; S

	Will rename a module, replacing references in uds sources much like the
	"Rename MDD" command. In no case will the existing "old name" module be
	automatically deleted.


@@remove
/remove - Remove Module Specification File Information

	    The /REMOve command removes the selected program module and cross
	reference data from the MSF and MDD.

Syntax:

	/REMOve &lt;module1&gt;,&lt;module2&gt;,...&lt;modulen&gt; [,O]

Where:


	&lt;module#&gt;

	Specifies the module name name or names to be removed from the Module
    Specification File (MSF).


	    O

	An "O" added to the argument list specifies removal of a module or
    modules from ODS level.

	The remove command will move delete most generated files, such as
    object code, list and compile files. It will mover source and related
    definition files to the "old" directory rather than deleting them (
    that is : directory %S3_HOME%\&lt;sys&gt;\old or %S3_ODS%\old.

ODS modules may be removed by privileged users only.

Examples:

/remo mccsh43202,mccsh43207,h43210

Information for the modules named mccsh43202, mccsh43207, and h43210 will be
deleted from the Module Specification File, the corresponding source files
(as applicable) will be moved to directory "old", object and other output
files related to the module will be deleted.

/remo fw4cps

Information for the module whose name is fw4cps will be removed from the
MSF and the module's corresponding source and object file will be deleted.
/remo fw4cps,o

Information for the module named fw4cps will be removed from the
ODS level MSF and the module's corresponding source will be moved to the ODS
"old" directory and the object file will be deleted.

@@root
/root - Define a Global Partition

    The /root directive creates a global common memory partition.

Syntax:
	/root global&lt;nn&gt;[,o]
Where:


&lt;nn&gt;	Is the global ID of the global memory partition to be created. It may be
	any alphanumeric and/or underscore ( _ ) combination of up to 6
	characters. (All potential symbol names beginning with the 6 character
	term "global" are reserved for global partition definitions.

o	Instructs DBM to add the global memory partition directly to the ODS
	 level. This option is available to privileged users only.


    For each global created, there is additional information that needs to be
supplied. This is entered with data directives as described for the dbm /ADD
command. In interactive mode, DBM will prompt for the additional
information. When using batch style input the data directives must be explicitly included  in the command file.


   The .dim directive is not optional when creating a global partition. In
combination with the .type directive it determines the size of the global.
Fscan, Cscan and LLD will round up the effective size of normal global partition
definitions to a multiple of 4096 bytes (1KW). It is common practice (though not
required) to use type I*4 and dimensionality of the form (n, 1024) to reflect this
practice.

    The &lt;vcopt&gt; code entered on the ".valu" data directive is normally and
inherited by all successor points placed in the partition. It is also recognized
by lld to set an appropriate default for whether the partition is included in
iexec initial condition snapshot and reset operations. Therefore specify
".valu 0,C" when defining a partition intended to hold constants, rather than
allowing this field to default to "V".

    Shared global partitions in the MST - RTEXEC environment must also be defined,
with matching size in the "s3_globals" file. On Windows systems mkmstG must be
performed after that file is modified.

    A .unit value of "Alias" defines a global partition to be treated as an
alias for a Fortran common defined by external code. Fscan, Cscan, ISD, and LLD
treat such partitions significantly different from the usual SimExec global
partitions. This include the following:
	- May not be shared.
	- The leading term "global" is removed from the compiled name.
	- ODS and UDS definitions of an aliased partition are implicitly
	  equivalent.
	- LLD will not reserve memory for the parition.
	- The size will not be rounded to a 1KW multiple.
	- Inclusion in iexec initial condition must be explicit.

Examples:

/root global01
.desc Global partition 01.
.dim (4, 1024)
.valu 0,v
.sys fw
.type i,4
.pred global01

The global partition global01 will be created.  It will be 4 kilowords (16,384
bytes) in size.  The partition has been explicitly identified as variables (.valu
0,v).

@@select

/select - Process Command Files

	    The /select command selects a command file for processing by DBM.

	Syntax:

	/SELect [path=]&lt;filename&gt;

Where:


	&lt;filename&gt;

		Is the name of a file containing DBM directives.

	NOTES:

		When using pathnames to select files from another directory,
	    or other unusual file name cases, the path may need to be enclosed
	    in quotes.

		When operating in remote mode the file is read from the local
	    environment. An optional "H" argument preceeding the path argument
	    instructs dbm to retrieve and select a file on the server.
	    The DOWHILE / ENDDO function will not work correctly in this mode.

		The Ctrl-C interactive interrupt will sometimes, but not always,
	    be accepted to stop command file processing.

		Should dbm encounter an /END command within the file then dbm
	    will not read the remainder of the file.

		Select files may be nested.

		The command keyword "READ" is synonymous with select.

	
Examples:

/sel dbminp

The file DBMINP, which should contain DBM directives, will be processed.
The select file may use another select file. Nesting is limited to 20 levels.
Syntax:
/sel[ect] H [path=]&lt;filename&gt;
Will process DBM commands from a text file residing on the remote host system (relative to
the UDS base directory of the host connection). The "DO WHILE" / "ENDDO" command may
not be used within the remotely selected file. If remote connection is not in effect then the
command will process a local file.

@@setenv
/setenv - Set environmental variable value
The /setenv command sets a value to an environmental variable for the remainder of the
execution of the current instance of DBM. When attached to a remote host the setting is
performed on the local (client) and echoed to the server. (This is principally intended for use with
the Environment variable string substitution capability for dbm commands, the effectiveness of
using this to set the various environmental variables used to select SimExec options will vary
somewhat arbitrarily).
Syntax:
/setenv &lt;variable&gt;=&lt;value&gt;
Where:


&lt;variable&gt;
Is the symbolic name of an environmental variable to be set.
&lt;value&gt;
Is a quoted string defining the value to set the environmental variable to.
@@
/shuffle - ic shuffle capability

	    This command is obsolete, and may be removed. Its function is replaced
	with a more automated ic update facility. It is in place as it may be useful during
	transition, and is better suited for dealing with certain types of modification (for
	example replacement of a large number of point definitions by deletion followed by re-add).
	Iin most cases the history based mechanism is preferrable. Alternating between both can
	cause inappropriate duplication of actions.

The /shuffle command compares an old set of MDD data to a new set and then updates selected
ic files per the changes identified.
The old MDD data can be either an old copy of the ODS MDD copied to a UDS directory
reserved for that purpose or a file created by DBM with lmdd form "w" preserving MDD data.
The lmdd form w backup is preferred as more efficient and versatile. This file must be in
alphabetical order and contain the complete data set to be shuffled (i.e. create it as follows).
dbm&gt;open &lt;ODS backup file name&gt;
dbm&gt; lmdd o, data, w
or
dbm&gt;open &lt;UDS backup file name&gt;
dbm&gt;lmdd u, data, w
Syntax:
/shuffle &lt;ic range&gt;[,[path=]&lt;backup file name&gt;]
[,&lt;ic level&gt;] [,sys,&lt;system id&gt;] [,&lt;point selection&gt;], &lt;level&gt;
Where:


PATH = &lt;backup file name&gt;

The designated file is to be read as a form w backup listing representing the
old MDD for the shuffle process. In its absence the user MDD is expected to
be an old copy of the ODS.
ic level
Initial condition sets can exist at the UDS or the ODS level, update of ODS
ics is indicated by the argument "OIC", the default is "UIC.
ic range
The set of ics to be updated is selected by a numeric range such as "ic01,
100". Required.
system selection

In the case of no backup listing file (using the old ODS MDD as the UDS
MDD), the "SYS,&lt;system id&gt;" argument is used to select a normal UDS for
UDS level ic update.
point selection arguments

Various point selection arguments with at least one wildcard character are
accepted (corresponding to lmdd arguments) to limit the ic update point
selection. The "V" argument or limiting selection to a single global are likely
to be useful. Wild card, description field (@fieldname&lt;value&gt;), LEAF, and
System id selection (with an old list file) are also accepted though less likely
to be appropriate.
&lt;level&gt;
Specifies the level of the points to change. Level specifiers are as follows:
*	u - Default. Change at user level.
*	o - Change at ODS level. Available to privileged users only.
After comparing the old and new data sets and recording any appropriate changes the selected ic
range is processed. IC update actions performed include the following:
*	data will be copied from one location to another in the ic with appropriate type translation
in response to changes in the point global offset, global partition and/or data type.
*	the default value will be filled in for point additions and expansion area of points with
increased dimensionality.
*	data will be extracted from the ic image of the ODS point in case of extracted points.
Limitations:
Multiply dimensioned arrays are treated as single dimensional vectors (may not be most
appropriate in specific cases).
No new ic partition files are created (may be desired when globals are added or extracted).
No reasonability checks are performed for the old MDD status information (in either mode).
Completeness is assumed. Thus specification of an inappropriate file can make a mess.
ODS update privileges are required for update of ODS IC files.
In case of usage of listing file for old information the global sizes are assumed to be unchanged.
The only cases where this may cause any loss of function are when a global is deleted or reduced
in size.
Movement of data between ics at ODS and UDS levels or from UDS to ODS MDD are not
addressed.
ODS MDD may be remote (ods_s), ic files to be updated can not be.
NOTE:   LMDD &lt;ic data&gt; with form "I" produces "set" commands which are considered a source form
for ic data. These can be used to update ics by ISD or by dfglob.
@@smrg
/smrg - Merge MDD Points to the ODS Level

    The /smrg directive selectively merges user MDD points to the ODS data
dictionary files.

Syntax:
	/smrg [&lt;ptid&gt;][,&lt;other specifiers&gt;]
Where:


&lt;ptid&gt;		Is the name or wild card name specifier of the point(s) to be
		merged.

&lt;other specifiers&gt; The other MDD point selection criteria arguments as defined
		for the LMDD command may also be used to restrict which points
		are merged ( as applicable to current UDS level only).

    If no arguments are specified with the smrg command, all eligible points
from the user development system will be merged to the ODS.  When a point merged
to the ODS, all the successors of that point are also merged. The user level
point definitions are then deleted from the UDS MDD.

    UDS MDD points whose modification date is older than an ODS point with
the same name are not eligible for merge. DBM will issue "revision violation"
messages for such entries.


Examples:

/smrg fw:pressure

The user level symbol fw:pressure will be merged up to the ODS level Master
Data Dictionary and deleted from the user level MDD.
/smrg *:*

All user level symbols that have a colon (:) in their name will be merged up to
the ODS level Master Data Dictionary and deleted from the user level MDD.
/smrg global07,abc*,sys,th

All user level symbols in global07 whose names start with abc and have a
system id of th will be merged up to the ODS level Master Data Dictionary
and deleted from the user level MDD.

@@start
/start - Start Command

    The /start command is to activate another task. When DBM is attached to a
remote system the task is activated on the remote system.

Syntax:
	/start [&lt;process name&gt;][&lt;argument list&gt;]
Where:


&lt;process name&gt;	is the name of an executable task to be activated.
&lt;argument list&gt;	is any applicable activation arguments to be passed o the new
		process.

The START command is provides a convenient means to activate an iexec or MST
on a remote host.

@@submit
/submit - Compile Selected Modules

The /submit directive allows the user to select one or more modules for
compiling (synonym for /compile command).

Syntax:

	/subm[it] &lt;module1&gt;,&lt;module2&gt;,...,&lt;modulen&gt;

Where:


&lt;module&gt;	Specifies the name of the module to be compiled.

Examples:

/subm fw4cps,mccpfx1356

The fw4cps and mccpfx1356 modules will be compiled.
/subm mccpfx1356

The module mccpfx1356 will be compiled.
@@
/trace - Toggle trace flag for debugging messages

The /trace directive enables or disables (toggles) the printing of debug messages for any DBM
commands that follow.
Syntax:
/trace

@@trim
/trim - Delete Successors of a Point

The /trim directive deletes all successors of an mdd point

Syntax:

	/trim &lt;ptid&gt;,[&lt;level&gt;]

Where:


&lt;ptid&gt;		Is the symbol name of the point whose successors are to be
		deleted.

&lt;level&gt;		Specifies the level to operate on.
		u - User.
		o - ODS (privileged user only).

Examples:

/trim fwpressure21a

The successors of fwpressure21a will be deleted.

@@version
VERSION Command

	The VERSION command will output a brief revision level notice identifying the version of dbm being used. This note includes "Release" (or "Development,
when applicable) followed by a three part release number and date.

</Text>
</Topic>
<Topic>isd<Text>
10.	Interactive Symbolic Debugger

    The Interactive Symbolic Debugger (ISD) provides capabilities for monitoring
and controlling simulation model execution. ISD runs as a separate task which
operates asynchronously from the modules being debugged. It interfaces with the
SimExec database and executives to provide effective control of the simulation
software system. The Interactive Symbolic Debugger when in monitor mode provides
dynamic monitoring of up to 10 screens of 100 variables in each command window
display.

    In addition to the commands discussed in this chapter all DBM commands
(see Chapter 4) may also be performed by ISD. Most of the functionality of ISD
are is available with a point and click interface in jdb (see chapter 11).

@@entry
10.1 ISD entry

    ISD may be activated from a Windows console prompt by typing "isd". Upon
activation, ISD requests the name of the executive to be attached. The user
must respond with an executive name of an active executive task. If no response
is provided to the executive attachment prompt or if ISD cannot find or attach
to the requested executive, an error message will be displayed and ISD will
exit. Upon successful connection, ISD enters its monitor mode with all lines
blank.  Identification of the executive to communicate with may be shortcut by
command line argument or by environmental setting.

	ISD Command line arguments

 isd &lt;executive&gt; {&lt;options&gt; | &lt;select files&gt;} *
	&lt;options&gt; - minus sign followed by one character, asynchronous commands

 isd r &lt;host&gt; &lt;server&gt; &lt;user&gt; &lt;executive&gt; {&lt;options&gt; | &lt;select files&gt;} *
	- to establish remote connection via s3serv

    When the first activation argument is "r" ISD will attach through s3serv to
a remote executive. The executive will be executing on another computer (or
windows session). In this mode all SimExec data references are to the
data base on the s3serv environment.


    When the first activation argument is anything other than "r" it should be
the name of an active executive task. ISD will attach to the executive named,
process any additional arguments, and proceed without the prompting described
above.

	ISD_EXEC environment variable

    If the environment variable "ISD_EXEC" is defined then isd when activated
with no command line arguments will attempt to attach to the executive named
by the variable value.

	ISD_INIT environment variable

    If the environment variable "ISD_INIT" is set it is to identify a command
file for isd to process on entry.


@@monitor
10.1	Monitor Mode

    The monitor mode of ISD provides a dynamic display of up to 40 data items
per screen, with an availability of ten screens. Data items are displayed by
MDD names. The monitor screen also displays status, clock, and timer data,
status of a selected module, and field definition data for one of the line
items.

    In the monitor mode periodically updates the display with values obtained
from the executive. Various single character commands may be performed without
interrupting this continuous update. The question mark key will intterupt 
monitor update and prompt for ISD, commands. The Enter key (or any other key not
assigned to an asyncrhronous action) will also produce the command prompt, with
the difference that ISD will return immediately to monitor mode after most
commands which do not produce scrolled output. ISD will return from prompt or
scroll mode to monitor mode when a null command is entered or after selected
commands (run, step, mon, d20, etc).

@@summary
10.3	ISD Command Summary


    The commands available under ISD are summarized below and discussed in the
following sections.


SINGLE  CHARACTER ASYNCHRONOUS COMMANDS


	? /	issue prompts
	&lt;cr&gt;	(default) issue prompt
	' '	(space) refresh screen
	.	select default screen format
	,	clear error line
	^	shift display up 1 line
	+ =	shift display up 5 lines
	- _	shift display down 5 lines
	0-9	select screen
	c	clear limit data
	d	select description screen format
	e	toggle echo
	f	freeze
	j	shift lines down 1
	k	shift lines up 1
	l	select limit screen format
	m	select 2 collumn screen format
	p	print screen
	q	quit (leave iexec active)
	r	run
	s	step
	u	disable continuous monitor mode
	v	update
	x	exit (inquire on iexec)
	y	show fail

? ! . , ^ + = - _ C D E F J K L M P Q R U V X Y  are also valid from prompt.

ISD Command prompt commands

DISPLAY MANIPULATION COMMANDS

&lt;symbol range&gt; [[,]{&lt;indexs&gt; | &lt;param&gt;}] [ / &lt;line range&gt;] [&lt;override&gt;]*
						display variable
CHAnge [&lt;line range&gt;] { N &lt;name&gt; I &lt;intpar&gt; U &lt;symbol&gt; [T ]&lt;type&gt; &lt;format&gt; } *
{CLear | ER | EA} { $ | [&lt;line range&gt;] }	clear display line(s)
CONt [ { K | D } ]				continue SCAN, SEARCH or &lt;wild&gt;
COPy &lt;integer&gt; [ [,]&lt;integer&gt;]			copy display line
D20						select (default) line display
D40						select 2 column display
Display &lt;symbol range&gt; [&lt;line range&gt;] [&lt;override&gt;]*
[Display] &lt;wild&gt; [ { K | D } ]			display (dump) data by wildcard
DECrement [&lt;line range&gt;]			decrement index
FLIp						swap display lines 1-50 w/ 51-100
INCrement [&lt;line range&gt;]			increment index
^&lt;integer&gt;					shift line contents
LIMit						select limit display format
LINe &lt;integer&gt;					select line info
MODule &lt;module name&gt;				select module
MONitor						return to monitor
MOVe &lt;integer&gt; [,] &lt;integer&gt;			move display line
PACk						pack display contents
PAGe { &lt;integer&gt; | &lt;name&gt; }			restore saved display page
SAVe[+] &lt;page name&gt;				write page save file
SCAN [&lt;module name&gt;] [ { K | D } ]		display or dump cross reference
SEArch [&lt;module name&gt;] [&lt;integer&gt;][ { K | D } ]	display or dump from source
SWitch &lt;integer&gt;				switch display screens

On group display commands (SCAN, SEARCH, &lt;wild&gt;, CONT) the K option indicates
include constants (suppressed by default), D specifies DUMP mode.


DATA MODIFICATION COMMANDS

&lt;symbol range&gt; [[,]{&lt;indexs&gt; | &lt;param&gt;}]  = &lt;expression&gt;	set variable
&lt;symbol range&gt; = &lt;expression_list&gt;		set variable
&lt;line range&gt; = &lt;expression_list&gt;		set variable by display line(s)
[SET] $[&lt;basename&gt;] [&lt;sep&gt;] &lt;expression&gt;	evaluate expression, set base
EXAmine &lt;symbol range&gt; [&lt;override&gt;]*		list and modify data
EXAmine &lt;wild&gt; 					list and modify data
Set &lt;symbol range&gt; [signed real [&lt;repeat&gt;]]	set global data
Set &lt;symbol range&gt; &lt;sep&gt; &lt;expression&gt; [&lt;repeat&gt;] set global data
Set &lt;integer&gt; [&lt;sep&gt;] [&lt;expression&gt;] [&lt;repeat&gt;]	set data by display line

ISD CONTROL COMMANDS

ASYNC { ON | OFF }				disable/enable isd async
ATTach &lt;executive name&gt;				switch executive
CLOSe						close print file
DATE [int],GMTIME,LOCALTIME			control isd clock display format
DCM						disable continuous monitor
ECHo [ { ON | OFf } ]				set or toggle echo mode
ECM						enable continuous monitor
EXIt						exit (inquire if exec)(X)
FReSh						redraw display 
INIt						reset limit data collection
MORe &lt;integer&gt;					set paging logic
Quit						exit (leave exec running)
SUSpend { &lt;integer&gt; | &lt;real&gt; }			set isd update pause
USEr [&lt;uds name&gt;]				attach to alternate uds
WAIt &lt;integer&gt;					pause in seconds
WAIt STEp					pause until step complete
!!&lt;shell command&gt;				perform system command

EXECUTIVE CONTROL COMMANDS

ASYNC						cancel isd synchronization
BRK [&lt;expression&gt;]				insert/remove breakpoint
CIS &lt;SCF command&gt;				send command to SCF
CALl [&lt;module name&gt;]				call module
CLOck [&lt;time&gt;]					set clock
EXEc [&lt;executive name&gt;]				restart executive
FASt [&lt;integer&gt;]				set iexec fast time factor
Freeze						freeze simulation
KIll						terminate load and exit
MODule [&lt;module name&gt;] { In | Out }		enable/disable module
NICe &lt;integer&gt;					alter executive priority
NORmal						set normal time mode
OPTion &lt;executive option&gt;			pass new option select to exec
RATe [&lt;signed integer&gt;]				select time mode
RESet { &lt;icname&gt; | [K,]&lt;integer&gt; }		reset initial condition
Run						request run status
SCHedule &lt;module name&gt;,&lt;integer&gt;,&lt;integer&gt;[,F]	reschedule control module
SLOw [&lt;integer&gt;]				set slow time mode and factor
SNApshot { &lt;icname&gt; | K,&lt;integer&gt; | &lt;integer&gt;[,&lt;password&gt;] }
STAtus [&lt;integer&gt; | &lt;status name&gt;]		request simulation status
STEp [&lt;time&gt;]					request STEP status
SYNC &lt;integer&gt;					synchronize isd update to frames

COMMAND FILE COMMANDS

DEFine @{Symbol | integer} &lt;pattern&gt;		define symbol replacement macro
DO WHILE &lt;expression&gt;				loop within command file
ENDDO						do while block termination
IF &lt;expression&gt; [THEN]				conditional command execution
ELSE						conditional command alternative
ENDIF						conditional block termination
END						select file termination
FILe &lt;file name&gt;				select isd command file
SELect &lt;file name&gt;				select isd command file

INFORMATIONAL LIST COMMANDS

*&lt;comment&gt;
DUMp &lt;wild&gt; [ { K | D } ]			list data
DUMp &lt;symbol range&gt;[[,]&lt;offset_list&gt;] [&lt;override&gt;]*	list data
DUMp SCREEN					scroll screen contents
Help						view this
LI [&lt;expression&gt; , &lt;expression&gt;]		disasemble
LISt &lt;symbol&gt;					list hex/ascii data by name
LISt &lt;expression&gt;, &lt;expression&gt;		list hex/ascii data by address
LOG [&lt;integer&gt;]				scroll screen
LOOk [&lt;module name&gt;][&lt;integer&gt;]		view module source
PGM [&lt;module name&gt;]				load variable addresses
PRInt [ { ON | OFF | &lt;filename&gt;[+] } ]		allocate/deallocate print file
REGs						display registers
SHOw $						display base values
SHOw F						display failure message
SHOw Control					display control modules
SHOw Global					display global table data
SHOw [&lt;module name&gt;][{OUT | K | D}]		dump module map information
SHOw &lt;integer&gt;					dump module map by address
SHOw T [,INIt | K]				display timing information
TITLE [&lt;title&gt;]					list annotation
TRA						debug print toggle

DYNAMIC DATA MODIFICATION COMMANDS

{CLear | ER | EA} {&lt;symbol range&gt; | TABle &lt;symbol&gt; }		clear ddm
DRIVE &lt;symbol range&gt; -&gt; &lt;expression&gt;		calculate by name
DRIVE &lt;line no&gt; -&gt; &lt;expression&gt;			calculate by line
RAMp &lt;symbol range&gt; , &lt;slope&gt; [ ,&lt;stopvalue&gt; [&lt;repeat&gt;]]	ramp by name
RAMp &lt;integer&gt;[,]&lt;slope&gt;[,&lt;stop value&gt; [&lt;repeat&gt;]]		ramp by line
SHOw { DRIVE | DDM | RAMp | SINe | TABle}			dump ddm information
SINe &lt;symbol range&gt; , &lt;amplitude&gt; , &lt;frequency&gt; , &lt;bias&gt; , &lt;damp&gt;	sine
SINe &lt;integer&gt; , &lt;amplitude&gt; , &lt;frequency&gt; , &lt;bias&gt; , &lt;damp&gt;		sine
TABle &lt;symbol&gt; &lt;expression&gt; [&lt;time&gt;]			ddm table definition
TABle CONnect &lt;symbol&gt; &lt;symbol range&gt; [&lt;repeat&gt;]	ddm table attachment
TABle CONnect &lt;integer&gt; &lt;symbol range&gt; [&lt;repeat&gt;]	ddm table attachment




WHERE:

&lt;symbol id&gt;	{ &lt;symbol&gt; | {REAL | IMAG}(&lt;symbol&gt;) }
&lt;symbol range&gt;	{ &lt;symbol id&gt; [ ( &lt;offset list&gt; ) ]
		| {REAL | IMAG}(&lt;symbol id&gt;)}
&lt;offset list&gt;	{ &lt;intpar&gt;[{:|/}&lt;intpar&gt;] | \&lt;expression&gt;} [, &lt;offset list&gt;]
&lt;intpar&gt;	{ &lt;integer&gt; | &lt;parameter symbol&gt; | $[&lt;basename&gt;]}
&lt;line range&gt;  &lt;line&gt;[ { / : } &lt;line&gt;] [,&lt;line range]*
&lt;line&gt;	{&lt;integer&gt; | $&lt;line no&gt; }

&lt;type&gt; { R*4 I*4 I*2 I*1 R*8 L*4 L*2 L*1 {REAL | IMAG}(C*{8 | 16}) H*&lt;integer&gt;}
&lt;format&gt; %[{ + - #]*[0-9]*[.][0-9]*[#]{ c d o u x X f e E g G}
&lt;override&gt; { &lt;type&gt; | &lt;format&gt; | n[,]&lt;name&gt; | u[,]&lt;unit&gt; }
&lt;indexs&gt;  &lt;integer&gt;[ : &lt;integer&gt; ] [, &lt;indexs&gt;]
&lt;time&gt;   [[[[&lt;hours&gt;:]&lt;minutes&gt;]:seconds&gt;.]&lt;frames&gt;]

&lt;expression_list&gt;	&lt;expression_list_item&gt;, &lt;expression_list_item&gt; ...
&lt;expression_list_item&gt;	&lt;expression&gt; | &lt;integer&gt; ( &lt;expression&gt; )

&lt;expression&gt;	{ &lt;expression term&gt; | &lt;arithmetic expression&gt; |
		  &lt;binary expression&gt; | &lt;logical expression&gt; |
		  &lt;relational expression&gt; | &lt;conditional expression&gt; }
					- c precedence rules applied
&lt;expression term&gt;	&lt;ivalue&gt;		- literal value
		&lt;real&gt;				- literal value
		&lt;symbol&gt;			- parameter or global value
		&lt;intrinsic&gt;(&lt;expression&gt;)	- function value
		&lt;symbol&gt;(&lt;subcripts&gt;)		- global data value
		(&lt;expression&gt;, &lt;expression&gt;)	- complex value
		REAL(&lt;expression&gt;)		- real part of value
		IMAG(&lt;expression&gt;)		- imaginary component of value
		.				- result of last expression
		$				- result of last base evaluation
		$&lt;basename&gt;			- recall value
		#&lt;symbol&gt;			- module entry point
		&amp;&lt;symbol&gt;[(&lt;subscripts&gt;)]	- global data address
		$&lt;integer&gt;			- display line value
		$&lt;integer&gt; { HIGH | LOW }	- display line limit value
		DIMENsion(&lt;symbol&gt;)		- mdd dimensionality
		char(.)				- ascii character
		char(....)			- four ascii characters
		( &lt;expression&gt; )		- parenthesized expression

&lt;arithmetic expression&gt;	     - &lt;expression&gt;	- unary negation
		&lt;expression&gt; - &lt;expression&gt;	- minus
		&lt;expression&gt; + &lt;expression&gt;	- plus
		&lt;expression&gt; * &lt;expression&gt;	- multiply
		&lt;expression&gt; / &lt;expression&gt;	- divide
		&lt;expression&gt; % &lt;expression&gt;	- remainder
&lt;binary expression&gt;          ~ &lt;expression&gt;	- binary negation
		&lt;expression&gt; &amp; &lt;expression&gt;	- binary and
		&lt;expression&gt; | &lt;expression&gt;	- binary or
		&lt;expression&gt; ^ &lt;expression&gt;	- exclusive or
		&lt;expression&gt; &gt;&gt; &lt;expression&gt;	- shift right
		&lt;expression&gt; &lt;&lt; &lt;expression&gt;	- shift left
&lt;logical expression&gt;         NOT &lt;expression&gt;	- logical negation
		&lt;expression&gt; AND &lt;expression&gt;	- logical and
		&lt;expression&gt; OR &lt;expression&gt;	- logical or
		&lt;expression&gt; XOR &lt;expression&gt;	- logical exclusive or
		&lt;expression&gt; EOR &lt;expression&gt;	- logical exclusive or
		&lt;expression&gt; NEQV &lt;expression&gt;	- logical exclusive or
		&lt;expression&gt; EQV &lt;expression&gt;	- logical equivalence
		&lt;expression&gt; &amp;&amp; &lt;expression&gt;	- logical and
		&lt;expression&gt; || &lt;expression&gt;	- logical or
&lt;relational expression&gt;
		&lt;expression&gt; LT &lt;expression&gt;	- less than
		&lt;expression&gt; GT &lt;expression&gt;	- greater than
		&lt;expression&gt; LE &lt;expression&gt;	- less than or equal
		&lt;expression&gt; GE &lt;expression&gt;	- greater than or equal
		&lt;expression&gt; NE &lt;expression&gt;	- not equivalent
		&lt;expression&gt; EQ &lt;expression&gt;	- equivalent
		&lt;expression&gt; &lt; &lt;expression&gt;	- less than
		&lt;expression&gt; &gt; &lt;expression&gt;	- greater than
		&lt;expression&gt; &lt;= &lt;expression&gt;	- less than or equal
		&lt;expression&gt; &gt;= &lt;expression&gt;	- greater than or equal
		&lt;expression&gt; != &lt;expression&gt;	- not equivalent
		&lt;expression&gt; == &lt;expression&gt;	- equivalent

&lt;ivalue&gt; { &lt;integer&gt; | F | T | .FALSE. | .TRUE. }

&lt;intrinsic&gt; { ABS ACOS ASIN ATAN CEIL COS EXP FABS FLOOR FMOD LOG
	 MAX MIN POW 'SIN' SQRT TAN }	- math library functions

&lt;integer&gt; [0-9]+ | 0X[0-9A-F]+ | X'[0-9A-F]+'
&lt;sep&gt;	= | ,


names which collide with other syntax must be enclosed in quotes.
Commas are allowed in many additional locations, they are usually required 
where shown above.

isd uses the following markings in the display column between the line number
and symbol name to note unusual line definition attributes.
 '.'	(period)	user development system level point is displayed
 '*'	(asterisk)	point definition modified since executive loaded
 '#'	(pound)		point data type definition overridden
 '$'	(dollar)	display name changed
 '+'	(plus)		index exceeds defined array bounds


isd environment variables:

S3_PRINT	sh command template for printing
ISD_INIT	initialization command file
ISD_PAGES	directory path for isd page files
ISD_SELECT	second chance directory for command files
S3_SELECT	additional alternate directory for command files
NO_BELL		set to disable audible alert on status change and error
ISD_EXEC	to identify default executive (on no argument activation)


10.3 ISD Commands

ctrl c - Interrupt/Cancel Scroll Output

    Various commands result in the scrolling of output to the screen. This
command/keystroke allows the user to cancel out of the scrolled output and
return to the ISD prompt.

=, +, ^, k, K  Shift Monitor Display

    The =, + OR K commands shifts the ISD monitor line display forms up by
five lines. The ^ or K command shift it up by one line. The k and K are
circular in behavior.  These commands may be entered asynchronously or at a command prompt.

   The ^ operator may be combined with a number to explicitly set the top line
number of a limited line display.

Syntax:
	^&lt;n&gt;

Where:
	&lt;n&gt;	Specifies the new line that should be the screen base line.


-, _, j, J - Shift Symbol Display Down

    The -, _, J commands shifts the symbols displayed on the line monitor
formats down by five lines. The J command shifts down by one line. The J and j
are circular in behavior. These commands may be entered asynchronously during
monitor update mode.



!! Invoke Shell Processor
The '!!' command invokes the shell processor and allows the user to enter one
Windows command. While processing the action, ISD will remain in the state
it was left in.


@@async
async - Asynchronous Update of ISD Screen


    The async command returns the executive mode to asynchronous ISD update.
That is: it cancels the mode entered by the sync command. This is the default
setting for the SimExec executive. See sync command for additional explanation.

Syntax:
	async



@@attach
attach - Attach to another Executive

    The attach command allows the user to detach from the current executive
and attach to another executive task. 

Syntax:
	attach &lt;executive name&gt;
Where:

&lt;executive name&gt;	Is the name of the new executive to attach to.

Example: 

attach rtexec10

ISD will detach from the current executive and then attach the ISD session to
the executive task named rtexec10. The attach command is also recognized by
dbm. Upon successfull executive attachment dbm will perform as ISD.




@@brk
Brk - Insert a breakpoint

   The break command inserts a breakpoint in the executive. This form of
breakpoint is very different from (and therefore not redundant to) the
breakpoint facility of standard debuggers such as the Visual Studio debugger.
When the executive execution reaches the breakpoint it collects data for 
the next update of the ISD monitor screen and then continues execution. The
breakpoint is re-inserted after each monitor update.

    Break with no argument removes any active ISD breakpoint. 

    When a breakpoint is active the monitor screen data values are updated when
the selection of values is changed and after the breakpoint is executed. If the
breakpoint is not executed within the ISD monitor update interval then
old data will be displayed. The location (as hexadecimal address) of the 
breakpoint is included on the d20 or ISD style screen format with 2 characters
giving a status indication for the data displayed. The first of these characters
will take the value 'O' for old, 'N' for new to indicate whether old or new
data is being displayed. The second will take the value 'T' to indicate the
values were collected at the breakpoint, or 'N' to indicate the values were not 
collected at the breakpoint.

Syntax:
	brk [&lt;location&gt;]
Where:


&lt;location&gt;	Is the location to place the breakpoint. This would most simply
		be the entry point of a module. Identification of addresses
		corresponding to specific lines within a module can be found
		by selecting assembly listing in the Visual Studio Debugger.



@@call
call - Execute a Module

    The call command with a single argument requests the executive to perform a
single, out of sequence call to a control, segment, or component module,
resulting in one pass through the module completely outside the normal
scheduling. The call command with no argument will, when applicable, perform
such a call to the module whose status is monitored on the isd display.

Syntax:
	call [&lt;module&gt;]
Where:

&lt;module&gt;	Is the name of a module.

    The call command with 2 arguments is quite different. It supports a call
to a module registered within the attached executive specifically for this
service.  An argument string will be passed from isd to a user defined routine
executing in the executive. The service may return a text string which will be
displayed by ISD.

Syntax:
	call &lt;registered service&gt; &lt;argument string&gt;
Where:

&lt;registered service&gt;	Is the name of a service which has been registed in
			the attached executive.

&lt;argument string&gt;	A string value which will be passed to the registered
			service routine.

    The SimExec executive has a routine allowing c modules loaded in the
executive to register on-demand services available through the isd to executive
communication mechanism. The prototype for this routine is as follows:

	int	exec_registerDS(
			char *ServiceName,
			void (*m29service)(char *input, int inputLength),
			int (*m31service)(char *input, int inputLength,
				char *outputbuffer)
		);

@@change
change - Modify Parameters Related to Display Line

    The change command is used to modify various fields in a symbol display
line.
Syntax:

	cha[nge] &lt;line range&gt; &lt;change specifiers&gt;

	&lt;change specifier&gt;:

		i &lt;index&gt;
		n &lt;name&gt;
		u &lt;units&gt;
		[t=] &lt;type&gt;
		%&lt;format&gt;


Where:


&lt;line range&gt;	Is the monitor table line number of the symbol(s) to be changed.

&lt;name&gt;		Display name for symbol on &lt;line&gt;.

&lt;index&gt;		Is a new array index for the symbol. This may be specified as
		an integer or a parameter name.

&lt;type&gt;		Is the type code. Valid entries are:
			r*4, r*8, i*4, i*2, i*1, c*8, c*16, l*4, l*2 and l*1.
		(The asterisk (*) is optional).

&lt;units&gt;
		Is the new, (to six characters), units of measure displayed for
		the symbol.

&lt;format&gt;	Is the new output display format, given in the form of a C
		printf format descriptor. Valid format consist of the
		following syntax:

		Syntax:
			%[-]&lt;mm&gt;.&lt;nn&gt;&lt;t&gt;
		Where:


		&lt;mm&gt;	Is the (integer) minimum field width.
		&lt;nn&gt;	Is the precision of a floating point number.
		&lt;t&gt;	Is the format type: d - integer, o - octal integer,
			u - unsigned integer, x or X - hex integer,
			f - fixed point real, e or E - exponential format,
			g or G - shorter of f or e, c - char.

Examples: 

	change 3,I/102

		Sets the array index of the symbol displayed on line 3 to 102.

	change 14,u="deg c"

		Changes the units of measure for the symbol displayed on line
		14 to "deg c"

	change 10,%4.2f

		Changes the output display format for the symbol displayed on
		line 10 to be a real, with at least four positions, two of
		which will be to the right of the decimal point.


@@clear
clear -		Clear Data Display Lines

	The clear command clears or "erases" a selected monitor table symbol
    display line or a range of lines.

    Syntax:

	cle &lt;line&gt;[/&lt;line&gt;][,&lt;line&gt;]

    Where:


	&lt;line&gt;		Is the number of a display line.
	/&lt;line&gt;		Indicates to clear an inclusive range of lines.
	,&lt;line&gt;		Indicates to clear additional lines (or ranges).

    Examples: 

    cle 15

		Clears/erases the symbol displayed on line 15.

    cle 1/3

	Clears display lines 1 through 3.





clear $  -	Clear Named Values

   	The clear $ command removes all ISD named base values.

    Syntax:

    clear $





clear id -	Disconnect a Point from DDM

	The clear &lt;id&gt; command will disconnect a point from DDM processing.

    Syntax:
	clear &lt;ptid&gt; [(&lt;index&gt;)]
    Where:

    &lt;ptid&gt;	Is a variable name being driven by dynamic data modification.
    &lt;index&gt;	Is the array element index if the symbol is an array. The
		index may be expressed as an integer, a MDD parameter, or an
		arithmetic expression (see Appendix B). It may be specified as
		a single element, list of elements separated by commas, or
		range of elements separated by a slash in the form 
		&lt;low&gt;/&lt;high&gt;. If no index value is supplied, all elements
		within the array will be cleared.




clear m	-	clear unused message queues and memory partition

	The "CLEar M" command will remove any unused executive message queues
    and memory partitions from the system. On Linux systems these may persist
    after the tasks which created them are no longer active (principally when
    the tasks have exited abnormally).



clear table - Clear a DDM table

	The clear table command will clear a ddm table.

    Syntax:

	clear table &lt;table name&gt;

    Where:


    &lt;table name&gt;	Is a previously defined table.



@@clock
clock - Set the Simulated Time Clock

The clock command is used to set the simulated clock.

Syntax:

	clock [[[[ &lt;hh&gt;:] &lt;mm&gt;:] &lt;ss&gt;.] &lt;ff&gt;]

Where:


&lt;hh&gt;		Is the hours. This can range from 0 to 255.
		NOTE:  The problem time is normally record of how long the
		simulation has been running since IC reset, not a time of day.
&lt;mm&gt;		Is the minutes. This can range from 0 to 59.
&lt;ss&gt;		Is the seconds. This can range from 0 to 59.
&lt;ff&gt;		Is the frame. This can range from 0 to (number of frames - 1).

NOTE:  The no entry will set the clock time to 0. Initial condition reset
operations will set the clock time to 0 hours, 0 minutes, 0 seconds and snapshot
frame.

Examples: 

clock 12:54.6

The problem clock time will be set to 0 hours, 12 minutes, 54 seconds, and 
frame 6.

clock 16:08:30.0

The problem clock time will be set to 16 hours, 8 minutes, 30 seconds, and 
frame 0.

clock 5

The problem clock time will be set to 0 hours, 0 minutes, 0 seconds and frame 
5.



@@close
close - Close a Print Request
The close command will terminate a print on request without sending the output to the printer. 
The print file is closed and may be reviewed after exiting ISD.
Syntax:
close



@@cont
continue - Continue Scan or Search

The continue command is used after a scan, search display &lt;wildcard&gt;, or dump &lt;wildcard&gt; command 
to display additional symbols. These commands may produce more symbols than will fit on the 
ISD screen. Clearing unwanted symbols or swapping screens provides additional display lines for 
more symbols to be displayed via the continue command. Use the d option to continue display in 
the dump mode.

Syntax:

	continue	&lt;flags&gt;

Where &lt;flag&gt; values are as follows:


k	Will include constant symbols display. (The scan and search commands default to
	excluding constants). Constant symbols/global partitions are defined by a vcopt 
	of c in the .value.

d	will display symbols in the "dump" format. That is values are scrolled, rather than
	added to a monitor display.

V	Reverses of the K option. That is if the previous command whose results are being
	continued was including constants, the continuation will no longer do so.

X	Examine mode. Will continue the action in examine mode. Data item names and values
	will be displayed, with a wait for user input at each line allowing input of a patch
	value.

B	Will "Bump" the output to the next data item. That is, if the process being continued
	was in the midst of outputting an array or structure, the continuation will skip to
	the next symbol in the set, rather than continue with the elements or members of that
	item.

M	Reverses the D option. That is, if the process being continued was operating in Dump
	mode (scrolling lines), the continuation will add items to the monitor display.


N	When the output process is in Dump mode (scrolling lines), the N option will suppress
	insertion of descriptive lines for each new symbol.

	



@@copy
copy - Copy Display Lines

The copy command copies a symbol displayed on one line to another line.

Syntax:
	cop &lt;from&gt;[,&lt;to&gt;]
Where:


	&lt;from&gt;
		Is the current line on which the symbol is displayed.

	&lt;to&gt;
		Is the line on which a copy of the symbol should be placed. If omitted, will be 
		the first line of the display.

Example: 

cop 6,9

A copy of the symbol displayed on line 6 will be placed on line 9.

@@d20
d20 - Set Monitor Tableau Up for default format
The d20 command sets the monitor tableau its default format. In this setting, 
relevant symbol and state information is displayed to the left of monitored
data value display. This is the default setting upon entering ISD.
Syntax:
d20
NOTE:   In the screen update mode, without ISD prompt, the (.) command performs the same function as 
d20.

@@d40
d40 - Set Monitor Tableau 2 column display
The d40 command sets the monitor tableau up to display symbols in 2 columns. In this 
setting, only the symbol name, index, and value are displayed. The asynchronous command "m" 
is equivalent.
Syntax:
d40 or m

@@dcm
	dcm - Display Prompt Command

    The dcm command tells ISD to display another prompt after executing the current command.
That is: it is to Disable Continuous Monitor mode. To exit this mode, use the ecm command.


Syntax:
dcm

NOTE:   When in the screen update mode, without the ISD prompt, the u command performs the same 
function as dcm.

@@date

	date - Alter problem time display format

   The date command tells ISD to display the executive problem time in an alternate format. 
GMTIME command is also available as a synonym for "date 1", and "LOCALTIME" as 
synonymous with "date 2".

Syntax:

	date [&lt;integer&gt;]

Where:
	[&lt;integer&gt;]
		0 - Display problem time in days, hours:minutes:seconds.frames format
		1 - Interpret problem time as universal time and display in date and time format.
		2 - Interpret problem time as universal time and display in date and time format with local 
			time adjustment.
		3 - Display problem time in seconds

@@
dd - Delete a Line  
The delete command is used to delete or clear a symbol from a specified line (synonymous to the 
clear command).
Syntax:
dd &lt;line&gt;
Where:


&lt;line&gt;
Is a line number, list of line numbers separated by commas, or a range of lines 
with a colon separating the range limits.

@@decrement

Decrement - decrement array index
The decrement command is decrements the array index of the symbol displayed on a specified ISD 
monitor display line.
Syntax:
decrement &lt;line&gt;
Where:


&lt;line&gt;
Is a line number.

@@def
def - Define Symbol
The define command defines an ISD macro replacement symbol.
Syntax:
def  @&lt;defname&gt; &lt;defvalue&gt;
Where:


&lt;defname&gt;
may look like either a symbol or integer
&lt;defvalue&gt;
may be either a simple symbol or a construct of simple symbol fragments and 
@&gt;defname&gt; elements to be concatenated together.
Examples: 

define @prefix abc


define @base mytag


define @suffix xyz


define @sym1 @prefix @base @suffix "1"


display @sym1  would display "abcmytagxyz1"

@@desc
desc or idtd - Display Brief Descriptions

The desc command switches the monitor display format to include the brief descriptions of 
displayed symbols.
Syntax:
desc
NOTE:   When in the screen update mode, without the ISD prompt, the d command performs the same 
function as desc.
Syntax:
d

@@display

	display - Display a Symbol

    The display command specifies a symbol that is to be displayed on the first available line of the 
monitor tableau. If the symbol to be displayed is a complex number, the real part will display on 
one line, with the imaginary part on the next available line. 

    The display command is the ISD default command. A symbolic name can be entered with no 
leading command keyword.

Syntax:

	&lt;ptid&gt; [(&lt;index&gt;)] [/&lt;line&gt;] [%&lt;form&gt;]
                  or
	d[is[play]] &lt; ptid &gt; [(&lt;index&gt;)] [[,] &lt;line&gt;] [%&lt;form&gt;]

Where:


&lt;ptid&gt;
	    Is the symbol name to display. Wild card characters (question mark for single 
	character, asterisk for wild string) may be used to specify a series of symbols.
	NOTE:  A symbol name will not be recognized matches an isd or dbm command keyword.
	Explicitly use of the dis[play] keyword, or surrounding the name with quote marks
	will avoid this possibility. The symbol name may include the wild card characters
	"*" and "?". 

&lt;index&gt;
	    Is the array element of the symbol. The index may be expressed as an integer, 
	a valid parameter, or an arithmetic expression (see Appendix B). The index 
	may be a single element, a list of elements separated by commas, or a range of 
	elements separated by a slash or colon. If no index is supplied then all 
	elements will be displayed.

&lt;line&gt;
	    Is the line number of display the point on. &lt;line&gt; may be a single integer, a list 
	of integers separated by commas or a range separated by a colon. If not 
	supplied will use first blank line in display.

&lt;form&gt;
	    Format to display value in, expressed in the C library printf format. Valid 
	specifiers are d for integer, u for unsigned integer, o for octal, x for hex, f/e/g 
	for real.

D with no arguments changes screen to desc mode (IDTD/DESC).

Examples: 

display pressure271ab %9.3f

The symbol pressure271ab will be displayed on the first available line of the 
monitor tableau in fixed format with 3 places of precision. If this symbol is an 
array, all of its elements will be displayed.
temperature2a(10) /18

Array element 10 of the symbol temperature2a will be displayed on line 18 of 
the monitor tableau.
display itempa1(3/7)

Array elements 3 through 7 of the symbol itempa1 will be displayed, starting 
at the first blank line on the display.
fwpressurehi(7,10,12/16) / 11:17

Array elements 7, 10, and 12 through 16 of the symbol fwpressurehi will be 
displayed on lines 11 through 17 of the display.
@@dll
dll - Attach to dll load
 
The dll command alters the ISD executive attachment to connect to a dll load in a multi-load 
executive.  All symbols originally displayed will remain displayed.
Module and global data will thereafter be from the name space of the 
dll thread load rather than the executive root.
Syntax:
dll &lt;dll name&gt; 
@@drive


	Drive - Add variable drive calculation

    The drive command will add an interpreted calculation and the set of a
variable to the executive execution.  Each frame, the executive will calculate
the result of the entered expression and assign the resulting value to the
point identified. 

    The assignment will continue to execute at the frame cycle rate of the
executive until it is explicitly removed or the executive exits (it will not be
cleared by initial condition reset, nor will it be recorded by snapshot).

    To remove a variable drive calculation use the drive command with no
expression (That is "isd&gt;DRIVE &lt;variableid&gt;-&gt;").

Syntax:

	drive &lt;variable id&gt;-&gt;[&lt;expression&gt;]

		or

	drive &lt;line number&gt;-&gt;[&lt;expression&gt;]

Where:


    &lt;variable id&gt;

	    Symbolic variable identification of a global data item whose value
	is to be set. May be a scalar variable or a specific array or structure
	element. Must resolve to a single item of type integer, logical, or
	real.

    &lt;line number&gt;

	    A line number be substituted for the variable identifier. The
	expression will be applied to the item being displayed on the
	designated isd monitor line.
 
    &lt;expression&gt;

	    An arithmetic expression. May contain global data symbolic
	references, mdd parameters, literal values, basic arithmetic functions,
	and c or Fortran arithmetic, boolean, or relational operators.

@@fresh
ds or mon or fresh - Redraw the Monitor Screen
The ds command refreshes the monitor tableau. All symbols originally displayed will remain 
displayed. On this refresh, isd will check the current display window size and adjust its
display as appropriate.

Syntax:
ds  or  fresh  or  mon
NOTE:   When in the screen update mode, without the ISD prompt, the space bar performs the same 
function.

@@dump
	ISD Dump commands 

Dump Page 

	The dump page command reads an ISD page file, (as created by the save
    page command) and produces a dump of the corresponding page with current
    values.

    Syntax:

		dump page &lt;page name&gt;

    Where:

	&lt;page name&gt;	Is the page name of a previously saved isd page
			definition file.

	If print mode is on, the page dump will be echoed to the listing
	file.

Examples: 

	dump page 10

		Page 10 will be printed, current screen data will not 
		be effected.

	dump page fw10

		Page fw10 will be dumped, current screen data will not be
		effected.


Dump Screen

	The dump screen command produces a listing corresponding to the
    current monitor display.

    Syntax:

		dump screen

	If print mode is on, the screen dump will be included in the print file.

    See also: LOG - the isd log command produces a repeating screen dump.

Dump value

	Dump &lt;ptid&gt;[&lt;index range&gt;][&lt;type, format override&gt;][&lt;flags&gt;

	Where:

	    &lt;ptid&gt;

		Is an mdd symbol to be dumped.  If the symbol name
	    coincides with an isd or dbm keyword it must be enclosed in
	    quotation marks. Wild card symbol specification (with "?" for
	    single wild card character, or "*" for wild string) may be
	    specified. When a wild card is not used array index ranges, and
	    type and format overrides may be specified.

	    &lt;index range&gt;

		A parenthetic list of array offset ranges.

	    &lt;type, format overrides&gt;

		dbm/isd type code overrides (e.g. i*4, r*4 etc), and c library
	    printf style format overrides will be recognized.


	    &lt;flags&gt;

		K	- include constants - When the wildcard symbol dump is
			selected isd default is to omit items defined in the
			mdd as constants. The K option dump tells isd to include
			 constants. 

		D	- dump format - the dump command with no point specified
			may be used to continue the most recent wild card, scan,
			or search list in dump mode.

		B	- bump - When continuing the 'B' flag instructs isd to
			skip over remaining elements in the current symbol.

		X	- examine - equivalent to specifying the examine command

		N	- no heading - instructs isd to omit a heading listing
			mdd information for each point listed.

		M	- monitor - adds points to current monitor screen

		V	- variable - cancels the K mode.


	    The flags recognized by dump are common to the wild card default
	command, and the examine, scan, search, and continue commands.

	Dump output will be printed to screen and if print mode is on will be
	echoed to the print file.

Examples: 

dump pressure21a

The symbol pressure21a will be dumped. If the symbol is an array, all 
elements will be dumped.
dump item2a(23)

Array element 23 of the symbol item2a will be dumped.
dump item2a(2/5,10,19)

Array elements 2 through 5, 10, and 19 of the symbol item2a will be dumped.

@@echo
echo - Enable/Disable Last Command Display
The echo command allows the user to turn on or off the display of the last command entered. If 
echo is enabled, 1) in monitor mode the last command entered will be displayed on the bottom 
line of the ISD screen, 2) if a select file is being processed, each line/command of the select file 
will be displayed on the bottom line of the ISD screen, and 3) if print on was selected, each 
entered command will be written to the print file.
Syntax:
echo &lt;option&gt;
Where:


&lt;option&gt;
Specifies the option that should be passed to ISD. Valid options are:
*	on - Turns on echo (enable display of last command).
*	off - Turns off echo (disable display of last command).
NOTE:   echo mode can be toggled on and off, in screen update mode or monitor mode, simply by 
entering "e".
@@ecm,dcm
ecm - End Initiate Prompts
The ecm command (Enable Continuous Monitor) terminates the dcm mode that provides prompts 
after each command. This is the default mode of ISD and allows the screen to update without 
user action.
Syntax:
ecm
@@exec
exec - Re-activate Real Time Executive
The exec command initiates exit the attached real time executive, and re-activation of a new 
executive image by MST. This command is only applicable to the real time executive.
In addition to replacing the executive, MST will also re-initialize global data partitions with their 
default values.
Additional instances of ISD attachment to the executive may interfere with this process.  If the 
executive re-initialization should fail, system recovery can usually be accomplished by attaching 
ISD to another real time executive and requesting status conf. 
Syntax:
exec
@@examine
Examine - Examine Symbol 
The examine command displays current data for a symbol or symbols in the dump command 
format, and for each line displayed reads user input to set a new value.  For each line a new value 
may be entered, or &lt;enter&gt; leaves the data item unchanged and continues with the next element.  
Space followed by &lt;enter&gt; terminates the examine operation.
Syntax:
examine &lt; ptid &gt;[(index)] [&lt;type / format override&gt; | k]                       
Where:


&lt;ptid&gt;
Is the symbol to be examined. The symbol name can include the wild card 
characters "*" and "?". If the symbol name is only a single character, starts 
with a digit, contains a colon (":") or a wild character, then the symbol must 
be enclosed in quotes..
&lt;index&gt;
Is the array element index if the symbol is an array. The index may be 
expressed as an integer, a valid parameter, or an arithmetic expression (see 
Appendix B). It may be specified as a single element, list of elements 
separated by commas, or range of elements separated by a slash in the form 
&lt;low&gt;/&lt;high&gt;. If no index value is supplied, all elements within the array will be 
dumped.
&lt;type / format 
override&gt;
When a specific symbol is selected for dump, data type and format specifiers, 
as defined on the change command description may be used. 
k
When the wildcard symbol dump is selected the default is to omit items 
defined by the mdd to be constants. The K option dump includes constants.
@@fast
fast - Set Time Rate to Fast
The fast command shortens the pause time between frames for an IEXEC.
Syntax:
fast [&lt;n&gt;]
Where:


&lt;n&gt;
Is the number to be divided into current interval to determine the pause time 
between frames. If omitted, will assume a value of 2.
Examples: 

fast 10

The pause time between frames will be 8.3 milliseconds, assuming 12 
frames/sec (1000/&lt;frames/sec&gt; / &lt;n&gt; = 83 / 10 = 8.3).
This form of fast time does not function in a MST / real time executive 
environment. When the calculated interval is below 8 milliseconds, there 
iexec will execute frames as rapidly as available processor time will allow 
with no pause.
@@flip
flip - Swap Left and Right Column of Symbols
The flip command is used to swap left with right collumns of the side-by-side
display. For example: line 1 with 21, 2 with 22, ... 20 with 40.

Syntax:
	flip
@@freeze
frz - Set Status of Executive to Freeze
The frz command changes the status of the executive to freeze.
Syntax:
frz or f
NOTE:   When in the screen update mode, without the ISD prompt, the f command performs the same 
function as frz.
@@incre
Increment - Increment array index
The increment command is increments the array index of the symbol displayed on a specified ISD 
monitor display line.
Syntax:
increment &lt;line&gt;
Where:


&lt;line&gt;
Is a line number.
init - Reset Limits Tracking
The init command resets the tracking of low and high limits for the displayed symbols in the 
IDTL mode.
Syntax:
init
NOTE:   When in the screen update mode, without the ISD prompt, the c command performs the same 
function as init.
@@kill
kill - Terminate Load
The kill command will change the status to terminate and the executive (and MST if real-time) 
will terminate.
Syntax:
kil[l]

@@limit
lim - Display Symbol Limits
The lim command will display the current, low, and high values for every displayed symbol.
Syntax:
lim
NOTE:   When in the screen update mode, without the ISD prompt, the l command performs the same 
function as lim.
@@line
line - Select a Line for Additional Information
The line command select a monitor tableau line for which additional information (type, address, 
base and format) is desired. This additional information will then be displayed at the bottom right 
of the ISD (single collumn) monitor tableau.
Syntax:
line &lt;n&gt;
Where:


&lt;n&gt;
Is the line number for which additional information is desired.
Examples: 

line 4

Additional information for the symbol displayed at line 4 will be placed in the 
lower right of the monitor tableau. Additional information is automatically 
displayed for the last displayed symbol.
list - List data
The list command will produce a scrolled style listing or dump of a data item in side by side 
hexadecimal and ascii format.
Syntax:
list &lt;variable&gt;
Where:


&lt;variable&gt;
Global data symbolic variable name.
lock - Restrict ISD set command
The lock command when turned on will restrict setting values in ISD. Attempted sets in ISD will 
generate FAIL.
Syntax:
lock &lt;status&gt;
Where:


&lt;status&gt;
On to disable ISD set and off to re-enable set.

@@log
log - Continuous Dump Screen
The log command performs a repeated dump screen function to produce the data content of an 
ISD monitor session on a listing. 
Syntax:
log [&lt;n&gt;]
Where:


&lt;n&gt;
Is an optional repeat count. If absent the log will perform a single screen 
dump.
NOTE:  You may use the suspend command to space out the dump screens.
Examples: 

log 5

The monitor screen will be dumped 5 times.
@@look
look - Display Module Source Code
The look command allows the user to display the source code for a particular module. After 
invoking this command, the user will be presented with the source code via more. All more 
commands may be used from that point on to look through the module's code.
Syntax:
look [&lt;mname&gt;] [&lt;equation&gt;]
Where:


&lt;mname&gt;
Is the name of the module whose source code is to be displayed. If omitted, 
will display the source code of the last module specified by MOD command.
&lt;equation&gt;
Is the equation number at which to start displaying the module source code. If 
omitted, ISD will display from the beginning of the module.
Examples: 

look fw4cps

The source code for fw4cps will be displayed. 
NOTE:  If an ODS module is loaded, look will display the source at the ODS.
@@mod,module
mod - Control and Display Module Status
The module command controls and/or displays the status of a module for the ISD mode screen. 
Syntax:
 
	MODULE &lt;mname&gt; [ in | out ]
Where:


&lt;mname&gt;
Is the name of the module. If omitted with in/out specified, it will work on the 
currently displayed module.
*	in - Enables running of the module.
*	out - Disables running of the module. (Executes a return whenever called.)
Examples: 

mod amc153

Displays the status of module amc153.
mod alg153 out

Displays the status of module alg153 and disables it from running.
@@more
more - Redefine Page (Screen) Size
The more directive allows the user to redefine the number of lines to display before pausing for 
user input to continue.
Syntax:
more &lt;n&gt;
Where:


&lt;n&gt;
Is the number of lines to display before pausing.
NOTE:    0 will assume an infinite page and not pause until all data has been 
written to the screen.
default.
The default page size is determined by your terminal type definition. The 
more command does not apply to output of the LOOK command.
Examples: 

more 10

Ten lines of information will be displayed before ISD pauses.
mov - Move a Symbol to a New Line
The mov command moves a symbol from one line to another.
Syntax:
mov &lt;from&gt;,&lt;to&gt;
Where:


&lt;from&gt;
Is the current line on which the symbol is displayed.
&lt;to&gt;
Is the line to which the symbol should be moved.
Examples: 

mov 6,9

The symbol currently displayed on line 6 will be moved to line 9.
normal - Set Time Rate to Normal
The normal command sets the pause time between frames back to its default setting 
(1000/#(frames/sec) milliseconds). That is it cancels  SLOW or FAST rate, returning the system 
to normal real-time mode.
Syntax:
normal

@@option

	option - Reset executive option

	    The option command requests that the attached executive process a
	new value for an activation option. 

	    Many aspects of executive operation are controlled by executive
	activation options, most of these may be changed online by this command.
	See "help exec".

Syntax:

    option &lt;option selection&gt;

Where:

&lt;option selection&gt;
		Any of the executive activation option selections.


Examples: 

option -i

	Automated module out function on simulation module failure is disabled.

option -F debug

	Just in time debug pop-up on simulation exception is enabled..
@@pack

	pack - Consolidate Display Lines

    The pack command moves all displayed symbols to first set of adjacent lines.
Syntax:

pack

@@page

 	page - Recall a Saved Page

    The page command recalls and displays a previously saved page.

    A directory for page files may be specified by the ISD_PAGES environment
variable. If it is not defined then the isd default directory will be used.



Syntax:

	page &lt;page&gt;

Where:


&lt;page&gt;
		Is the up to 8 character alphanumeric name of the previously
		saved page to be displayed.

Examples: 

page 3

The monitor screen previously saved as page 3 will be redisplayed.

page fw3

The monitor screen previously saved as page fw3 will be redisplayed.

@@print

	print - Opening or Closing a Printer Connection

    The print command will dump the current screen to the printer or open/close
a print file to collect all print (and dump) request. When no file name is given
ISD will use the convention 'ISD%&lt;n&gt;&lt;login&gt;', where &lt;login&gt; is the login name
of the user and &lt;n&gt; is a sequence number incremented each time a new print file
is generated. (Multiple ISD sessions will overwrite previous files.)

Syntax:
print  or   print on  or   print off   or   print &lt;filename&gt;  or   print &lt;filename&gt; +
Where:


print
Performs a one-shot dump of the screen. If print on has been specified the data 
will be added to the print file, else a new file is created, closed and sent to the 
printer.
print on
Opens a print file if not already open.
print off
Closes the print file and sends it to the printer.
print 
&lt;filename&gt;
Will close the current print file if one is active and open the designated file as 
an ISD print file.
print 
&lt;filename&gt;+
Will close the current print file if one is active and open the designated file in 
append mode as an ISD print file.
NOTE:   When in the screen update mode, without the ISD prompt, the p command performs the same 
function as print.
Syntax:
p
Exiting ISD without a print off command will close the print file without sending it to the printer.
@@quit
q - Disconnect Executive
The q command disconnect executive connection. This command can be given at the ISD prompt 
or while the screen is updating, without the ISD prompt. It will disconnect from ISD and 
terminate the executive.  The x command will prompt the user to decide to terminate the 
executive or not.
Syntax:
q  or  x
NOTE:  Do not leave an IEXEC active and running, it takes up computer resources.
@@ramp

    ramp - Vary a Point Using a RAMP Function

	    The ramp command will change the value of a point using a ramp
	function. The ramp slope is set by entering a number corresponding to
	the amount of the change per minute. In effect this number is added to
	the current value of the point over the period of a minute. If a stop
	value is given, the ramping function is automatically cleared when the
	value of the point is equal to the stop value. (That is: Value will be
	limited to the stop value.) If no stop value is given, the ramp action
	will continue until removed.

    Syntax:

	ramp &lt;line&gt;,&lt;slope&gt;,[&lt;stop&gt;[,&lt;rep&gt;]] 	

	or

	ramp &lt; ptid &gt;[(&lt;index&gt;)],&lt;slope&gt;,[&lt;stop&gt; [,&lt;rep&gt;]]

    Where:


	&lt;line&gt;	Is the ISD line number where the point is displayed.

	&lt;ptid&gt;	Is a legal variable name. If the variable to be ramped is of
		type complex, the components of the complex number has to be
		addressed independently (i.e. real(&lt;complex variable&gt;) or
		imag(&lt;complex variable)).

	&lt;index&gt;	Is the array element index if the symbol is an array. The
		index may be expressed as an integer, a valid parameter, or an
		arithmetic expression. It may be specified as a single element,
		list of elements separated by commas, or range of elements
		separated by a slash in the form &lt;low&gt;/&lt;high&gt;. If no index
		value is supplied, all elements within the array will be ramped.

	&lt;slope&gt; Sets the increase/decrease (positive/negative) per minute. The
		value may be any valid value for the symbol's data type or an
		arithmetic expression.

	&lt;stop&gt;	If given, this value will cause the ramp function to stop when
		the variable reaches this value. (Must be same type as &lt;slope&gt;
		real/integer.) The value may be any valid value for the
		symbol's data type or an arithmetic expression.

	&lt;rep&gt;	Is a repeat factor to apply the ramp to consecutive memory
		locations. 

    The ramp takes effect immediately after the command is entered.

Examples: 

    ramp flow, 1000, 3000

	Increase the value of flow by 1000/minute until flow reaches 3000.

    ramp real(current), 500, 1200

	Increase the value of the real part of the complex variable current by 
	500/minute until it reaches 1200.

@@rate

	rate - Change the Execution Rate (Slow, Norm, Fast)

	    The rate command allows the user to impose slow, normal or fast
	time.

    Syntax:

	rate &lt;n&gt;

Where:


	&lt;n&gt;	Is a integer speed factor.
		A number less than -1 will result in slow time execution. 
		Zero (0) will result in normal execution.
		A number greater than 1 will result in fast execution (fast time
		execution will perform as cpu resources allow).

@@read

read - Select a Command File for Processing
The read command selects and processes an ISD command file.
Comments may be placed in the command file by placing an asterisk (*) in 
column 1, followed by the comment text. When the command file is executed, comment lines 
will be displayed on the screen, regardless of the current echo setting.
Syntax:
read &lt;filename&gt;
Where:


&lt;filename&gt;
Is the name of the file containing ISD directives. The filename may only 
include alphanumeric characters, (:), (.), ( _ ). A pathname must be inclosed in 
quotes ("path", 'path', or `path`) and will accept (\). 
When a simple filename or partial path is entered ISD will look first in the 
default directory under which ISD was activated; Next it will look in the 
home directory of the active UDS; and then in the directories which may be 
defined by the optional environment variables ISD_SELECT, ISD_PAGES, 
and S3_SELECT.
Examples: 

read isdinp

The file named isdinp located in the current directory will be processed.
There are several ISD commands that are only meaningful from within a command file. These 
are as follows.
ENDM - The ENDM command terminates reading a command file. (It may be used to terminate 
processing of ISD commands from a file prior to the end of file).
IF (&lt;expression&gt;) [THEN]
ELSE
END IF
DO WHILE (&lt;expression&gt;)
END DO
Conditional or iterated (repeated) processing of blocks of commands within a command file may 
be accomplished by use of IF / ELSE / END IF and DO WHILE / END DO commands.  These 
may be nested, but may not span different files.  When the DO WHILE structure is used, the 
block of statements should include at least one explicit WAIT statement.
reg - dump registers
The reg command produces a listing of register values saved by the executive at the most recent 
exception or breakpoint.
Syntax:
reg
@@reset
reset - Reset to a Previous Condition
The reset command sets the globals of an executive(s) to a previously recorded initial condition 
(ic). If the user is attached to an iexec, ISD will first search the user level ic/backtrack sets for the 
requested one. If it is not found, ISD will then search the ODS level. If the user is attached to a 
real-time executive, ISD will only search the ODS level for the requested ic/backtrack.
Syntax:
reset &lt;name&gt;
Where:


&lt;name&gt;
Is the name of the ic. This name should start with "i" (initial condition) or "b" 
(backtrack) and then be followed with an three digit integer which specifies 
the ic/backtrack number.
Syntax:
reset k,&lt;n&gt;
Where:


k
Forces ISD to do a reset from the user level, regardless of whether the user is 
attached to an iexec or real-time executive. Additionally, any globals defined 
via lld as const or local will be included in the reset.
&lt;n&gt;
Is the ic number, from 0 to 999.
Examples: 

reset b058

The globals loaded in the executive will be reset to the previously recorded 
backtrack set 58.
@@run
run - Set Status of Executive to Run
The run command changes the status of the executive task to run.
Syntax:
run or r
NOTE:   When in the screen update mode, without the ISD prompt, the r command performs the same 
function as run.
@@save

	save - Save a Monitor Tableau

	    The save command saves a Monitor tableau content to a page file.
	Each page represents the data items and their indexes currently visible
	on the Monitor.

    Syntax:

	save &lt;page name&gt;

	    or

	save+ &lt;page name&gt;

    Where:

	&lt;page name&gt; Is the alphanumeric name of the page to be saved.

	     The selection of display line items may then be restored by using
	the "page" command. Format overrides are saved and restored across
	the save - page actions. Name or alias, display unit, and data type
	overrides are not.

	    When the "+" option is selected the page file will record the
	display content state of all 10 potential display screens.


	


@@open
	Open a specified file to receive all print requests. Use print off to close and send the file to the 
printer or exit ISD to just close the file.
Syntax:
save &lt;filename&gt;
Where:


&lt;filename&gt;
Is the name of a file or pathname in quotes ("path", 'path', or `path`).

@@scan
scan - Display Symbols Reference by Module
The scan command will display the symbols referenced by the specified module on blank lines of 
the monitor screen. After filling a screen the operation can be continued using the CONTinue 
command.
Syntax:
 
Where:


&lt;module&gt;
Is the name of the module. If omitted, the displayed module will be used.
*	d - The d option will list symbols referenced by the module with current values in the 
format of the ISD DUMP command.
*	k - Will include constant symbols in the display (VCOPT of "c"). Default does not include 
constants.
schedule - reschedule a control module
The schedule command can be used to reschedule a control module iteration rate, group number 
and freeze flag. The module selected must already be scheduled as a control module by the 
executive.
Syntax:
schedule &lt;module&gt;,&lt;rate&gt;,&lt;group&gt;[,f]
Where:


&lt;module&gt;
control module name to be modified.
&lt;rate&gt;
The execution rate in Hertz.
&lt;group&gt;
The group in which the module will run
*	f - The module is to run in freeze mode in addition to the run mode.

@@search

	search - Display Symbols Referenced After an Equation in the Module

    The search command will scan the source code of a module for a given
equation number, then start displaying symbols on the monitor tableau.

Syntax:

	SEArch &lt;module&gt; [&lt;equ&gt;] [K][D]
 
Where:


    &lt;module&gt;	Is the name of a module. If omitted, the module displayed by
		the isd "module" command will be used.

    &lt;equ&gt;	An equation label (xxxxx continue) to be found in the selected
		module source to skip to before extracting symbols.
		When absent, will default to start of module.

    D		- The "D" option will scroll symbols referenced by the module
		with current values in the form of the ISD DUMP command.

    K		- The "K" option will include constant symbols in the display
		(VCOPT of "C"). Default does not display constants.

    Points selected by the SCAN command will be displayed in alphabetical
order whereas use of the search command will display points in the order they
are first encountered in the module or equation.

    The CONTinue command may be used to continue display of points selected by
either the scan or search commands.


@@sel
sel - Select a Command File for Processing
*	The sel command selects and processes an ISD command file. This command is a synonym for the read 
command.
Syntax:
sel &lt;filename&gt;
Where:


&lt;filename&gt;
Is the name of the file containing ISD directives. The 0 may only include 
alphanumeric characters, (:), (.), ( _ ). A pathname must be inclosed in quotes 
("path", 'path', or `path`) and will accept (\).
Examples: 

sel ISDinp

The file named ISDinp located in the current directory will be processed.
@@set
set or assignment - Set a Symbol to a Value
The set command sets a symbol to a specified value. The symbol whose value is to be set does 
not have to be displayed on the monitor tableau.
Syntax:
 

Where:


&lt;line&gt;
Is the line number, list of lines, or range of lines of the symbol to be set.
&lt;value&gt;
Is the value to set the symbol to. The value may be any valid value for the 
symbol's data type or an arithmetic expression (see Appendix B). If no value 
is supplied, the symbol will be set to zero. If the symbol to be set is a complex 
number, the syntax for this field is (&lt;real&gt;,&lt;image&gt;) where &lt;real&gt; is the real 
number part and &lt;image&gt; is the imaginary part. If an arithmetic expression is 
used, it should be separated from the symbol name/array specification or line 
number by a comma (,) or equal sign (=).
If multiple data items are specified (by array name, array index list or range, 
or line number list or range) then a comma separated list of values (each of 
which may be a calculated expression) may be used to set the elements to 
different values. Within this syntax &lt;integer&gt;(&lt;value&gt;) may be used for 
repeated values. If the value list is exhausted before the element list then the 
last value specified is repeated to the remaining elements.
&lt; ptid &gt;
Is the symbol whose value is to be set.
&lt;index&gt;
Is the array element index if the symbol is an array. The index may be 
expressed as an integer, a valid parameter, or an arithmetic expression (see 
Appendix B). It may be specified as a single element, list of elements 
separated by commas, or range of elements separated by a slash in the form 
&lt;low&gt;/&lt;high&gt;. If no index value is supplied, all elements within the array will 
be set. If an arithmetic expression is used to specify array elements, it should 
be prefaced with a backslash (\). If the symbol being set is a multi-
dimensional array then the appropriate multiple index is recommended.
&lt;rep&gt;
Repeat count for &lt;rep&gt; consecutive locations. If the symbol(s) being set are of 
complex data type, this field is ignored.
Examples: 

fwpressure=20

The symbol fwpressure will be set to the value 20.
set 15 2

The symbol displayed on line 15 will be set to the value 2.
19=100

The symbol displayed on line 19 will be set to the value 100.
pressure21a(18,20)=.true.

Array elements 18 and 20 of the symbol pressure21a will be set to the value 
true.
@@show

show - Show Module Information

	The show module command provides module information.

    Syntax:

	SHOw [&lt;start module&gt;] [&lt;type&gt;] [out] [,&lt;opt&gt;]
Where:


    &lt;start module&gt;	Starting module name (within the load order)
			for modules to be listed.

    control		Specifies display of information for each control
			module (only), along with its execution 
			rate and group number.

    out			Specifies that only those modules that have been
			placed out of execution shall be displayed.

    &lt;opt&gt;

	k		checks each module listed against MSF to detect any
			inconsistencies in current exec/load. A message for
			any exceptional condition is appended to the module
			listing line.

	D		Only modules for which the check logic identifies an
			unusual condition are listed.

	The exceptions could be any of the following:
		"other UDS",
		"not in MSF",
		"in UDS",
		"in ODS",
		"inconsistent",
		"modified",
		"source modified",
		"recompiled"

Examples: 

sho dyn4l1

Will display information for module dyn4l1, along with all modules that are 
loaded after dyn4l1.

show control out

Will display information for all control modules flagged as being out of 
execution.



show f - Show failure message information


	The show f command provides failure message information.
	When exceptions or faults are intercepted by the executive, a brief
	description of the failure is placed in a set of fail message buffers. 

	The single character command (which may be entered asynchronously)
	synonym "y" is provided for this command.

Syntax:

    show f


show g - Show Global Definition Information

	The show g command provides global definition information.

    Syntax:

	show g


Show t - Show execution time information


	The show t command provides execution time statistics collected by the
    executive. Collection of frame and module execution time statistics
    information is initiated by the executive option -t. 

Syntax:

    show t [init | d | k | {(M | &lt;module type&gt;)[+|-]]

Where:

    Init 	Specifies re-initialization of the accumulated statistics. 

    D		Disables collection of timing information

    K		Displays name execution time statistics (as available) for
		modules which are not called directly by the executive (as
		control modules). This information may be collected for those
		modules which were compiled with the "-E wrap" option 
		of fscan or cscan.

    M | &lt;module type&gt; [ + | - ]

		Enables or disables collection of timing information by
		wrapper routines.

 

Show $ - Display Named Values

The show $ command displays all named values (see Appendix B).
Syntax:
show $

show - Show information about DDM commands
The show command is used to display information about DDM commands which are being used.
Syntax:
show &lt;type&gt;
Where:


&lt;type&gt;
Specifies the type of information to show. Valid types are:
*	ramp - Will display a list of all variables assigned a ramp function and the parameter of 
the function.
*	sine - Will display a list of all variables assigned a sine function and the parameter of 
the function.
*	table - Will display a list of all variables assigned a table and the name of the table.
*	tablevalue - Will display a list of all defined tables and the values assigned to them.
*	ddm_all - Will show a list of all variables assigned to any DDM command (combination 
of ramp, since and table).
@@sine
sine - Vary a Point Using a SINE Function
The sine command will apply a dampened sine function to the value of a point.
Syntax:
sine &lt;line&gt;,&lt;amplitude&gt;,&lt;frequency&gt;,&lt;offset&gt;,&lt;damp&gt;
Or
sine &lt;point&gt;[(&lt;index&gt;)],&lt;amplitude&gt;,&lt;frequency&gt;, &lt;offset&gt;,&lt;damp&gt;
Where:


&lt;line&gt;
Is the ISD line number where the variable is displayed.
&lt; ptid &gt;
Is a legal variable name. If the variable to be ramped is of type complex, the 
components of the complex number has to be addressed independently (i.e. 
real(&lt;complex variable&gt;) or image(&lt;complex variable)).
&lt;index&gt;
Is the array element index if the symbol is a member of an array. The index 
may be expressed as an integer, a valid parameter, or an arithmetic expression 
(see Appendix B). It may be specified only a single element
&lt;amplitude&gt;
Is the amplitude of the sine function. The amplitude may be any valid value 
for the symbol's data type or an arithmetic expression (see Appendix B).
Is the frequency of the sine function. The frequency may be any valid value 
for the symbol's data type or an arithmetic expression (see Appendix B).
&lt;offset&gt;
Is the "mean" value. The offset may be any valid value for the symbol's data 
type or an arithmetic expression (see Appendix B).
&lt;damp&gt;
Is the increase (+) / decrease (-) per minute of the amplitude. The damp may 
be any valid value for the symbol's data type or an arithmetic expression (see 
Appendix B).
The sine function takes effect immediately after the command is entered.
Examples: 

Sine test1(1),5,1,20,0

The point "test1(1)" will oscillate around 20 by + 5 (15-25) at 1 cycle per 
second.

@@slow

slow - Set Time Rate to Slow 
The slow command lengthens the pause time between frames.
Syntax:
slow &lt;n&gt;
Where:


&lt;n&gt;
Is the number of "normal frame pauses" to pause between frame execution. 
("Normal frame pause" is 1000/number of frames per second (usually 12).)
Examples: 

slow 10

Will execute 10 "normal frame pauses" between each execution. For 12 
normal frames per second, the pause will be (1000/12 * 10) = 830 
milliseconds.
@@snap
snap - Record Variable Globals
The snap command records the globals, thus creating an initial condition set. The real-time load 
(MST) uses the ic subdirectory under %S3_HOME%. An IEXEC uses the ic subdirectory under 
%S3_HOME%\&lt;sys&gt;, where &lt;sys&gt; is the user ID. The snap will create a file for each global 
under the ic subdirectory. MST will only save those globals identified as ic globals in the 
C.TRNCON file, while IEXEC will save all globals that have not been loaded as local or const by 
LLD. The file names will be of the following format innnxxx[_sys], where, nnn is the IC number, 
xxx is the global ID (global name without the global prefix) and sys will be the user ID. The 
"_sys" identifies user level globals, there may also be an ODS global file.
Syntax:
snap &lt;name&gt;[,&lt;password&gt;]
Where:


&lt;name&gt;
Is the name of the IC. This name should start with "i" (initial condition) or "b" 
(backtrack) and then be followed with a three digit integer specify the 
ic/backtrack number.
&lt;password&gt;
Specifies the password required for protected ICs.
Syntax:
snap k,&lt;n&gt;
Where:


k
Forces ISD to do a snapshot to the user level, regardless of whether the user is 
attached to an iexec or real-time executive. Additionally, any globals defined 
via LLD as const or local will be included in the snapshot.
&lt;n&gt;
Is the IC number, from 0 to 999.
Examples: 

snap i009

A group of files will be created in the ic subdirectory. These files will contain 
a copy of the settings of the various globals at the time of the snap. Assume 
the user ID is fw, and the executive is using ODS globali, global01fw and 
global02fw and has UDS points in global01fw and global02fw. The following files 
will be created/updated under %S3_HOME%\fw\ic:
i009i, i00901fw, i00902fw, i00901fw_fw, i00902fw_fw
@@status
status - Set the Status Mode
The status command changes the executive status to the requested mode.
Syntax:
status &lt;name&gt;
Where:


&lt;name&gt;
Is the name of the new status.
FRZ, RUN, Step, Hold, TERM, Fail, MAP, CONF, SUSP, RESU, DRTS
step - Set Status of Executive to Step
The step command changes the status of the executive task to step. In step mode, the executive 
will run for the specified length of time and then go into freeze.
Syntax:
step [[[ &lt;hh&gt;:] &lt;mm&gt;:] &lt;ss&gt;.] [&lt;ff&gt;] or s
Where:


&lt;hh&gt;
Is the number of hours to step.
&lt;mm&gt;
Is the number of minutes to step.
&lt;ss&gt;
Is the number of seconds to step.
&lt;ff&gt;
Is the number of frames to step.
If no value is specified for step, the executive will use the last step interval. 
Use the s command with or without the ISD prompt to execute a second 
equivalent step.
Examples: 

step 3

The executive will run for three frames and then freeze.
step 8.5

The executive will run for eight seconds and five frames and then freeze.
step 10:00.0

The executive will run for ten minutes and then freeze.
NOTE:   In the screen update mode, without the ISD prompt, the s command performs a step using the 
interval of the last step command.
suspend - Define the Sleep Interval for ISD
The suspend command may be used to slow down the screen update rate or space out the samples 
of the log command.
Syntax:
suspend &lt;n&gt;
Where:


&lt;n&gt;
Is the sleep interval. The default value is one.
@@switch
sw - Switch Monitor Screens
The sw command causes display of another monitor screen. If the screen to be displayed had 
previously had symbols displayed upon it, those symbols will still be displayed.
Syntax:
sw &lt;n&gt;
Where:


&lt;n&gt;
Is the number of the other monitor screen to display. This number can range 
from 0 to 9.
Examples: 

sw 3

Monitor screen three will be displayed.
NOTE:   In the screen update mode, without the ISD prompt, the &lt;n&gt; will switch to the designated 
screen. The default screen is 1.
sync - Synchronize ISD and IEXEC
The sync command is used to synchronize the ISD screen update to the IEXEC execution.
Syntax:
sync &lt;n&gt;
Where:


&lt;n&gt;
Is the number of frames to execute between screen updates.
To cancel this mode use the async command.

@@table
table - Vary a Point Using a Table Function
The table command is used to create tables of values to be assigned to a point.
Syntax:
table &lt;table name&gt; &lt;set value&gt; &lt;time&gt;
Where:


&lt;table name&gt;
Is the name of the table being created.
&lt;time&gt;
Is the "offset" in time, from the beginning of the table function, to the time 
when the new value is to be applied to the point.
&lt;set value&gt;
Is the value the point will be set to. The value may be any valid value for the 
symbol's data type or an arithmetic expression (see Appendix B).
This command will be repeated until the table has been completely built. The 
table function is executed using the "table connect" command.
table connect - Connect a Table to a Point
The table connect command is used to connect a point to a table. Points connected to a table will 
be given the values indicated in the table with interpolation used to fill in the unspecified time 
intervals.
Syntax:
table connect &lt;tablename&gt; &lt;line&gt; [&lt;rep&gt;] 	or
table connect &lt;tablename&gt; &lt; ptid &gt; [(&lt;index&gt;)] [&lt;rep&gt;]
Where:


&lt;tablename&gt;
Is the name of a table created with the table command.
&lt;line&gt;
Is the ISD line number where the variable is displayed.
&lt; ptid &gt;
Is a legal variable name. If the variable to be ramped is of type complex, the 
components of the complex number has to be addressed independently (i.e. 
real(&lt;complex variable&gt;) or image(&lt;complex variable)).
&lt;index&gt;
Is the array element index if the symbol is an array. The index may be 
expressed as an integer, a valid parameter, or an arithmetic expression (see 
Appendix B). It may be specified as a single element, list of elements 
separated by commas, or range of elements separated by a slash in the form 
&lt;low&gt;/&lt;high&gt;. If no index value is supplied, all elements within the array will be 
ramped.
@@title
title - Induce form feeds to the print file
The title command provides for the user to induce form feeds to the print file. (All scrolled 
mode ISD output is echoed to the print file when print is active). The title command may be 
followed (on same line) with a brief title to print at the top of the new page. This heading will be 
retained by ISD and reissued when the title command is issued without a new heading.
Syntax:
title [&lt;text&gt;]
@@user
user - Access Another's MDD
The user command allows the user to access another system's Master Data Dictionary to display 
symbols from the other system. Modules and 
data from multiple user development systems may be combined in an executive load, however 
ISD can have only one UDS MDD open at a time.
Syntax:
user &lt;user&gt;
Where:


&lt;user&gt;
Is the up to 3 character alphanumeric name of the system whose MDD is to be 
accessed.
Examples: 

user fw

The Master Data Dictionary for the fw system is now available for use in 
displaying symbols.
@@wait
wait - Pause ISD for an Interval
The wait command is a one-shot pause to the ISD update.
Syntax:
wait step	Pause until step is complete.
Or
wait &lt;n&gt;	Pause for &lt;n&gt; seconds.
</Text>
</Topic>
<Topic>OPCdcsexec<Text>

(set column size &gt; 120 to view)



	OPCdcsexec


    Purpose


      Simulation models have in the past communicated with a DCS through
proprietary interface protocols specific to the DCS. The widespread adoption of
the OPC foundation interface definitions allows SimExec to communicate with a wide
range of DCS systems in a vendor neutral manner.

      The OPCdcsexec program is the component of SimExec responsible for
communication with a DCS through the OPC data acquisition protocol. OPCdcsexec will
communicate with a non-specific digital control system by acting as a client to DCS
specific OPC servers which implement the "OPC Data Access Custom Interface
Specification 2.04" (dated September 5, 2000) or later.

      Overview

      The OPCdcsexec program

       The OPCdcsexec routine operates as an OPC Data Access 2.0 client to exchange data
with OPC servers. Compatible servers are available as components of many 3rd party digital
control systems and components. The OPCdcsexec routine may be configured as a module
loaded through lld into any SimExec executive program. A custom cscan interface module may be
developed within the SimExec development environment or a standard version may
be used from the library. It may execute in either an iexec or an rtexec.

Configure OPCclient in an executive

	The object code for the OPCdcsexec and OPCclient routines are provided in the library
"s3opc.lib". In order to configure the server into an executive one must first define the entry points to the
msf through a commands of the form

	dbm&gt;/INCLude OPCclient,LIBRARY,,opc
	dbm&gt;/INCLude OPCsnap,LIBRARY,,opc
	dbm&gt;/INCLude OPCreset,LIBRARY,,opc

The following would then be added to the lld command file used to configure the executive.

	LOAd OPCclient,4,1,INIT,FRZ,RUN,TERM
	LDOption $(S3BASE)\lib\s3opc.lib
	LDOption $(S3BIN)\s3dll.lib

	The scheduling selections for the OPCclient module may need adjustment for specific
needs. The above would configure the client to run at 4 cps, synchronized to the executive frames.

       To execute at the full executive frame rate one might use

"Load OPCclient,0,0,init,framestart,term"
       Or

"Load OPCclient,0,0,init,frameend,term"

       To run independently of the executive frames, at a rate determined by the initialization parameter

"WaitInterval" one might use
"Load OPCclient,0,0,init,term"


       Initialization File

       The OPCdcsexec utilizes an initialization file (or a series of initialization files when
multiple connections are configured) to support many configuration specific choices. This is an
editable ascii text file with simple line oriented syntax. Many detailed decisions and a significant
amount of the logic of the OPCdcsexec program are exposed for customization in this file.

       Simulation Functions

       The OPC Data Access Custom Interface Specification defines more than sufficient
capabilities for transfer of general IO signals between the simulation and a DCS, however, it does
not address the simulation functions freeze, run, and snapshot, reset necessary for the DCS to
operate cleanly as part of a simulation system. OPCdcsexec will expect that these functions will
be either be controlled externally or supported through setting and monitoring of conventional
OPC data items. Names and applicable values for these parameters will be defined to
OPCdcsexec in its initialization file.

       Parameters transferred

       The configuration of data points to be communicated through the OPC interface will be
through a text file identifying the category, OPC item id, SimExec mdd variable, and simple
conversion options in a simple comma separated value syntax.

       IO categories

       The input / output terminology is as seen from the DCS server. That is "inputs" are inputs
to the server, outputs from the simulation, Outputs are outputs from the server, inputs to the
simulation. The supported IO categories are as follows:
	-	Ai - Analog input. These are values to be output from the simulation as inputs
		to the dcs as floating point values. Linear conversion is supported.
	-	Ao - Analog output. These are value to be input to the simulation as outputs
		from the dcs as floating point values. Linear conversion is supported.
	-	Di - Digital input. These are values to be output from the simulation as inputs
		to the dcs as boolean point values.
	-	Do - Digital output. These are value to be input to the simulation as outputs
		from the dcs as boolean point values.
	-	Oo - Other output. These may be of various other types including ascii strings,
		integers, arrays, and structures.
	-	Oi - Other inputs. These may be of various other types including ascii strings,
		integers, arrays, and structures


Installation


         The OPCdcsexec consists of object files in a library supplied with SimExec suitable for
loading into a SimExec executive System. In addition the OPC provided proxy/stub and
Microsoft ActiveX dlls must be installed to the Windows SYSTEM32 directory and registered.

       That is:

       Copy opccomn_ps.dll, opcproxy.dll, opcae_ps.dll and opchda.dll to the SYSTEM32
directory, then from a cmd window type

       regsvr32 opccomn_ps.dll
       regsvr32 opcproxy.dll
       regsvr32 opc_aeps.dll
       regsvr32 opcchda_ps.dll

       (Do not overwrite newer versions.) These files are freely supplied by the OPC
Foundation and should be downloaded from their web site. In addition the OPC Foundation advises
that you verify that your system contains the actxprxy.dll and if not, install the ActiveX
Redistributable Installation Kit for from Microsoft.

       The OPC foundation requires that the above proxy/stub dlls should not be installed to
any location other than the Windows SYSTEM32 directory. (The opc_aeps.dll and
opcchda_ps.dll are carried as part of the OPC package and not actually used by OPCdcsexec).




       The OPCdcsexec initialization file(s)

         Considerable flexibility is written into the OPCdcsexec with the intention of being able
to support interface with varying OPC Server programs and thereby allow integration of
simulation models with different DCS systems with a minimum of customization. The approach
taken to provide wide flexibility is to expose many details of how OPCdcsexec will perform its
tasks into an initialization file.

         The OPCdcsexec program requires an initialization to define various instance specific
parameters and actions.  This consists of an ascii text file or files residing in the model
directory. When multiple connections are configured an initialization file is required for each.
Two file name conventions are implemented for the initialization files: fixed names, and names
based on the hosting executive name.

    Common settings and settings for first server connections:

	fixed names:		OPCdcsexec.ini or OPCdcsexec0.ini
	executive based:	&lt;exname&gt;.opcc.ini or &lt;exname&gt;.opcc0.ini

    Settings for second server connection:

	fixed name:		OPCdcsexec1.ini
	executive based:	&lt;exname&gt;.opcc1.ini

    Settings for server connection X:

	fixed name:		OPCdcsexecX.ini
	executive based:	&lt;exname&gt;.opccX.ini






       OPCdcsexec configuration parameters are specified by line oriented commands in this
text file where each line follows the form

       &lt;fieldname&gt;=&lt;value&gt;

         The initialization file may also contain comment lines indicated by the asterisk ("*")
character in the first column. (Unrecognizable input lines will also be silently ignored.)

         Most initialization parameters are optional with the attempt made to provide reasonable
defaults. Thought and care to provide the most appropriate selections in this file will be essential
to successful integration of any simulation with a DCS. The OPCdcsexec does not attempt much
reasonability checking on the values entered, therefore inappropriate contents can cause OPCdcsexec
to attempt nonsensical or erroneous operations.

       Common parameters

       When multiple OPC server connections are being configured a few common parameters
should be placed in the OPCdcsexec.ini (or &lt;execname&gt;.opcc.ini) file. These are as follows.

	nServers=&lt;integer&gt;

	Specifies the number of OPC servers to be connected.

	Parallel=&lt;integer 0 or 1&gt;

	When set the data transfer operations for each server connection will be performed in
parallel on separate threads. When not set these functions will be performed in sequence in a
single thread.

	ParallelSnap=&lt;integer 0 or 1&gt;
	ParallelReset=&lt;integer 0 or 1&gt;

	When set the snapshot or reset operations for each server connection will be performed in
parallel on separate threads. When not set these functions will be performed in sequence in a
single thread.

	WaitInterval=&lt;integer&gt;

	This will specify a wait interval (in milliseconds) for the OPCdcsexec to execute a pass in
the absence of a wakeup from the executive. This interval should be significantly longer than the
normal pass interval. It will apply in FAIL, HOLD and some unusual simulation status
conditions.

	AuthnLevelCB=&lt;enum name&gt;
	This will specify the minimum security init level parameter for the callback routine
configuration.

	ExitPause=&lt;integers&gt;

	When Parallel execution is specified, this will specify a maximum pause interval in
seconds to wait for the disconnect operation on the service threads before proceeding to exit.

       PointsFileDelimitor=","

       By default fields within each line of the point configuration files ("OPCdcsexec.points" or
as defined in "PointFilePath" entries) are separated by commas. This becomes inconvenient when the
ItemId protocol of a server uses comma or when elements of multi-dimensional arrays are used for
the global source or destination values. It may therefore be overridden to some other user chosen
character by this initialization item.


	ServerIdProtocol=CPS





	The following initialization file parameters may be configured for each server when
multiple connections are established.

       AliasFile=&lt;file path&gt;

       If a file path is provided by this parameter then OPCdcsexec will output a file showing
the software symbol names and the expected OPC Server Item names for each point
defined in the point list.  (A convenience to help check exactly what OPCdcsexec is asking the
server.)

       AltFrameInterval=&lt;integer&gt;

       If a non-zero value is entered then once each n normal transfer frames OPCdcsexec will
use FrameProcessAlt (instead of FrameProcess) to perform the frame data transfer.

       BckEnable=&lt;integer&gt;

       If a non-zero value is entered then the OPCdcsexec will participate in backtrack snapshot
and reset. The backtrack function initiates an automated periodic snapshot, to a second set of
initial condition files, of simulation conditions during run mode. This is only practical if the
snapshot operation can be performed without significant interruption of normal run.


       BckResetReqItem=&lt;Item ID&gt;

       Specifies the server item name to be set (written to) to request that the DCS perform the
Backtrack Reset operation.

       BckResetReqValue=&lt;value&gt;

       Specifies the value to be written to the ItemID identified by the BckResetReqItem line
when SimSuite-Pro OPCdcsexec needs the DCS to reset to a state previously saved by a
backtrack snap request.
       If the value is omitted, or is an integer, then the value written will be an initial condition
number. This value may be a quoted character string, with "printf" style format selectors where
an IC number will be filled in.

       BckSnapReqItem=&lt;Item ID&gt;

       Specifies the server item name to be set (written to) to request that the DCS perform the
Backtrack snapshot operation.

       BckSnapReqValue=&lt;value&gt;

       The BckSnapReqValue specifies the value to be written to the BckSnapReqItem when
OPCdcsexec needs the DCS to save the current state to storage for restoration by a backtrack
reset request.
       If the value is omitted, or is an integer, then the value written will be an initial condition
number. This value may be a quoted character string, with "printf" style format selectors where
an IC number will be filled in.

       ConnectAttemptInterval=&lt;integer&gt;

       Defines a connection retry attempt interval, in passes. (If the server attachment fails, then
OPCdcsexec will retry attachment after this pause, this would be appropriate when the server
does not auto-launch).

       DefaultAiDeadband=&lt;floating point number&gt;

       A specific deadband may be recorded in the dcs data base for each dcs analog input point.
This deadband value will apply to each AI point for which no specific deadband value is defined.

       EchoInit=&lt;file path&gt;

       When selected a new version of the initialization file will be written to the designated
file. This file will include all the effective values of all eligible parameters.

       EnableInputsPid=&lt;symbol name&gt;

       When this parameter is configured it is to specify an mdd symbol name, whose value will
enable or disable input data transfers from the OPC client to global memory (AO, DO and
OO points). This is to support replay when panel IO is processed through an OPC servers.

       EnableOutputsPid=&lt;symbol name&gt;

       When this parameter is configured it is to specify an mdd symbol name, whose value will
enable or disable output data transfers to the OPC server. This is to support OPC servers which do
not accept inputs when in freeze mode.

       ExitPause=&lt;integer&gt;

       FrameFreq=&lt;integer&gt;

       Defines how many rscexec frames between successive OPCdcsexec process passes
through the defined dcs points. (rscexec normally executes 12 times per second, thus to exchange
dcs io points at 4 cps the default value of 3 applies.)

       FrameProcess=&lt;Process vector&gt;
       FrameProcessAlt=&lt;Process vector&gt;

       A comma separated series of OPCdcsexec processing steps to be performed for normal
frame processing of the IO signals.


       FreezeReqItem=&lt;Item ID&gt;

       Specifies the server item name to be set (written to) to request that the DCS enter a
Freeze state.

       FreezeReqValue=&lt;value&gt;

       FreezeReqValue specifies a value to be written to the FreezeReqItem to instruct the DCS
to change status from the run to freeze. The value should be entered either as an integer or as a
quoted character string.

       FreezeStatusItem=&lt;Item ID&gt;

       FreezeStatusItem Identifies a server item name to be monitored (read) to detect whether
the DCS is in a Freeze state.

       FreezeStatusValue=&lt;value&gt;

       Defines the value expected for the item specified by the FreezeStatusItem which
indicates that the DCS is in a freeze state. The value may be either an integer or a quoted
character string.

       InitProcess=&lt;Process vector&gt;

       A comma separated series of OPCdcsexec processing steps to be performed when the
connection to the OPC server is established.

       iReduceRate=&lt;integer frames&gt;

       The overall rate of the OPCdcsexec is determined by the executive call. When multiple
OPC server connections are configured then this parameter may be used to execute specific
connections at a lesser rate.

       ItemIDCase=&lt;protocol name&gt;

       The OPCdcsexec supports 3 options for the case of OPC Server's Item ID. The available
options are as follows.
       Retain - the case is retained as found in the dcs data base.
       Upper - all alphabetic characters in ItemIDs are forced to upper case.
       Lower - all alphabetic characters in ItemIDs are forced to lower case.



       ItemProtocol=&lt;protocol name&gt;

       ItemProtocol is not applicable at this time.

       Normalize=&lt;integer&gt;

       A value of 0 or 1 should be provided. When set then the analog inputs and outputs will be
translated, in accordance with the multiplier and bias values defined in the point configuration file(s)
file, between engineering units for the simulation software point values and normalized values
(0.0 to 1.0 as a ratio of current value within the range) for the DCS signals. When clear (zero) the
bias and multiplier fields in the points file will be ignored and analog point values will be
transferred with no translation.

	PointsFilePath="&lt;file path list&gt;"

	By default OPCdcsexec will read a file name "OPCdcsexec.points" to configure IO points to exchange
with the OPC servers. This field allows entry of a list of file paths, separated by semi-colons (";").
Each file in the list will be read to configure IO points to exchange with an OPC server. Each point will
be configured for exchange on the specific connection defined by the initialization file.


       Debug=&lt;integer&gt;
       PrintResetSteps=&lt;integer&gt;
       PrintInitSteps=&lt;integer&gt;
       PrintSnapSteps=&lt;integer&gt;
       PrintAI=&lt;integer&gt;
       PrintAO=&lt;integer&gt;
       PrintDATA=&lt;integer&gt;
       PrintDI=&lt;integer&gt;
       PrintDO=&lt;integer&gt;
       PrintDEV=&lt;integer&gt;
       PrintDG=&lt;integer&gt;
       PrintEPN=&lt;integer&gt;
       PrintFT=&lt;integer&gt;
       PrintStatus=&lt;integer&gt;
       PrintReset=&lt;integer&gt;

       These parameters enable various trace print statements in the OPCdcsexec program. Most
of these are intended mostly for debugging and should be zero on normal usage.


       RemoteServerHost=&lt;Server host name&gt;

       If the OPCdcsexec is to exchange data with an OPC server executing on another
computer then the host computer must be provided (as an ascii string, not quoted, and with no
embedded blanks).

       RemoteServerDomain=&lt;Remote connection domain name&gt;
       RemoteServerUser=&lt;Remote connection user name&gt;
       RemoteServerPass=&lt;Remote connection user password&gt;

       If the current user login credentials are not suitable for the security on the remote server
host computer then these parameters may be used to supply a more suitable identity.

       ResetProcess=&lt;Process vector&gt;

       A comma separated series of OPCdcsexec processing steps to be performed when the
simulation reset operation is required.

       ResetReqItem=&lt;Item ID&gt;

       ResetReqItem specifies a server item name to be set (written to) to request that the DCS
perform the Reset operation. The Server - DCS system is expected to restore the system state
from a record previously saved through the Snap operation.

       ResetReqValue=&lt;value&gt;

       ResetReqValue specifies a value to be written to the ResetReqItem when OPCdcsexec
needs the DCS to reset to a state previously saved by a snap. If the value is omitted or is an
integer then the value written will be an initial condition number. This value may be a quoted
character string, with "printf" style format selectors where an IC number will be filled in.

       RunReqItem=&lt;Item ID&gt;

       Specifies the server item name to be set (written to) to request that the DCS enter a Run
state.

       RunReqValue=&lt;value&gt;

       RunReqValue specifies a value to be written to the RunReqItem line when OPCdcsexec
needs the DCS to change from the freeze to run status. The value should be entered either as an
integer or as a quoted character string.

       RunStatusItem=&lt;Item ID&gt;

RunStatusItem specifies a server item name to be monitored (read) to detect
whether the DCS is in a Run state.

       RunStatusValue=&lt;value&gt;

       Defines the value expected for the item specified by the RunStatusItem which indicates
that the DCS is in a run state. The value may be either an integer or a quoted character string.

       ServerGUID=&lt;OPC server CLSID&gt;

       If the server CLSID is provided in the OPCdcsexec initialization file then the given value
will be used (the ServerName becomes optional). The CLSID may be entered in either the C or
registry guid format.

       ServerName=&lt;OPC server name&gt;

       The server name or "Program ID" for the OPC server program with which to exchange
data is to be provided (as an ascii string, not quoted, and with no enbedded blanks). If the
ServerGUID is not provided then it must be possible for OPCdcsexec to retrieve the
corresponding CLSID for this server either from the local registry or through the OPCENUM
program.

       ServerStatusInterval=&lt;integer&gt;

       The number of io process frames (as reduced from the rscexec rate by the FrameFreq
parameter) between performance to the IOPCServer::GetStatus check of server status.

       SnapProcess=&lt;Process vector&gt;

       A comma separated series of OPCdcsexec processing steps to be performed when the
simulation snapshot operation is required.


       SnapReqItem=&lt;Item ID&gt;

       The server item name to be set (written to) to request that the DCS perform the Snapshot
operation. The Server - DCS system is expected to save the current state to permanent storage in a
manner suitable for recall by a Reset request.


       SnapReqValue=&lt;value&gt;

       SnapReqValue specifies a value to be written to the ItemID identified by the
SnapReqItem line when OPCdcsexec needs the DCS to save the current state to permanent
storage for restoration by a reset request. If the value is omitted or is an integer then the value
written will be an initial condition number. This value may be a quoted character string, with
"printf" style format selectors where an IC number will be filled in.


       TerminateProcess=&lt;Process vector&gt;

       A comma separated series of OPCdcsexec processing steps to be performed when the
OPC client exits.



       .UseSyncOut=&lt;integer&gt;

       If set (1, default) then OPCdcsexec will use the synchronous IO service to send (write)
values for DCS inputs to the OPC server. If it is clear (0) then the asynchronous service will be
used. While an OPC server is required to implement both interfaces, which one will perform most
effectively may vary.

       WaitInterval=&lt;integer&gt;

       WaitInterval specifies a maximum wait interval (in milliseconds) for waiting for wakeup
signal from exec.


       Process Vector steps

	OPCdcsexec exposes the sequence of steps to be performed for initialization, snapshot, reset and
normal frame processing through the InitProcess, SnapProcess, ResetProcess, and FrameProcess
initialization file entries. Each of these take a comma separated list of process steps. Each step is identified
by a step name, certain of the steps require additional parameters. The process vector list may be continued
onto additional lines by placing &lt;backslash&gt;&lt;return&gt; between the comma separator and next step.

       ConfigureIO

       The ConfigureIO operation must be performed by the InitProcess and must not be
performed by any of the other Process vectors. At this point in the initialization process
OPCdcsexec will create (add) IOPCGroup group objects and add all defined IO signal items to
them.

       PersistLoad,"&lt;file&gt;"

       PersistSave,"&lt;file&gt;"

       Request the load or save of OPC Server state through the (optional) IPersistFile interface.
This interface is described as optional in the OPC Data Access Specification. Should an OPC
server implement it, the OPCdcsexec may invoke it through this entry. A filename must be
provided as a quoted character string. The PersistLoad may be desired on initialization. If used
for the snapshot and reset procedures then the file name string may contain printf style format
elements for the initial condition number.

       ProcessAO

       The analog output values (AO defined in the points files) are copied to the
Simulation model global data areas.

       ProcessDO

       The digital output values (DO defined in the points files) are copied to the
Simulation model global data areas.

       ProcessOO

       The other output values (OO defined in the points files) are copied to the
Simulation model global data areas.


       SetFreeze

       OPCdcsexec will write the value defined by FreezeReqValue to the item defined by
FreezeReqValue.

       SetReset

       OPCdcsexec will write the reset ic number with format guided by ResetReqValue to the
item defined by FreezeReqItem.

       SendAi, &lt;0cps&gt;,&lt;except&gt;,&lt;type&gt;

       OPCdcsexec will scan the simulation values of the dcs analog inputs and collect changed
values to be written to the OPC Server.

       SendDi, &lt;0cps&gt;,&lt;except&gt;,&lt;type&gt;

       OPCdcsexec will scan the simulation values of the dcs digital inputs, and collect changed
values to be written to the OPC Server.

       SendOi, &lt;0cps&gt;,&lt;except&gt;,&lt;type&gt;

       OPCdcsexec will scan the simulation values of the other dcs inputs and collect changed
values to be written to the OPC Server.


       The SendAi, SendDi and SendOi steps each require 3 integer arguments as follows.

       &lt;0cps&gt; - If zero then points for which no rate was explicitly defined in the point file will
not be processed. If non-zero then all defined AI points will be scanned regardless of the posted
CPS.
	&lt;except&gt; - Enable (non-zero), or disable (zero) exception processing. When enabled
(recommended) only points whose values have changed are written to the Server. A value of zero
will cause all points to be written, this may be appropriate in the reset process vector.
       &lt;type&gt; - reserved, please always post zero.


       SendOutputs

       The OPCdcsexec will perform the write to the OPC server of the dcs inputs collected by
the SendAi, SendDi, SendDG, and SendDev processes.

       SetItem,"&lt;item id&gt;", &lt;value&gt;

       The OPCdcsexec will perform a write operation to the OPC server to set the identified
itemID to the designated value. The value may be integer or a quoted character string.

       WaitM, &lt;milliseconds&gt;

       The OPCdcsexec will pause for the given number of milliseconds before continuing
processing the process steps (resolution 10 milliseconds).

	WaitS, &lt;seconds&gt;

       The OPCdcsexec will pause for the given number of seconds (integer) before continuing
processing the process steps

       WaitUntil,"&lt;item id&gt;", &lt;value&gt;, &lt;timeout&gt;

       The OPCdcsexec will pause until identified itemID matches the designated value or the
timeout occurs. The value may be integer or a quoted character string, or a comma separated
series of integer or quoted string values enclosed in braces ("{}"), in which case the wait will be
until the item value matches any of the designated values. The timeout is an integer millisecond
count, (if 0 will wait indefinitely).

       WaitWhile,"&lt;item id&gt;", &lt;value&gt;, &lt;timeout&gt;

       The OPCdcsexec will pause as long as identified ItemID matches the designated value or
the timeout period elapses. The value may be an integer or a quoted character string, or a comma
separated series of integer or quoted string values enclosed in braces ("{}"), in which case the
wait will be while the item value matches any of the designated values.


Points File

	The selection of data points to be exchanged with the OPC servers is specified
in the file "OPCdcsexec.points" or in a file or files specified on the PointsFilePath
inititialization parameter. This file uses a simple one line per item, field delimited
format where the first 4 fields, in order are:

	&lt;iotype&gt;	ai, ao, di, do, oi, or oo
	&lt;item id&gt;	item id to be recognized by the server
	&lt;symbol&gt;	MDD global point name (element and member as applicable)
	&lt;cps&gt;		integer group identifier

	For digital points (di, do) the fifth field is an inversion flag. Set to 1 to invert
logical values.

	For analog, and other, points 3 additional fields are defined:

	&lt;bias&gt;
	&lt;multiplier&gt;
	&lt;deadband&gt;

	Linear transformation of analog values is supported by the bias and multiplier fields
per the following convention:

	&lt;ai value&gt; = &lt;global value&gt; * &lt;multiplier&gt; + &lt;bias&gt;

	&lt;global value&gt; = &lt;ao value&gt; * &lt;multiplier&gt; + &lt;bias&gt;

	Analog inputs are usually transfered by exception. That is: value updates are sent to the
server when the current effective value differs from the last value sent by an amount greater than or
equal to the specified deadband. When no specific deadband is defined for a point (i.e. 0.)
a default, selectable by .ini file item "DefaultAiDeadband", is used.




Server Selection

          The OPC server program with which OPCdcsexec will communicate must be defined
in the initialization file. Several possible methods are supported. COM servers must be defined in
the Windows registry on the machine on which they will execute and the client must be able to
find this information.
       The initialization file commands to identify the OPC Server program are as follows.

       Server=&lt;OPC Server Program ID&gt;
       ServerGUID=&lt;CLSID of the OPC Server&gt;
       RemoteServerHost=&lt;remote server host&gt;
       RemoteServerDomain=&lt;remote server domain&gt;
       RemoteServerUser=&lt;remote server User&gt;
       RemoteServerPass=&lt;remote server Pass&gt;


        COM client programs must provide the server CLSID in order to connect to a server.
This is a 14 byte number normally written either in registry format like
       {30DFEB0A-05DE-11D6-9191-00105AA34151}
or in c constant format like
       { 0x30dfeb0a, 0x5de, 0x11d6, { 0x91, 0x91, 0x0, 0x10, 0x5a, 0xa3, 0x41, 0x51 }}
       When a COM server is installed it creates registry entries to retrieve this value given an
ascii "Program ID" name.

       When the server is installed on the local machine all that is needed is the server program
id. Thus if only the "Server=&lt;Program ID&gt;" entry is provided in the OPCdcsexec.ini file, the
program will request the CLSID from the local registry. (It is possible, using the Microsoft
DCOMCnfg.exe program to configure the server to execute remotely without requiring any
knowledge of this in the client.)
       For DCOM (when the server is not installed on the local machine) retrieval of the CLSID
from the Program ID can be more difficult as there is no standard service to retrieve a CLSID by
Program ID from another machine. There are several ways of dealing with this.

       If RemoteServerHost is specified then OPCdcsexec will connect through DCOM to an
OPC server on the specified machine. In this case the RemoteServerUser, RemoteServerDomain,
and RemoteServerPass may need to be provided to satisfy security on that computer. By default,
however, the current login credentials would apply.  The OPCdcsexec still needs to determine the
CLSID of the remote server.

       The following three possible means are supported (in order by priority):

       - If the ServerGUID is defined in the initialization file it will be used. This technique
requires a manual copying of a guid, but is the simplest solution. After a server program is
registered on a computer its id can be found in the system registry at
HKEYS_CLASSES_ROOT/&lt;Program ID&gt;/CLSID
       - If the ServerGUID is not defined in the initialization file then OPCdcsexec will first
attempt to resolve it from ServerName in the local registry.
- If the ServerGUID is not provided and the ServerName is not defined in the local
registry then OPCdcsexec will attempt to retrieve the CLSID from the remote machine
through the OPCENUM service.

       The server host computer must be configured to accept remote connections. This can be
performed through the DCOMCnfg.exe program, which is located in the system32 directory. The
"Default Properties" tab includes a global enable (/disable) for distributed COM. To check and
edit the DCOM configuration for an individual program one must select the program in the
"Applications" tab and select "Properties".

       Configuration of dcom security settings to allow the opc interface to operate in remote
host mode varies with Windows O.S. versions.





	IO Override

	The OPCdcsexec routine will automatically apply simplified IO Override processing to
points when they are configured in accord with the IO conventions usually followed.
	That is:

		AI override will be applied when an OPC AI point is located in global_aisw and
	    both global_aiov and global_aifl are configured.
		AI override will be applied when an OPC AI point is located in global_aosw and
	    both global_aoov and global_aofl are configured.

		AO override will be applied when an OPC AO point is located in global_aisw and
	    both global_aiov and global_aifl are configured.
		AO override will be applied when an OPC AO point is located in global_aosw and
	    both global_aoov and global_aofl are configured.

		DI override will be applied when an OPC DI point is located in global_disw and
	    both global_diov and global_difl are configured.
		DI override will be applied when an OPC DI point is located in global_dosw and
	    both global_doov and global_dofl are configured.

		DO override will be applied when an OPC DO point is located in global_disw and
	    both global_diov and global_difl are configured.
		DO override will be applied when an OPC DO point is located in global_dosw and
	    both global_doov and global_dofl are configured.


	AI override logic:

		if aiovfl
			aival = aiov * multiplier + bias
		else
			aival = aigmval  * multiplier + bias
			aiov = aigmval

		where:
			aigmval ::= value from global_aisw (or global_aosw)
			aiovfl ::= parallel value from global_aifl (or global_aofl)
			aiov ::= parallel value from global_aiov (or global_aoov)
			aival ::= value sent to OPC server
			multiplier ::= multiplier setting from points file (or 1.)
			bias ::= bias setting from points file (or 0)


	AO override logic:

		if aoovfl
			aogmval = aoov
		else
			aogmval = aoval * multiplier + bias
			aoov = aogmval

		where:
			aogmval ::= value posted to global_aosw (or global_aisw)
			aoovfl ::= parallel value from global_aofl (or global_aifl)
			aoov ::= parallel value from global_aoov (or global_aoov)
			aoval ::= value received from OPC server



	DI override logic:

		if diovfl
			dival = diov ^ diinvert
		else
			dival = digmval ^ diinvert
			diov = digmval

		where:
			digmval ::= value from global_disw (or global_dosw)
			diovfl ::= parallel value from global_difl (or global_dofl)
			diov ::= parallel value from global_diov (or global_doov)
			dival ::= value sent to OPC server
			diinvert ::= di invert setting


	DO override logic:

		if doovfl
			dogmval = doov
		else
			dogmval = doval ^ doinvert
			doov = dogmval

		where:
			dogmval ::= value posted to global_dosw (or global_disw)
			doovfl ::= parallel value from global_dofl (or global_difl)
			doov ::= parallel value from global_doov (or global_doov)
			doval ::= value received from OPC server
			doinvert ::= do invert setting







Local code interfaces


	    The OPCClient object included in the s3opc library is a simple generic
	implementation of interface between the executive and the client code module.
	In some cases additional interfaces are needed. In such cases that module may
	need to be replaced with a custom variation.




	    For the OPC client to call a user configured routine
	asynchronously on data change notification. 

	"OPCdcsexec.h" :

struct DCSXPOINTinfo;
typedef void	(*OPCDCSexec_notify_T)(void *gaddr, VARIANT *newval,
	DCSXPOINTinfo *x);
externC OPCDCSexec_notify_T OPCDCSexec_notify_AO;
externC OPCDCSexec_notify_T OPCDCSexec_notify_DO;
externC OPCDCSexec_notify_T OPCDCSexec_notify_OO;


	    Code in the host executive may post the address of an appropriate
	routine to the OPCDCSexec_notify_AO, _DO, _OO locations. The client
	interface will then invoke the provided routine during receipt of all
	data change notifications of the appropriate type. The global variable
	(address provided in "gaddr") will not yet have been updated. The
	"info" pointer may be used in the future when the need arises for the
	notified routine to receive more information about the point.



</Text>
</Topic>
<Topic>OPCserver<Text>






The SimExecWTsvr Program


Overview

	The SimExecWTsvr program is a rapid prototype "OPC Data Access Interface 
Specification 2.04" server which allows read and write access to SimExec simulation model 
global data to client program(s). 

	SimExecWTsvr may be configured to reside in any SimExec executive task and provides 
clients with access to all global data defined therein. It will require an initialization file to provide 
identification information and settings for various behavioral choices.

Server Configuration


	SimExecWTsvr is loaded into an executive task through lld. It will require an 
initialization file named "&lt;execname&gt;WT.ini" (where &lt;execname&gt; must be replaced with the 
executive name) located in the same directory as the executive executable file. This is a simple 
text file containing line oriented parameter definitions in the general form:

&lt;Parameter name&gt;=&lt;value&gt;

	Unrecognized entries in the initialization file will be silently ignored. An asterisk in the 
first column of a line explicitly indicates a comment. Reasonable default values are provided for 
absent initialization parameters where practical.  Little attempt is made to intercept unreasonable 
initialization values.
	The parameters which may be defined on this file are as follows (alphabetically).

dDeadband=&lt;float&gt;

	This parameter defines a deadband to be applied to parameter exception monitoring 
(default is 0).

Debug=&lt;integer&gt;

	If debug is set, then various trace prints will be enabled.

ExitOnTerm=&lt;integer&gt;

	When set, the executive will automatically terminate when all attached clients have 
disconnected. The automatic exit on no client connections will not be enabled until at least one 
client has connected.

PointFile=&lt;quoted file path&gt;

	When set, SimExecWTsvr will read the identified file to predefine OPC ItemIds 
designated therein. Each line is to contain an ItemId and a SimExec variable identifier (may be 
array member or structure member data point, if only one identifier is specified then the ItemId 
and variable name will be equivalent). This can be used to define variables for opc-browse 
clients, or to provide aliasing for client defined ItemIds which do not match model point names. 

ProcessPriority=&lt;priority selection name&gt;

	When selected the server will attempt to set the server process priority class to the 
specified value. Selections are "DEFAULT", "IDLE", "NORMAL", "HIGH", and 
"REALTIME". The default is usually appropriate, which leaves the process priority under control 
of the executive options.
 
ServerDescription=&lt;quoted description&gt;

	If set SimExecWTsvr will on registration insert the indicated description string. A default 
of "GSE Systems WT-Opc Server" is provided.

ServerGUID=&lt;server class id&gt;

	SimExecWTsvr will use the designated id as its unique class id. This should always be 
provided.

ServerName=&lt;string&gt;

	SimExecWTsvr will use the designated string as its "Program ID". Default value is 
"SimExecWTOPCsvr"

ServerRate=&lt;integer&gt;

	The defined server rate will be set to the defined value. The rate is defined in 
milliseconds, minimum is 10, and default is 250. The value provided should match the server call 
rate defined to lld.

SubScribeNotify=&lt;value&gt;

	When this is set the server will process exception update processing only for parameters 
which for which a subscription is active. Default is set. Clearing it may be appropriate if client 
programs use repeated read requests, rather than the OPC change notification subscription 
mechanism.

ThreadPriority=&lt;priority selection name&gt;

	When selected the server will set the server thread priority to the specified value. 
Selections are "DEFAULT", "LOWEST", "BELOW_NORMAL", "NORMAL", 
"ABOVE_NORMAL", "HIGHEST", and "TIME_CRITICAL".

Unregister=&lt;integer&gt;

	When set the server will delete the server registration entries on a clean exit. Default is 0.


UpdateByList=&lt;integer&gt;

	When set SimExecWTsvr will update all active points as a group, if clear then each 
active point will update individually. This is set by default, clearing is not likely to be desirable.

WakeInterval=&lt;integer&gt;

	This parameter defines an interval, in milliseconds, after which the server will perform its 
frame process when it has not been called by the executive. A default of 1000 is provided.

Set &lt;environment variable&gt;=&lt;value&gt;

	SimExecWTsvr will also accept set command resembling the Windows cmd set 
command to set local values for environment variables. This can be used to set the S3_ENV 
variable to allow an auto-launched activation to identify a SimExec modeling environment.

Installation and registration

	Install and register standard components

	Before using any OPC data access components the standard proxy stub and opcenum 
programs provided by the OPC foundation should be copied to the SYSTEM32 directory and 
registered.

       That is:
       
       Copy opccomn_ps.dll, opcproxy.dll, opcae_ps.dll and opchda.dll to the SYSTEM32 
directory, then from a cmd window type
       
       regsvr32 opccomn_ps.dll
       regsvr32 opcproxy.dll
       regsvr32 opc_aeps.dll
       regsvr32 opcchda_ps.dll
       
       Do not overwrite newer versions. These files are freely supplied by the OPC Foundation 
and latest versions may be downloaded from their web site. In addition the OPC Foundation 
advises that you verify that your system contains the actxprxy.dll and if not, install the ActiveX 
Redistributable Installation Kit for from Microsoft.
       
       The OPC foundation requires that the above proxy/stub dlls should not be installed to any 
location other than the Windows SYSTEM32 directory.


	Configure server in an executive

	The object code for the SimExecWTsvr program is provided in the library "s3opc.lib". It 
also requires the additional libraries "WTOPCsvr.lib" and "s3dll.lib". In order to configure the 
server into an executive one must first define the server entry point to the msf through a 
command of the form "dbm&gt;/INCLude SimExecWTsvr,LIBRARY,,opc". The following would 
then be added to the lld command file used to configure the executive.

	LOAd SimExecWTsvr,4,1,INIT,FRZ,RUN,TERM
	LDOption $(S3BASE)\lib\s3opc.lib
	LDOption $(S3BIN)\s3dll.lib
	LDOPtion $(S3BIN)\WTOPCsvr.lib

	The scheduling selections for the SimExecWTsvr module may need adjustment for 
specific needs. The above would configure a server to run at 4 cps, synchronized to the executive 
frames. 
       To execute at the full executive frame rate one might use
"Load SimExecWTsvr,0,0,init,framestart,term"
       Or
"Load SimExecWTsvr,0,0,init,frameend,term"
       To run independently of the executive frames, at a rate determined by the initialization 
parameter "WakeInterval" one might use
"Load SimExecWTsvr,0,0,init,term"


       Before activating the executive containing SimExecWTsvr a customized initialization file 
must be provided. The file name must consist of the executive name with "WT.ini" appended. 
Every instance must have a unique "ServerGUID" value. This should be generated by the 
(standard windows) program "guidgen".
       Example content follows.
       
*
Debug=0
*		do not terminate simulation on client disconnect
ExitOnDisconnect=0
*		predefine some items
PointFile=PreDefinedOPCitems.txt
*
ServerDescription="SimExec test OPC server"
*
* 	unique ID for this server
*
ServerGUID=9099990f-8da4-4823-a2a3-ab02c37cdb6f
*
ServerName=OPCexec
*
ServerRate=250
SubscribeNotify=1
Unregister=0
UpdateByList=1
WakeInterval=1000
*
set S3_ENV=C:\SimExec\homes\test\s3env
*
       
       
      Simulation Control items
       
       The following simulation control ItemIds are predefined by SimExecWTsvr.
       
       
       StatusReq: The client may write to "StatusReq" to request a change in simulation status 
(0 for freeze, 1 for run, other status values are also accepted).
       Status: The client may read to "Status" to detect the current simulation status (0 for 
freeze, 1 for run, other values exist).
        ISnapReq: The client may write an integer initial condition number to "ISnapReq" to 
request a simulation snapshot. 
       IResetReq: The client may write an integer initial condition number to "IResetReq" to 
request a simulation reset to previously save initial condition set.
       BSnapReq: The client may write an integer initial condition number to "BSnapReq" to 
request a simulation backtrack snapshot. 
       BResetReq: The client may write an integer initial condition number to "BResetReq" to 
request a simulation reset to previously save backtrack condition set.
       
       

       
       
      Miscellaneous issues
       
       Registration
       
       Entries must be made in the windows registry for all COM servers. An instance of 
SimExecWTsvr will automatically insert these entries during initialization. Deletion of the 
registry entries will occur only when the "Unregister" parameter is set in the server specific 
initialization file and a clean executive exit is performed.
       
       Dcomcnfg
       
       Windows operating systems provide the dcomcnfg program to adjust permissions related to 
execution of COM server programs. It must be used to customize permissions after registering an instance 
of SimExecWTsvr.
       
       The registration of an instance of SimExecWTsvr allows the windows operating system 
to attempt to automatically activate the program when a client program attempts connection. This 
could be appropriate for an iexec hosted simulation, but usually would not be, and is currently 
highly inappropriate for a real-time executive based server.  Use dcomcnfg to adjust this.
       


 
</Text>
</Topic>
<Topic>mst<Text>
	MST

    The Master Synchronization Task (MST) provides central control functions in
the multi-tasking real-time environment. In this environment model programs are
loaded into real-time executives; Multiple real-time executive tasks share
memory with each other, mst, and other tasks. MST is responsible for system
initialization, initial condition operations, and control of status, clock,
and frame timing.

    Basic real-time simulation processing can be performed in an interactive
executive system; however, in most installations a real-time system with
multiple coordinated programs is preferred.


    In real-time, ic write requests are performed by a co-task named
"mst_icio". On multiprocessor machines, one can configure the executive system
to run multiple copies of the ic read/write task (one copy per processor). This
can be done if it's found that one ic read/write task will not be able to
complete an ic write request (specifically backtrack requests) within real-time
boundaries. Each copy of the ic read/write task will be assigned a portion of
the globals to read/write upon request. This assignment is performed explicitly
by the system analyst. (This capability is not compatible with the 1 file per
ic file format and may be considered obsolete as memory copy rates are usually
sufficient to make it unnecessary.)


mst_icio	(multiple copies)

    Will perform ic read/write requests designated. The first argument to the
task, indicates which processor the task will run in (e.g. 1)


Real-Time Simulation Load  (c.trncon)

    The SimExec system utilizes executives created by LLD for both real-time and
interactive simulation. There are a few differences in the executive lld
configuration between real-time executives and interactive executive.
    Most importantly: real-time executives are linked with the expectation that
memory partitions will be shared (on Windows by linking with mstG.dll rather
than local global partition definitions, on Linux by assigning appropriate
addresses to the partitions). This difference is indicated to lld by use
of the 'DESIGNATE' command to begin configuration of a real-time executive
versus 'EXEC' to begin configuration of an interactive executive. Real-time
executives are activated by MST with options specified in the trainer
configuration file. (The first option is the unique number of the
executive, and the last option is the PID of the activating task.)

    MST uses a "trainer configuration file" to specify what and how to configure
the simulation system. By default the trainer configuration file name is
"c.trncon', however, there is an option to specify a different file. The
SimExec Desktop (s3if) treats ".trncon" as a suffix to find alternative
configurations.


	mst -f &lt;filename&gt;

Where:	&lt;filename&gt;	Is the name of the configuration file to be used


    Mst will look for the named file first in the uds/text directory of the
activating user, second in the ods /text directory of the system, and third
in the uds home directory.

    The trainer configuration file is a simple ascii text file. The functions
include identification of global partitions for initialization and initial
condition operations, and activation of executive tasks to be controlled by MST.
The command syntax recognized in the trainer configuration file is very simple;
Unrecognizable lines are silently ignored. Comment lines should begin with an
asterisk character.  Envornment variable macro substitution will be performed
on trainer configuration file input. Lines may be continued by ending the line
to be continued with a backslash followed immediately with return.

Trainer configuration command line syntax are as follows.

g,&lt;global1&gt;[,&lt;global2&gt;...]

	    Load and initialize the listed global partitions. This command uses
	the definitions in s3_globals file when loading the global. It also
	uses the d.global* files created by dftglob (const and dfglob) to
	initialize global partitions.

h,&lt;hertz&gt;

	    Set the number of frames per second. Valid entries are 1 through 60.
	(If absent, mst will check environmental "S3_HERTZ" to choose the
	frame rate.)


i,&lt;proc no&gt;, &lt;global1&gt;[, &lt;global2&gt; ...]

	    Flag the listed global partitions to be included in initial
	condition snapshot and reset operations. The globals will be snapshot
	and reset by the mst_icio task running on processor &lt;proc no&gt;. The
	analyst is required to explicitly activate instances of mst_icio for
	each processor to which any globals are assigned (these must be after
	"i" command lines). The processor number is required as the first
	argument to mst_icio. (The single file per IC format requires that
	only a single instance of mst_icio be used.)

x,&lt;execname&gt;(&lt;execnumber&gt; [&lt;option1&gt;[ &lt;option2&gt; ...]])

	    Activate named executive with selected options. The &lt;execname&gt; is
	the name of a real-time executive created by LLD. The &lt;execnumber&gt;
	must be unique for each executive and may range from 1 to 99, it
	should match the executive number used on the "designate" command to
	configure the executive in lld.

z,&lt;option&gt;

	   Configure I/O processing. This command recognizes three options
	as follows:

	i
		Initialize and enable I/O processing.

	d
		Disable I/O processing.

	s
		Do not initialize I/O hardware, but enable I/O software
		processing.

	    This selection is placed in global memory for io processing software
	expected to be loaded into a real time executive. MST will recognize
	that the selection "i" to indicate that "Switch Check" status should
	be entered upon initial condition reset.


a[,&lt;modifiers&gt;...],&lt;taskname&gt; &lt;options&gt; ...
	    Activate the task &lt;taskname&gt; with &lt;options&gt;.
	For example, to activate (required) IC read/write routine:

	a,mst_icio N [globalxx start, size]

	    Where N is processor number. Optional argument specifies global
	name and range for 1st partition. For example, to split 400 kw global_v
	between processors 5 and 6, specify the following:

	i,0,global_v
	a,mst_icio 5 global_v 0X0,0xc8000
	a,mst_icio 6 global_v 0xc8000,0xc8000

    Where &lt;modifiers&gt; may include:
	c=&lt;integer&gt;		To assign a processor affinity
	n=&lt;integer&gt;		To assign a priority
	d=&lt;path&gt;		To assign a default directory
	e"&lt;variable&gt;=&lt;value&gt;"	To assign an environment variable setting


b,&lt;shell command&gt;

	    Execute a shell command (waits for completion).

D, [&lt;mstslow&gt;], [&lt;maxslip&gt;]

	    Set non real-time, "Development" mode flag. In this mode MST
	enforces strict frame sequencing instead of real time execution. When
	any executive has not completed its frame when it is time for the next
	frame to start, mst will increment global99 variable "mst_D_waits" and
	wait until the next frame time.
	    The &lt;maxslip&gt; parameter places a limit on how many frame times mst
	will wait for a single frame to complete before continuing normal
	frame execution logic. This allows overtime interception should errant
	model code be in an endless loop.
	    &lt;mstslow&gt; is a real number used as a multiplier to the frame
	interval. A value greater than 1.0 increases the time allowed per
	frame, resulting in slow time. A value less than 1.0 decreases the
	frame interval and attempts to run fast. (A zero is forced equivalent
	to 1.0).

d,[&lt;mstslow&gt;],[&lt;maxslip&gt;]

	    Set real-time mode system flags. &lt;mstslow&gt; is a real number used
	as a multiplier to the frame size (as described above under the "D"
	setting).  &lt;maxslip&gt; is an integer. On Windows it defines a default
	value for the rtexec "-o" parameter. (On linux is configures a
	secondary overtime failure logic).

e,&lt;additional environment&gt;

	    Define new environment variable to be used by synchronization task.
	Specifically to define protected ICs, ie. "e,IC_PROTECT=20" will
	protect ICs 0 through 20 with a password on all snaps. The format
	NAME=value is required.

E,&lt;filename&gt;

	     Define US3 environment file. Setenv lines only per S3_ENV

fec,&lt;nframes&gt;

	    Framing error correction logic enabled. This functionality can be
	used to adjust for discrepancies between the desired frame rate and the
	freme interval precision available. Mst increments a counter on
	each run frame. If fec has been defined then whenever the counter
	reaches the defined value &lt;nframes&gt;, a frame interval is skipped to get
	back on track. The counter is zeroed on any status transition. The
	frame time interval is defined on Windows operating systems in
	milliseconds. When the precise desired interval is not an even
	millisecond the simulation will slowly gain time.
	    An "fec" setting is desirable to maintain the integrity of run mode
	ic snapshots and backtrack records.
	    For example: if the cycle rate is 32; 1000/32 = 31.25 ticks
	milliseconds therefore with a 32 hertz MST will run 1/125 too fast.
	Specifying fec,124 in the trainer configuration file will notify MST to
	adjust for this by skipping every 125th frame, resulting in improved
	long term real-time accuracy.

G,&lt;global1&gt;[,&lt;global2&gt; ...]

	    An alternative command to "g" which designates that the global
	identified is to be re-initialized (from d.glob* file) on each reset.

ipcr

	    Set status to IPCR at end of reset. Status IPCR is for PPC System
	reset, PPC is expected to request freeze when it is done resetting.

rcc,&lt;execno&gt; &lt;nframes&gt; [&lt;max&gt;]

	    Configures a rubber clock constraint. Should the real-time
	executive identified by &lt;execno&gt; fall &lt;nframes&gt; behind, MST will delay
	the start of the next frame until that executive completes its frame.
	The optional 3rd parameter defines a overtime for the executive.




sf,&lt;integer&gt;

	    Provide for restriction of run mode snapshots to specific frames.
	The snapshot commencement will occur only on frames evenly divisible by
	the given number in the command. For example:

	h,32
	sf,8

		would be used to configure a 32 hertz system with run mode
	snapshots performed only on 4 hertz boundaries (i.e. frames 0, 8, 16,
	or 24).

I,&lt;ic patch exec&gt;

	    Enable IC patch functions. The IC patch function will automatically
	activate the isd utility in a batch mode on completion of a reset to an
	IC. Isd will connect to the real time executive designated by the
	&lt;ic patch exec&gt; argument, and select the patch file(s) to set variable
	patch values.  Two conventions are recognized for such ic patch files.

	 - "C.innn"
		(where nnn specifies ic number) from the uds directory in
		which the real time load was activated. These "C." files must
		be generated for each IC to be patched and are expected to
		contain isd "set" commands for the required patches. A separate
		file is needed for each IC (though nested select commands could
		be used).

	- &lt;IC Directory&gt;/&lt;ic name&gt;.icpatch
		These files are supported by the dbm&gt;/icpatch command and
		related interfaces.

	    When isd processes patch files on a reset, its output is
	placed in file "l.icpatch".
	    When an IC is snapped, the patch file(s) for that IC are
	deleted as obsolete.


read,&lt;filepath&gt;

	    Read additional trainer configuration commands from the file
	designated by the filepath argument.


n,&lt;priority&gt;

	    Select a specific priority for mst.

p,&lt;processor number&gt;

	    Select a processor bias or affinity for mst.

icshuffle,1
    or
icshuffle,0

	      Enables or disables the automated ic shuffle operation.

statuslog
		Enables trace of all status changes to mst.log

statusprint
		Enables trace of all status changes to mst console window



MST environment variables:

	REMSHM

		(Linux only) When set to a non-zero value MST will, on exit,
	    remove the system shared memory segments which it created for
	    shared global partitions.

	RCC_trace

		When set to a non-zero value MST will print traces of RCC
	    related actions.

	S3_24HR

		When set to a non-zero value mst will increment "clock_days" and
	    reset hour to 0 when problem time reaches 24 hours. (Use is not
	    recommended because Jade Instructor Station does not display
	    days as part of problem time).

	S3_BCKDIR_O
	S3_ICDIR
	S3_ICPATH
	S3_IC_SUFFIX

		These may be used to customize the location of IC files.

	S3_CIC

		When set to a non-zero value MST will use and expect the one
	    file per IC format for IC and backtrack files.  When set to zero
	    MST will use and expect the one file per partition per IC format
	    for IC and backtrack files.

	S3_HERTZ

		See trncon "h" line description above.

	S3_MSTSYS=&lt;name&gt;

		(Windows only) Will apply the given name as a suffix to its
	    named event signals. Unique settings are required when executing
	    multiple instances of mst on a shared computer.

	S3_ODS_IMAGE=&lt;path&gt;

		Will override the default (S3_ODS) location of default
	    global image data files.

	S3_TOD_Reset


		When set to a non-zero value mst will set problem time to the
	    local system time on IC reset.




MST frame scheduling options


	MST supports several frame scheduling policy choices. Most of the
    issues are to control how mst responds to executives failing to have
    completed execution of a previous frame when it is time for the next frame
    to begin. MST scheduling is designed with the expectation that real-time
    system performance on a frame by frame will be achieved, however the
    actual requirements for the simulation systems where it is applied are
    somewhat soft. A large portion of users prefer to use Windows O.S.
    environments. The ability of Windows to support soft real time performance
    varies considerably across differing versions and platforms, but none can
    hard real time requirements. Linux also does not support hard real-time,
    but experience to date indicates that it is more reliable for soft real
    time.

	The primary approach that mst will take to real time scheduling is
    chosen by the development system configuration option line in the trainer
    configuration file (trncon). Choices include the following:

	d,&lt;second&gt;,&lt;frames&gt;
	do,&lt;second&gt;,&lt;frames&gt;
	ds,&lt;second&gt;,&lt;frames&gt;
	D,&lt;second&gt;,&lt;frames&gt;

	For each case the approach is determined by the leading characters;
    The second parameter is a floating point number to adjust the length of a
    simulation second; The third is an overtime configuration frame count.

	Development mode - big 'D'

	The upper case D option for development mode selection is intended for
    use on development systems which may lack sufficient CPU power to execute
    the simulation load in real time. When in effect, when any executives have
    not completed their frame when it is time to start the next mst will simply
    wait until the next time cycle to start the next frame.


	Strict real time mode - little "d" or "do"

	The default mst scheduling protocol prioritizes real-time framing
    as an absolute requirement over strict frame sequencing by allowing frames
    to overlap when real time executives have not completed a previous frame
    when it is time to begin the next.

	
	Strict frame sequence mode - "ds"


		"ds,&lt;tps&gt;,&lt;framecount&gt;

	Selects "Maintain Frame Sequence" scheduling. In this mode mst will
    wait for all rtexecs to finish each frame before starting the next,
    that is: no overlap is allowed. When rtexec(s) are not ready mst will wait
    for them and after doing so will start succeeding frames as soon as
    rtexecs are ready as needed to catch up. Frames will be dropped from real
    time and mst_D_waits incremented when the frames needed to catch up
    exceed 1 second.

	related global99 variables:

		drpioff -&gt; mst_go

			The long obsolete global99 variable drpioff
		    is renamed "mst_go". It may be monitored
		    by programs which may need to be aware that
		    frame "catch up" is pending. zero and 1 are normal
		    values, (larger values normal in fast time),
		    greater than one during normal run state would
		    indicate the catch up is pending (higher values
		    during other states, such as reset, are expected).

		sstintc -&gt; mst_maxgo


			The long obsolete global99 variable ssstintc
		    should be renamed mst_maxgo. mst will update it
		    to whenever mst_go is larger than its current value.
		    It is a debug monitor aide to help see what is
		    happening during "ds" mode run sessions. It will
		    usually need to be manually zeroed at start of a
		    session to be useful.

		rtexflag[exno+1] - increments when mst waits on exec

			rtexflag[exno+1] increments by halfword
		    during "do" operation whenever an executive frame
		    overlaps. Under ds mode it will increment whenever
		    mst waits on the executive.

	    When using the "ds" scheduling mode, it is important that analysts
	or developers monitor the global99 variable "mst_D_waits" to be aware
	whether second to second real-time is being attained.

	    The "ds" scheduling mode cannot support configuration of an
	executive which is expected to normally overlap frames to support a
	lower rate, cpu intensive model. When such a model is part of the
	system, the default, overlapping, scheduling mode must be used. The
	"rcc" feature of mst is meaningless under the "ds" scheduling protocol.
	When the "do" protocol is used it provides considerable flexibility
	for an analyst to implement a compromise solution.


</Text>
</Topic>
<Topic>msts<Text>

		Executing Multiple Instances of Mst On One Computer


	Some extra configuration is required to concurrently execute multiple
    mst systems on a single computer.

	The following assumes that it is desired to execute different systems
    concurrently (rather than multiple copies of a single system, the concerns
    differ slightly).



	Each system is to have separate S3_HOME, and JADE directories, and
separate environment setup.

	Be sure that the startup sequence for each system provides appropriate
settings such that each will have appropriate environmental settings. 

	     Take care that separate ports are configured for s3serv (typical
	system default uses named service "s3" defined as 9000 in the
	/etc/services or %windir%\system32\drivers\etc\services file).

On Windows :

	     Take care that mismatching mstG.dll executables will not be shared
	(most systems place it in their S3_HOME directory, and therefore include
	that directory on PATH).

	    Add environment variable S3_MSTSYS (usually in S3_ENV file) with
	different values for each system. This will be used as a name suffix
	for event objects used to coordinate between mst and the real time
	executive tasks.

	    Each system must use different real time executive names.

On Linux :

	    The systems must use all different shared memory id numbers for
	their shared memory paritions. This can be configured by using different
	numbers in their respective instances of the s3_globals file, or by use
	of the S3_GKEY_ADDEND environment variable.

	    Different real time executive names is not strictly required but is
	strongly recommended.


On both Windows and Linux :

	    The above is sufficient to execute multiple instances of mst.
	Additional configuration is required for the instructor station servers.


	    Only one copy at a time of DIRserver may execute on a system. Its
	configuration (&lt;seisdir&gt;/DIRserver.dat, or ODBC source "opsproj") must
	include all systems with differing data values for each of the 4 RPC
	program number fields. If each project configuration includes DIRserver
	with the same data then the multiple system configuration should be
	sound. Whichever first activates dirserver will serve for all,
	additional activations will quit during initialization with an
	"already active" warning.

	    The DIRserver.dat file includes a one line entry for each project
	defined.

		The short form contains 3 fields only, separated by the pipe
	    (or or) symbol character ("|").

	&lt;Project name&gt;|&lt;dbahost&gt;|&lt;gdahost&gt;

		When the short form is used default values are used for each of
	    the 4 RPC program numbers.

		DBARPC	570425346
		GDARPC	536870911
		RTSRPC	536870912
		TDCRPC	536870913

		Multiple projects on one computer are not supported by the
	    short form.


		The long form contains 13 fields separated by the comma
	    character :

	&lt;Project name&gt;,&lt;hdir&gt;,&lt;ouser&gt;,&lt;binp&gt;,
		&lt;dbahost&gt;,&lt;dbarpc&gt;,
		&lt;rtshost&gt;,&lt;rtsrpc&gt;,
		&lt;gdahost&gt;,&lt;gdarpc&gt;,
		&lt;tdhost&gt;,&lt;tdrpc&gt;,&lt;nics&gt;

		The &lt;hdir&gt;, &lt;ouser&gt;, &lt;binp&gt; and &lt;nics&gt; fields are not used, they
 	    need to be included with a space character (",," will not work
	    because primitive coding with strtok is used to recognize the
	    fields).

		Each server must be given a unique RPC program number (counting
	    from 536870914 should work).


		The original meaning of the RPC program numbers is overridden
	    by JISserver. The RTSRPC and TDCRPC numbers are both used by
	    JISServer (one as GOA services, the other as JIS services).

		(AFAIK, which could be wrong, the OpenSim for Window version of
	    dirserver is not compatible with JIS, and vice-versa, because the 2
	    systems override the RTS service in incompatible manners.)



On both Windows and Linux :


		Beware that the use of a "killall" program in download scripts
	    will cause a download of one to interfere with others.

</Text>
</Topic>
<Topic>privilege<Text>

	Most commands which modify to ODS database are restricted to "privileged" users. This
    includes dbm merge commands, and direct modification of the ODS level database.


	Dbm (etc.) determination of who is a privileged user is completely different on unix/linux
    versus Windows systems.


On linux:

                Privileged users are those belonging to group ss3 (or to s3 iff group ss3 is not
	     defined).

		Default (i.e. neither group defined): NOBODY


On Windows:

                Create file named privilege in the ods directory, use windows permissions to
	    give only privileged users write access to the file. (The contents of the privilege
	    file are meaningless, only the file permissions attached matter.)


                Default (i.e. file does not exist): EVERYBODY


	Using O.S. permissions to give only privileged users write access to the ods database
    files is not consistent with the system. When a non-privileged user compiles a UDS level
    module which references ODS level points and modules, cross reference information is written 
    to the ODS MDD and MSF files.
</Text>
</Topic>
<Topic>jdb<Text>

Draft for jdb help; It is currently far from complete.


--	jdb General

    jdb provides a point and click oriented graphic user interface (GUI) front
end for most functions of the SimExec system. All interactions with the SimExec
system are performed through ethernet connections to the s3serv program. All
functions act the same whether connected to a SimExec system residing on the
same computer as jdb or connected to another computer.



--	jdb command line

    jdb is usually activated through a command file line of the form

java -Xmx1024m -jar &lt;path to jdb.jar&gt;

    The most likely reasons should this fail are that java is not configured
in the user environment, or that the command file has an incorrect path.

    The "-Xmx1024m" expands a limit imposed by the java virtual machine on
how much memory the program may allocate. (The default limit is fairly
conservative and can easily be overrun by trend data.)

    Alternates include:

    Some users prefer to use "javaw" in place of java. This will drop the
association with a console window. jdb normally prints little to the
console, and what it does print there is usually of little user interest,
therefore this produces less window clutter on the dashboard. Console prints
are likely to be useful when things go wrong.

    Windows file suffix association makes it possible to activate jdb by
simply selecting the jar file. Beware that in this case the memory expansion
argument normally present in the command file will not apply, and that when
selected from windows explorer the default directory will be the user specific
home directory.

	Command line arguments

    jdb will recognize the name of a state file as command line argument. This
follows the convention "&lt;state name&gt;.jdbState". jdb will attempt to restore
to the state identified.

   jdb will also accept text input commands as input arguments. (This is
considered of relatively limited usefulness because use of command control is
not encouraged.)




--	Initial entry

    On initial entry jdb will attempt to read its a configuration file
from the activation default directory. If no such file is found then it will
display an initial configuration window asking "No Config File, Continue?"
Select the Yes button to continue.  The SimExec Dashboard with all data fields
empty will then be displayed.

    If a saved configuration file was found then jdb will skip the above
dialog and display the dashboard upon entry. An s3serv connection must be
established before much else is done.

    The config file may be saved from the SimExec dashboard at any time by
selecting "Save Settings" from the "Settings" submenu. jdb records any
connection ids which have been established, and many other user selections in
the settings file. If it is present, jdb will read it to recall previous
selections. Included among these settings are options to automatically
update the settings file on exit, and to automatically establish s3serv and
and executive connections on entry.


--	DashBoard Initial state


    On initial entry the SimExec DashBoard will include:

	A main menu bar containing drop-down menus and buttons.

	A "Host and Executive Connection" toolbar frame.

	A "Listed output and command line" frame.


    Little more can be done untill a connection to s3serv is established. This
is normally accomplished through the "Host and Executive Connection" toolbar
frame. If the saved configuration file has Auto-Connect set true then jdb
will immediately attempt to establish a connection to the s3serv identified
in the configuration file. If the saved configuration file also has Auto-Attach
set then it will proceed to attach to the executive identified. If
"Auto-SaveConfig" is also set then these will reflect the connection and
attachment which were active when jdb was last exited in the directory.

    jdb will then check for command line options. The only command line
option recognized is the name of an jdb state save file (that is:
&lt;statesavename&gt;.jdbState); if this is present jdb will restore that state.


    The DashBoard initially will contain the dashboard tools menu bar with 6 drop
down menus and 6 buttons, the connection toolbar, and a listed output and
simple command window.   These drop-down memus are repeated as submenus of
a popup menu displayed by right-click on any unoccupied area on the dashboard
pane.


--	The "Host and Executive Connection" Bar

    The "Host and Executive connection" bar is used to show and control the
jdb connection to a SimExec system and executive. It is a horizontal frame
normally displayed just below the main menu bar. It may be moved, resized,
mimimized, but may not be closed.


    Establishing an s3serv connection requires 4 fields, each of which is
selected from a drop down text selection on filling the first 4 positions
of this toolbar.

	"host" 

		    This drop down text selection box is used to display and
		select the SimExec host computer system. When a connection is
		active the name of the currently connected host is displayed,
		and input is disabled. When no connection is active the host
		may be selected from the list of known hosts, or entered in
		the text box. The host may be selected by IP address (a 4 part
		number) or by computer name.

	"port"

		    This drop down text selection box is used to display and
		select the s3serv port . When a connection is active the
		connected port is displayed, and input is disabled. When no
		connection is active the port may be selected from the list of
		known ports, or entered in the text box. The port may be
		identified by number or by a name which is resolved by the
		"services" file.

	"user"

		    This drop down text selection box is used to display and
		control the user name assosciated with the session. When a
		connection is active the name of the currently selected user
		name is displayed, and input is disabled. When no connection
		is active the user name may be selected from the list of known
		(i.e. previously used) user names, or entered in the text box.
		The user name is used as a directory name created by jdb on the
		local machine used for trend and edit files).

	"uds"

		    This drop down text selection box is used to display and
		control the uds (user development system) selection assosciated
		with the SimExec connection. When a connection is active 
		the name of the currently selected uds name is displayed, and
		input is disabled. When no connection is active the uds name
		may be selected from the list of known udss, or entered in the
		text box. (The uds name corresponds to a subdirectory of the
		S3_HOME directory on the host system. The name length
		is limited to 4 characters. A new uds may not be created nor
		initialized by jdb).


	"Connect" or "Disconnect" button.

		    The Connect button is selected after a desired host, user,
		uds have been selected in the corresponding text boxes. jdb
		will attempt to establish an s3serv connection to the chosen
		system.  When an active connection has been established the
		Connect button is replaced with a "Disconnect" button.  The
		Disconnect button is selected to close the active SimExec
		system connection. 


	"executive"

		    This drop down text selection box is used to display and
		select the SimExec executive connection. When an executive
		connection is active the name of the currently connected
		executive is displayed, and input is disabled. When an s3serv
		connection is active with no executive connection an executive
		may be selected from the list of known executives, or entered
		in the text box.

	"Activate" or "Attach" or "Detach" button.

		    When an s3serv connection to a SimExec system is
		established and an executive task name has been selected in
		the "executive" task box the "Activate" or "Attach" button is
		selected to establish a connection to the selected executive
		on the host system. If the executive is not active then it will
		be activated. (If it is an interactive executive, real time
		executives are activated by mst).  This button is enabled only
		when a connection is active to a SimExec system, but no
		executive connection is active.  Upon successfully
		establishing connection to an executive task jdb will replace
		the "Activate" or "Attach" button with the "Detach" button,
		enable the "Kill" button, and display the "Executive Control"
		toolbar.

	"Kill" button.

	    	    When jdb is connected to an executive task the kill button
		is enabled.  When selected jdb will request that the executive
		exit, and close its connection to that executive.



--	Main Menu Bar

	    The main menu bar contains always appears at the top of the SimExec
	DashBoard. If contains a series of drop down menus to select various
	jdb functions and a series of buttons which reproduce some of the
	most common selections.
	    The same selection of menus are also available from a popup
	menu displayed by right-clicking the mouse on any unoccupied area of
	the SimExec DashBoard.

	    The Menu heirarchy is as follows:

	Online
		Monitor
		Trend
		Executive Modules
			All
			Control
			Out
		Frame Times
	Exec
		Lld
		Mst
	Database
		Variable Database
		Module Database
		Tdb
		IC Patch
		Dftglob Uds
		Dftglob Ods
		DBM Frame
		DBM/ISD Window
	Settings
		Settings Frame
		Save Settings
		Look &amp; Feel
	State
		SaveOver
		Save
		Restore
	State


	    The Main Menu Bar also contains a selection of buttons as follows:

	Modules (overlapping boxes)

		The Modules button will activate an instance of the Modules
	    frame on the jdb dashboard. This is the same function as is initiated
	    by the "Module Database" menu item.

	Variables (globe)

		The Modules button will activate an instance of the DataPoints
	    or Variables frame on the jdb dashboard. This is the same function
	    as is initiated by the "Variable Database" menu item.


	Monitor (magnifying glass)

		The Monitor button will activate an instance of the Monitor
	    frame on the jdb dashboard. This is the same function as is
	    initiated by the "Monitor" item on the Online menu.


	Trend

		The Trend button, or the equivalenct menu item will add an
	    instance of the trend window to the dashboard. If an executive
	    connection is active, then the new trend window will be attached.
	    Trend window activation is enabled when no executive is attached
	    in order to support review of trend data export files from previous
	    sessions.

	Help (?)

		The Help button attempts to active a browser window with an
	    html help file for jdb. This will fail to happen when the file is
	    not present in the expected location. The action may be edited by
	    entry to the "Help Command" item on the Settings frame.

	Status (snowflake)

		The Status button toggles the simulation status in attached
	    simulation executive. It changes color to indicate the current
	    simulation status (Freeze, Run (or Step), Fail, Other).


--	"Executive Control" bar


	The Executive Control toolbar is displayed upon establishing
    connection to an executive task, and disappears when that connection is
    closed.  It is a horizontal frame initially displayed below the "Host and
    Executive Connection" toolbar. It may be moved, resized, and minimized,
    but may not be explicitly closed.

	The Executive Control toolbar contains the following elements:

    Executive status and problem time display

	    The current executive status (FREEZE, RUN, etc.) and problem time
	are displayed.

    Run/Freeze button

	    The run freeze button will request an executive status change.
	It will display "RUN" when the executive is in the freeze state. It
	will display "FREEZE" in most other conditions. When the button is
	clicked jdb will request the named executive status.


    "Step" button

	    The Step button will request the executive perform a timed
	execution step. The interval is selected from the settings frame.
	This button is only enabled when the executive is in a freeze status.

    "Rate" menu

	    The Rate box holds a drop down menu to select a executive rate of
	"Normal", "Slow" or "Fast". The Slow or Fast factors may be adjusted in
	the Settings frame.

    "Reset" button

	    The Reset button will request the attached executive reset to 
	the initial condition currently selected in the Reset menu box.

    "Reset" menu box

	    The Reset menu box provides a drop-down selection of numbered
	initial condition sets from 1 to 100 for reset from the reset button.
	One may also type a number into this box, which must be used when one
	wishes to reset to ic 0 or 101 through 999.


    "Snap" button

	    The Snap button will request the attached executive save the
	initial condition currently selected in the Snapshot menu box.

    "Snapshot" menu box

	    The Snapshot menu box provides a drop-down selection of numbered
	initial condition sets from 1 to 100 for snapshot from the snap button.
	One may also type a number into this box, which must be used when one
	wishes to snapshot to ic 0 or 101 through 999.


    "Btr" button

	    The Btr button will request the executive reset to the selected
	backtrack record. This function is enabled if and only if the
	jdb backtrack save functionality is active.


    "Backtrack" menu

	    The backtrack menu allows the selection from a drop down menu of
	backtrack records (by problem time) for reset from the Btr button.
	    This is only enabled when the jdb backtrack save is active.
	Backtrack snapshot scheduling is normally performed by instructor
	station software. jdb will initiate backtrack snapshots (and enable
	the Btr button and this Backtrack drop down) only when it is connected
	to an interactive executive which it activated and the backtrack
	interval (see the Settings frame) is non-zero.



--	"Listed output and command line" window

    The "Listed output and command line" window consists a text window with
a command line, with 3 tiny action buttons, at the bottom. It is initially
placed at the lower right of the dashboard. It may be moved, resized, and
minimized, but may not be closed.

    Many jdb actions produce listed output to this window. The content scrolls
with lines added at the bottom, and (when necessary) deleted at the top.

    The total number of text lines which will be retained is controled by
the "Output Buffer Lines" parameter setting. This has a default value of 5000,
and may be edited in the "Settings" frame.

--.--	"Listed output and command line" command line

	Under the scrolled output window there is a line for entry of text
    commands. A large portion of the commands defined by dbm or isd may be
    entered on this command line. Some dbm commands are implemented in jdb,
    most are passed to s3serv for execution, with results displaced in the
    Listed Output window.  There are also a large number of jdb internal
    commands which may be entered here. Commands are first compared with the
    intercepted and local commands, and if not resolved passed to s3serv.
    Most of the jdb specific commands are primarily internal rather than
    intended for general usage. 

    Command line leading syntax

	"&amp;"

		The implementation of a large portion of the acceptable dbm
	    and isd commands consists of passing them off to the s3serv
	    attached and adding any listed output to the scroll window. A
	    leading ampersand character on a command tells jdb to do so
	    without checking for other cases.

	"//"

		The s3serv connection is not available for other activity
	    while s3serv is performing a command. Therefore any command request
	    which takes a relatively long time to complete will cause delayed
	    response for other dashboard activity. When a command starts with
	    double slash jdb will submit the command (without the extra slash
	    character) on an auxiliary s3serv connection, thereby allowing other
	    dashboard activity to continue while processing.

    Intercepted dbm and isd commands

	    The following commands are rejected by jdb as not supported:

		Quit, USER, CDF, CDS, DROp, MACro, OPEn, CLOse, EXAmine,
		WAIt


	    The following commands are intercepted for jdb implementation to
	override matching dbm commands.

		ATTach, DETach, EXEc, KILL, EXIT, X
		MODify, ADD, MDD, OMOD, ROOT



	

--.--	"Listed output and command line" command line buttons

	To the right of the command line there is a group of 3 very small
    buttons as follows.

	"Clear Output Window"

		This clears the current content of the scrolled output window.
	    It is the upper left of the 3 tiny buttons.

	"transfer Content to Edit window"

		This transfers the current content of the scrolled output window
	    to an editor (the preferred editor program must be configured in the
	    Settings frame).  It is the upper right of the tiny buttons.

	"Print output window contents"

		This will initiate a print control to print the current contents
	    of the scrolled output window. It is the lower left of the tiny
	    buttons.

@modules
--	Module Database

    The Module Database tool provides access to information in the SimExec
Module Specification (MSF) database. It may be activated from either the
"Modules" button on the main menu bar, or from the drop down menu.
    The Modules frame includes buttons at the top of its frame, and a
"Module Table" tab.  The table may be populated by entering a module name,
which may include wild card characters ("*" or "?") in the name collumn.
Other selection criteria may be selected by using the "Select" button.


--.-	Module Database window buttons

--.-.-	Select

    The Select button will initiate display of an "Module Select" window. This
supports selection of modules to populate the module table by the various
selection criteria defined by the dbm LMSF command. It can also be used to
generate LMSF reports in the "Listed output and Command Line window. The
"Module Select" window includes the following items:

    1st line:

	    "Name" 

		    A text field where a module name or wild card module name
		specification may be entered. 

    2nd line:

	     Level menu

		    A drop down menu to specify a module selection level,
		containing the selections

			UO	- Amended system level
			U	- User Development System level only
			O	- Official Development System level only
			U+O	- Include both levels

	    "System" 

		    A text field to select by system id.

	    Module type menu

		    A drop down menu to specify module type, contains the
		following selections:

			Any Type
			Executive
			Control
			Segment
			Component
			Subroutine
			Generic
			BlockData
			Library
			Intrinsic
			Text

	    Consistency
	
		    A drop down menu to select by module consistency status,
		containing the following selections:

			&lt;blank&gt;	- select consistent or inconsistent modules
			Consistent	- select only consistent modules
			Inconsistent	- select only inconsistent modules


	3rd line 

	    Get Modules button -

		    When this button is clicked the selection criteria
	 	selected in the above fields will be used to select
		lines to add to the module display table.

	    List Form box

		    The list form box provides a selection of LMSF format
		options.

	    List Selected Modules

		    When the list modules button is clicked the module selection
		criteria selected in the above fields and the format selection
		from the List Form box are combined to produce an LMSF listing.
		This list is produced in the Listed output frame.

--.-.-	Add Tab

	Selecting the "Add Tab" button will add a tab to the Module Database
    window containing another instance of the module table.



--.-.- Close Tab

	Selecting the "Close Tab" button will close the currently selected
    module table tab. If no module table tabs remain then the Modules window
    will be closed.

--.-.- Include Button

	Selecting the Include button will display a window to enter fields
    defining a new entry for the module specification file. Enter the module
    name, select a module type, System id, function return type (if applicable)
    and Description, and optionally a language, then click the "Include" button
    to add a new entry to the MSF. 

--.-.- Print Button

	Selecting the module table print button will activate a standard
    Print window from which one may select an available printer and various
    options related to a print job. When "Print" is confirmed a copy of the
    module table is sent to the printer.

--.-.- Merge Tabs Button

	Selection of the Merge Tabs button will combine all module table tabs
    in the current window into a single tab.

--.-.- Merge Frames Button

	Selection of the Merge Frames button will combine all module table tabs
    from all active modules windows into a single tab in a single window.

--.-	Module Table actions

	Each line of the module table displays a line number, module name,
    level, type, status, and description for an MSF entry. Edit of the Name
    field is one way to select modules for display. When a UDS level module is
    displayed the the MSF entry may be modified by edit of the "System",
    "Description", or "args" fields. Other table fields are not editable.

	Various module actions may be performed by selecting lines from the
    module table then right clicking the mouse. A drop down menu will be
    displayed showing the available actions. Options available in this manner
    include the following.

    "Edit Source"

		The source for each selected module is displayed in an edit 
	    window. When ODS modules are selected the module is implicitly 
	    extracted upon saving any changes. The default editor is a
	    minimal internal implementation. One should select a preferred
	    editor in the "Settings frame" to make this facility useful.

    "Compile"

		Each selected module is compiled. fscan or cscan for control, 
	    segment, component, or subroutine modules; dfglob for blockdata
	    modules; lld for executive modules; not applicable for generic,
	    library, intrinsic or text module types. The results of the 
	    compilation request will appear in the "Listed output and simple
	    command line window".

    "Extract"

		Each selected ODS module is extracted to the user development
	    system.

    "List details" submenu

		The List details submenu provides a selection of LMSf formats.
	    Upon selecting any of these menu items the chosen list format is
	    applied to each selected module and the resultant output is sent
	    to the Listed output and command line window.

    "More actions" submenu

		The following selections are available under this submenu.

  	"Modify"

		A module modification window (like the include window) is
	   displayed for each selected module. Various MSF data fields may be
	   edited.

		    
	"CDS"
		A CDS window is activated, with a tab created for each specific
	    component module selected. When a generic component module is 
	    selected a tab will be created for each specific component based
	    on the generic.
	        Specific component argument list may be edited from the CDS
	    tabs in the CDS window. Applying and edit to an ODS level specific
	    components includes implicit extraction to the user development
	    system.


	"LLD"

	"Extract"

		Each selected ODS level module is extracted to the user
	    development system (UDS).

	"Merge"

		Each selected and eligible UDS level module is merged to the
	    ODS.  ODS privilege is required for module merge.


	"Remove"

		Each selected module is removed from the MSF.  ODS privilege is
	    required for removal of ODS level modules.


    "Cross reference..." submenu

		The following selections are available under this submenu.

	"Variables Referenced"

		For each selected module the list of mdd points referenced is
	    collected and, if not empty, displayed in a "Variable Table"
	    tab. The row field on the resulting table will include an asterisk
	    on lines displaying points set by the module.

	"Variables List/Select"

		For each selected module the list of mdd points referenced is
	    collected and, if not empty, displayed in a "List/Select" window.
	    From there one may apply selection and / or list options to generate
	    a variables table or LMDD listing.


	"Called by Modules"

		The list of modules which call each selected module is
	    collected, and when not empty, displayed in a new Module Table tab.
	    The count of calling modules for each selected module is displayed
	    in the "Listed output..." window.

	"Modules Called"

		The list of modules called by each selected module is
	    collected, and if not empty, displayed in a new Module Table tab.
	    The count of called modules for each selected module is displayed
	    in the "Listed output..." window.

    "Display Actions" submenu

		The following selections are available under this submenu.

	"Copy"

		Copy selected lines to internal clipboard.

	"Cut"

		Copy selected lines to internal clipboard and clear from the
		display.

	"Paste"

		Fill lines from internal clipboard.

	"Delete"

		Drop selected item(s) from the display table.

	"Retitle Frame"

	"Retitle Tab"

	"Set Defaults"


@variables
--	Variable Database table

    The Variables or DataPoints table frame displays and manipulates information
from the MDD database. It may be started from a button on the main menu bar or
from the "Variable Database" menu item. It contains a tool bar with a series
of buttons and a tabbed pane containing at least one instance of the "Variables"
table.

--.-	DataPoints tool bar buttons

    "Select"

	    The "Select" button activates an "MDD List/Select" window.

    "New Tab"
	
	    The "New Tab" button adds a new table tab to the window.

    "Close Tab"

	    The "Close Tab" button closes the Variables table tab currently
	displayed.  If no tabs remain the window will be closed.

    "New Data Point"

	    The "New Data Point" button activates an MDD point definition
	window. If there are items selected in the table tab then they will
	be shown; if not then the point definition window will initialize with
	no data fields populated. The "Modify" selection in the table popup
	menu is equivalent.

    "Print"

	    The "Print" button will activate a print control to send a copy of
	the currently displayed table to a printer.

    "Merge Tabs"

	    The "Merge Tabs" button will merge all tabs in the current window
	into a single table.

    "Merge Frames"

	    The "Merge Frames" button will merge all Variables table tabs from
	all active Datapoints windows into a single tab.

--.-	DataPoints table

	    Each instance of the Variables or "DataPoints" window may have
	an arbitrary number of table tab instances. Each will display a
	selection of MDD data point definitions.

	    There are several ways to select MDD data points to populate a
	DataPoints table.
	    The most direct method is to enter a name in the Name field of the
	table. The name entered may include wild card characters to select
	all matching names available in the MDD. When a specific name (i.e.
	no wildcard characters) is entered which is not currently present in
	the MDD a DBM Add window is activated.
	    The most flexible method to populate a DataPoints table is to
	use the "Select" frame activated by a button on the DataPoints frame
	toolbar.
	    DataPoints tables may also be filled by Variables cross-reference
	selections from Modules table entries.


--.-	DataPoints table popup menu

	    A popup menu will be initiated by a right mouse click from the 
	variables table offering a selection of actions which may be applied
	to point definition lines selected from the table.  Actions on
	this menu are enabled or disabled by applicability to the current
	selection.

	DataPoints table popup menu items

	    Modify Data Definition

		    This will activate an MDD point modification and addition
		window for each selected point.

	    List/Select frame

		    Will activate an MDD List/Select window pre-loaded with
		the selected table points.

	    Referenced by Modules

		    Will add tabs to an associated Module Table window showing
		the modules which reference each point selected in the
		DataPoints table.

	    Tdb

		    Will activate a type data base window loaded with the
		type definitions referenced by the points selected in the
		DataPoints table.

	    Monitor

		    Will add any points selected in the DataPoints table
		to an associated Monitor table window.

	    Trend

		    Will add any points selected in the DataPoints table
		to an associated Trend table window.

	    Dump

		    Will produce a list of current executive data values to
		"Listed Ouput ..." window of any points selected in the
		DataPoints table.

	    Delete Data Point

		    Will delete selected MDD points from the database.

	    Merge

		    Will merge selected UDS MDD points to the ODS.

	    Copy

		    Will copy selected points to a local clipboard.

	    Lmdd submenu

		short
		long
		input
		x
		sequ
		sequ+e
		&lt;text entry field&gt;

			Each of these submenu selections will produce a listing
		    in the "Listed Output ..." window of any points selected
		    from the DataPoints table with the selected LMDD format.
		    The text entry field provides for entry of any of the
		    other options available on the dbm lmdd command, such as
		    selection of IC data listing.

	    Other display actions submenu

		Remove from view

			Will clear selected line items from the table display.

		Cut
			Will copy selected line items from the table display to
		    a local clipboard and clear the lines.

		Paste
			Will paste items currently in the local clipboard to
		    selected table lines.

		Retitle Frame

			Will change the frame title.

		Retitle Tab

			Will change the tab title.

		Set defaults

			Will replace the current default table display size
		    and column width selections with the corresponding geometry
		    of the current table and tab.

--.-	MDD List / Select frame


	    The MDD List / Select frame includes 7 MDD point selection fields,
	3 action buttons, and 4 list format selection fields. It may be used
	to populate a DataPoints table using the many selection criteria
	supported by the dbm LMDD command. It may also be used to produce
	lmdd listing data in the "Listed Output ..." window.

	    (Interface note: The combination of dual purpose and the many
	options defined by lmdd makes this potentially confusing and may appear
	complicated. To make sense of it - recognize that the many options are
	irrelevant for simple actions and so can be ignored, but they are all
	things which are sometimes exactly what's needed. Perhaps, sometime, the
	interface can be reorganized to make this more transparent and
	intuitive.)


	MDD point selection fields

	    The MDD List / Select frame includes fields to select MDD points
	by the various criteria available on the dbm lmdd command. These are
	organized as a name field and 6 drop down combo boxes.
	    MDD point names, wild card selections, and lists may be entered in
	the "Name" text field.

	    Level

		    The Level combo box includes 6 the methods of restricting
		point selections by level. (The last 3 are relatively obscure).

			UO (default)
				- The "amended" system, will include
				UDS and ODS, with the presence of a UDS point
				overriding (or hiding) on ODS point with the
				same name.
			U
				- UDS (User Development System) point
				defintitions only.
			O
				- ODS (Official Development System) point
				defintitions only.
			U+O
				- Will include UDS and ODS, with separate
				entries for each when a name is defined at
				both levels.
			U&amp;O
				- Will include only points defined at both
				the UDS and ODS level.
			U-O
				- Will include only points defined at the
				UDS level which are not also defined in the
				ODS.

	    Global

		    The global combo box is populated with a list of the global
		data partitions defined in the MDD. Select one to restrict the
		MDD point selection to points located in a single partition.

	    Order

	    Category

	    XR Select

	    System


	Action buttons


	    Select Points to Table frame (Globe)

		    This button selects points using the criteria defined
		by the selection controls to populate the current DataPoints
		Variables table.


	    List Points from Table

		    This button applies the list format selection fields to
		the selection of points chosen by mouse clicks on the Variables
		table and sends the resulting output to the "Listed Output ..."
		window.

	    Select Points to list

		    This button selects points using the criteria defined
		by the selection controls and combines them with the List
		format selections and sends the resulting output to the
		"Listed Output ..." window.

	List format selection fields

	    Form

	    XR List

	    IC Level

	    IC Range


@monitor

--	Monitor

	    The Monitor window monitors global data values in an attached
	executive. It includes a menu or tool bar and tabs with point value
	tables. An active executive connection is required. Should the
	connection be lost the monitor window will remain open in a disconnected
	state (most functions are disabled) until another executive connection
	is established.

	    Monitor tool bar

		Open menu -

			The Open menu contains all page files available from
		    the attached system. As there may be many page files, this
		    will self configure as a multi level menu as necessary to
		    accomodate. Click on any page file menu selection to load
		    the named page.
			In addition to named page file this drop down menu
		    contains a text field for entry of page file name. This
		    is loaded with command line recall for recently referenenced
		    pages.

		Save button

			The save button activatesa prompt to save the current
		    tab contents as a page file. If the current tab content
		    was loaded from a page file then the applicable page file
		    name is offered as an initial suggestion.

		New tab button

			The new tab button adds a monitor table tab to the
		    monitor window. The new tab is initially empty.

		Close tab button

			The close tab closes the current monitor table tab. If
		    it is the only tab present in the window then the window
		    will close.

		Print button

			The print button will initiate a print of the current
		    monitor table tab.

		Merge Tabs button

			The Merge Tabs button will collect the monitor table
		    contents from all tabs in the current window frame into
		    a single tab, sort by name, and delete duplicate entries.

		Merge Frame button

			The Merge Frames button will collect the monitor table
		    contents from all tabs in all active monitor window frames
		    into a single tab, sort by name, and delete duplicate
		    entries.

		Command line

			The Monitor table tool bar also contains a command line
		    text entry field. This command line supports application of
		    isd commands which refer to the isd display (explicitly or
		    implicitly) in addition to many other DBM, ISD and jdb
		    commands.

	The monitor table


		The monitor table contains a variable number of monitor lines
	    (initially 10 lines, the number will will grow as needed). Each
	    row contains the following columns -
		Row	- a row number
		Name	- name of variable monitored
		Level	- ODS or uds name
		Type	- variable type
		Value	- current value
		Unit
		Description 
		Ref	- reference value
		Low	- lowest sample value
		High	- highest sample value

		    Name
	
			    The Name column displays the name of the data
			item displayed on that line. It may be an alias if
			the the change name command functionality has been
			applied. Points may be selected for display by editing
			the line field. Entry value may include wild card
			characters, array element range, and / or member syntax
			as appropriate. When the name entered selects a large
			quantity of data points the number displayed is
			controlled by the Settings frame parameters "Array
			Expansion"  and "Max Lines Per Select".

		    Level, Type, Unit, and Description

			   These document the item displayed, and normally
			reflect data from the MDD definition. The Unit field
			may be overriden from command line syntax, and such
			override will be maintained when saved in a page file.
		        The Description may be edited in the table cell, but
			such modification will not be remembered.

		    Value

			    The value column displays the latest value received
			from the executive. This cell may be edited to perform
			a set operation. One may also enter "-&gt;" followed by
			an expression which may include global data point
			references to drive the displayed point.

		    Ref, Low, High

			    The Ref column will show the initial value which
			jdb receives from the executive when the data point
			is added to the display. The Low and High columns are
			automatically updated to show the lowest and highest
			monitor values which have been seen during the current
			session. The "INIT" command line will reset all three
			to current values. The "Ref" command will reset only
			the "Ref" column to current values. All three of these
			column's cells may be edited in place to hold reference
			values.


	Monitor table popup menu

		A right mouse click in the monitor table will initiate display
	    of a popup menu for various actions relating to points selected on
	    the table.

	    Set submenu

			The set submenu selections are to support setting
		    multiple data item values selected by standard mouse
		    operations to a chosen value.

		data entry text field

			Enter a value and return
		zero
		one
		true
		false

	    Trend

		   The trend menu selection will copy the data items selected
		by standard mouse table selection operations to a trend window.
		Monitor operation records a small history of recently seen
		values. When monitor items are transferred to trend, these are
		included, so the trend will usually start with recent history
		immediately displayed.
 
	    Clear

		   The Clear submenu clears selected monitor data lines.

	    Lmdd submenu

		   The Lmdd submenu enumerates common LMDD formats. When any
		of the corresponding list format is applied to the data items
		named on the currently selected lines and the result is sent to
		the "Listed Output ..." window.

	    Modules

		   The Modules menu item populates a "Modules" table with the
		MSF entries of the modules which reference the items displayed
		on the selected table lines.

	    Copy
	    Cut
	    Paste

		   The Copy, Cut and Past exchange monitor table line items
		via the internal clipboard.

	    DBM Modify

	    Column Toggles submenu

		    The Column Toggles submenu enumerates each of the columns
		of the Monitor table. Display of each column can be enabled or
		disabled by selecting these.

	The Monitor table command line

		The dbm, isd, and local commands recognized on the "Listed
	    Output and command line" may be also be entered on the command line
	    found on the monitor table toolbar. However an additional command
	    processor is applied to commands entered here to support a more
	    comprehensive subset of isd command syntax including implicit
	    reference to the monitor table and its line numbers. A few
	    additional commands are implemented only from this entry line.

	    Summary

		Ignored silently (not applicable) - 

			* (comment)
			^ (shift)
			d20, d40, desc, isd, limit (isd display format select)
			end

	 	Rejected with "Not Applicable" message - 

			CDF, CDS
			DCM, ECHO, ECM
			DOWHILE, ENDDO, IF, ELSE, ENDIF
			FLIP, IF, MONITOR, MORE

	 	Rejected with "Not Implemented" message - 

			!
			CLOse
			DEFine
			EXAmine
			EXEcutive
			FILe
			FReSh
			LOG
			MACRO
			OPEN
			PGM
			PRInt
			READ
			ROOT
			SEArch
			SELect
			SETenv
			SHUFfle
			SWItch
			WAIt


		Implementation ready - 
			&lt;default display command&gt; 
					point id etc. (w/ no keyword)-&gt; display
				may include wildcard, array element range,
				member syntax, etc. Most optional arguments are
				accepted and implemented like in isd. Exception
				is that data type override is not accepted.
				
			&lt;assignment&gt;
				&lt;global point reference&gt; = &lt;expression list&gt;
				&lt;line range list&gt; = &lt;expression list&gt;
			$		expression evaluator
			ADD		mdd or tdb add, will start jdb frame
			ASYnc		executive asynchronous mode
			ATTach		attach executive
			BRK		insert breakpoint	
			CALL		call module or registered service
			CHAnge		override point attributes (data type
						override not supported).
			CHECK
			CLear
			CLOck
			COMPile
			CONST
			CONt
			COPy
			DATe
			DECrement
			DELete
			DETach
			DFTGLOB
			DIFf
			Display
			DRIVE
			DUMp
			EXIt
			EXTRact
			FASt
			Freeze
			Help
			IC
			INCLude
			INCrement
			INIt
			KILl
			LCDf
			LCDS
			LI
			LICF
			LISt
			Lmdd
			LMSf
			LOCALtime
			LOCK
			LOOK
			MARk
			MCDF
			MDD
			MERge
			MMSf
			MODIfy
			MODule
			MOVe
			NICe
			NORmal
			ODEL
			OMOD
			OPTion
			PACk
			PAGe
			PROmode
			Quit
			RAMp
			RATe
			REGs
			REMove
			REName
			RESet
			RST
			Run
			SAVe
			SCAN
			SCHedule
			SET
			SETLIST
			SHOw
			SINe
			SLOw
			SMRG
			SNApshot
			SNP
			START
			STAtus
			Step
			SUSpend
			SYNc
			TABle
			TITLE
			TRIm
			X
			Y

		Additional commands -

			DD
				Will delete any duplicate lines (that is: when
			    the same variable appears on more than one monitor
			    table line).

			REF [&lt;line range&gt;]

				Will copy the current value to the REF value
			    column.

			SORT &lt;column name&gt;

				Will sort the monitor lines by any of the
			    values of any chosen column.

--	Trend

--	Executive Modules

--	Frame Times

--	Lld

--	MST

--	Tdb

--	IC Patch

--	Dftglob

--	Edit Source File

	    The Edit Source File window is activated by a menu item in the Misc
	submenu. It supports an internal text editor. Its use is not
	recommended.

--	Dbm/Isd Window

--	Settings Frame

--	Save Settings

		Save settings is available as a menu item as well as a button
	    on the settings frame; the two are equivalent. There is also a
	    setting to automatically perform this function whenever the
	    dashboard exits.
		The settings save and restore operation includes the connections
	    which have been used to connect to s3serv, all items shown on the
	    Settings Frame, and many other, often implicit, selections for
	    miscellaneous details such as window sizing and text entry field
	    recall values.
	    

--	Look and Feel

	    The "Look and Feel" selection from the "Settings" menu will
	activate a window containing a button for each Look and Feel
	registered with the java virtual machine. Upon clicking on any of
	these jdb will assume the corresponding look and feel. 

--	State Save

	    When "Save" is selected from the "State" menu a "State Save" window
	is activated. This offers a text entry field for a name and 2 buttons.
	Enter a name in the text field, then click on the "OK" button to create
	a file which records the current connection, settings, active
	windows and content. This is a file stored in the directory from which
	jdb was activated with the suffix ".jdbState" appended to the
	selected name.  This state file may be used at a later time to restore
	the jdb state. Generally, the content selection criteria, rather than
	the current content are saved.
	    A "Cancel" button is also provided, there is no difference between
	its action and using the standard window close control.
	    jdb also implicitly stores a state file, named "OnExit" when it
	exits. This automatic state save is thus usually highly volatile or
	transitory, but is often very convenient.


--	State Restore

	    The Restore selection in the State menu will activate a window
	showing any jdb state files which have been saved in the activation
	directory plus a button labeled "Else Where".
	    The restore state selection will include all files created in the
	current directory by the "State Save" function. It will usually also
	include an "OnExit" selected which was automatically created by jdb
	upon exit.
	    Clicking on any of the named state file buttons will restore the
	jdb state to correspond to what it was when the state file was
	saved. This includes closing the current windows and connection, then
	reading the state file to restore the connection and windows which
	were active when the file was created. In order for this to succeed the
	s3serv service and executive (if any) to which jdb was connected when
	the state file was created must be active. The restore process will not
	activate either s3serv or an executive. (When the connection does not
	restore, the attempt to restore the windows will continue, some will
	restore with no data contents, others will be skipped.)
	    The contents of the restored data windows will usually reflect how
	the data was selected before the state save, rather than their specific
	content.
	    A right mouse click on any of the state buttons will produce a
	popup menu offering the selections "Delete", "Rename", "Restore" and
	"Save Over". Selecting "Delete" from this menu will delete the sate
	save file. "Rename" will activate a popup prompt for a replacement name.
	"Restore" will restore the state (same as clicking on the button).
	"Save Over" will write over the state file to reflect the current
	state (same as re-entering the same name in the "Save State" dialog).
	    The "Else Where" button will activate a file selection window which
	allows the to navigate to other directories to locate and select other
	jdb state save files which may be available on the system.
	

--	Dbm/Isd Console

	Selection of the "Dbm / Isd Console" button will initiate a new,
    independent, console window with the dbm / isd program attached to the
    same s3serv identity. The default configuration is appropriate to the
    Windows environment and will not work correctly on linux. It can be
    configured to work on linux by modifying the "ISD Start Command" item
    on the Settings frame.

--	Help












</Text>
</Topic>
<Topic>smartexam<Text>
   The SmartExam program performs entry and exit from exam mode.
On exit from exam mode it requires review of files modified modified since
exam mode was entered.

   SmartExam has its own user manual which shows its features and interface
in full detail. Information available in that document is not repeated here.

   SmartExam requires a configuration file and places an exam mode status file
in its default activation directory. Therefore, for the system to work as
intended this must always be the same directory. To make this happen create
a shortcut to activate SmartExam with default directory set appropriately.
In order for SimExec programs to test exam mode status, they also must know
which directory SmartExam is using; identify this directory to SimExec by
defining it on environmental variable "SmartExamHome" in the S3_ENV file.
(When SmartExamHome is not defined, SimExec will assume its value as
"%SystemDrive%\SmartExam".)

    Whether the simulator is currently in exam mode can be determined by a
service which has been added to gdaserver, or by checking global99 variable
"exammode". When the simulator is active in exam mode the time at which exam
mode was entered can be found in global99 ascii array "examtime".


</Text>
</Topic>
<Topic>vsdebug<Text>
   Simple use of Visual Studio debug with SimExec executives

   -	Have lld build a Visual Studio project file (see help vcproj).

   -	Enter Visual Studio by entering the project file name (executive name +
	.vcproj) at a command prompt in the appropriate environment.

   -	Set to catch exceptions when thrown. That is: select "Exceptions" from
	"Debug" drop down menu, set "catch when thrown" check box for each
	category of exceptions, click "OK" button.

   -	Attach to executive
	    When working with real time executives one must have mst activate
	the executive and then attach debug. Select "Attach to process..." from
	the Visual Studio "Debug" drop down menu, then select the executive
	task from the "Available Processes" selection box. One may use the same
	prhen working with an interactive executive or, alternatively, the
	task may be activated by Visual Studio ("Start Debugging" selection in
	the "Debug" drop down menu, or F5).
	    When using debug with a real time executive one should set the
	executive option "-F nootx". This may be entered as an activation option
	to the execution or through the isd "option" command after the executive
	has started.

   -	One will usually also need to execute isd, s3if, or an instructor
	station to control the simulation execution. When executive execution
	stops due to debug break point control these programs will be
	non-responsive until normal execution is continued.

   -	On exception conditions, executive execution will break to debug
	control.  When ready to continue executive control, select "continue"
	(F5) from debug, and select "Pass exception to program" from the pop-up
	message box.

   -	When inserting breakpoints be sure to use the compiler version of
	simulation source files (".for"), rather than the pre-compiler inputs
	("src/").

   -	Whether or not display of values for global variables display correctly
	varies with compiler versions and setup options.
</Text>
</Topic>
<Topic>jitdebug<Text>

	Just in time debug is configured in the Windows registry node at:

    \HKEY_LOCAL_MACHINE\SOFTWARE\Microsoft\Windows NT\CurrentVersion\AeDebug

	Contents need to include:

	Name:Auto	Type:REG_SZ	Data:0
	Name:Debugger	Type:REG_SZ	Data: - path and options for debugger

MSVC6.0 -

  "C:\Program Files\Microsoft Visual Studio\COMMON\MSDev98\bin\MSDEV.EXE" -p %ld -e %ld
	    
MSVC7.0 -

  "C:\Program Files\common\ files\Microsoft Shared\VS7Debug\vs7jit.exe" -p %ld -e %ld
	    
MSVC8.0 -

  "C:\WINDOWS\system32\vsjitdebugger.exe" -p %ld -e %ld




	Just in time debug also must be enabled in by executive option

	"-F debug"

		To enable the offer of just in time debug. This is the iexec
		default.

	"-F nodebug"

		Disables the offer of just in time debug. This is the rtexec
		default.

    This option can be modified on-line using the isd "OPTION" command. 

    When just in time debug is enabled and an exception occurs the operating
system will popup a window. The format and content of the window and the names
on the button selections have changed with different versions of Windows.
Select "Debug" (or equivalent) to attach the debugger, "Continue" (or ...) to
perform the normal executive FAIL process. If the debug attachment is declined
when offered, it is disarmed for succeeding exceptions; It can be re-armed by
the "isd&gt;OPTION -F debug" command.


Upon attachment:

	Users must modify the debugger defaults for catching exceptions. The
default is to catch only exceptions which are not caught by the program, this
must be changed to "catch always". (The executive catches exceptions to
implement its FAIL status processing, if it did not then the only alternatives
would be debugger intervention and exiting). Unfortunately this means that the
first time "just in time" debug is attached, the exception break is normally
missed. After changing the exception settings if the exception can be reproduced
it will then be caught. Visual Studio 6 will save an options file when exiting
the debugger; With that in place the break should work properly the next time
"just in time" debug is used with that executive. With Visual Studio 8 this does
not occur, therefore just in time debug tends to be less effective, however
explicit debug attachment usually works well.

	After successfully catching an exception, when ready to continue reply
YES to "pass exception to program?" This will lead to the "normal" executive
FAIL processing.




</Text>
</Topic>
<Topic>jittercheck<Text>

	Jittercheck functions are to test and monitor how successful the
    executive system is performing with regard to the desire for reliably
    consistent frame intervals.

	The jitterset data structure is defined as follows:

/add type JITTERSET
    r*8  lpstart
    r*8  msdelta
    i*4  framecount
    i*4  counts(1001)
/


	Jittercheck recording in mst is enabled by trainer configuation file
    line "jittercheck" and configuration of a shared memory partition named
    "globalmstjit". mst will update 5 jitterset collections in this paritition.
    They correspond to timeprc, frame, run, go, and wake.


	Jittercheck recording in executive is enabled by executive option
    "-F jitc", and can be disabled with "-F nojitc". 6 jitterset collections
    are maintained in local common jitex as follows: rttop, rtframestart,
    rtframe, go, isd service, rtwait.


</Text>
</Topic>
<Topic>vss<Text>

	Integration of VSS with ODS modules

	Introduction

    When the Visual Source Safe integration is enabled dbm will perform
VSS checkin and checkout as part of the module merge process (MMSF command) to
maintain a difference history for ODS versions of each module source. This
function does not require explicit user interaction with VSS operations, and
does not entail use of VSS checkout to control the module modification process.
The module development practices used with SimExec do not change, but detailed
modification history tracking data is maintained and becomes available when
needed.



Preliminaries:

   1.	Visual Source Safe must be installed.

   2.	A VSS Database must be created and made the default for dbm module merge
	users.

   3.	Project for Modules must be created using VSS interfaces. This is
	usually performed from the "VSS Administrator Tools" menu selection
	"Create Database". It can also be performed from a command line,
	see VSS Adminstator help. The project name used by dbm will default to
	"S3", it may be overridden to an alternate name by setting environmental
	variable "S3_NAME".

   4.	The VSS program "ss.exe" must be found in dbm's environmental path.
	Typically this would be the directory "C:\Program Files\VSS\win32".
	Path may be manipulated through the Windows Control Panel, or in
	login scripts, or in the S3_ENV file.



Enabling VSS update on module merge:


	The practice of updating VSS as part of the module merge process is
    enabled by the dbm command:

	/OPTION MMSF SS

	This option setting is maintained in the ODS MSF file, and will apply
    to all successive instances of dbm until it is cleared.


	The practice of updating VSS as part of the module merge process is
    disabled by the dbm command:

	/OPTION MMSF NO SS


Inclusion of comment with ODS module update:

	The practice of requiring entry of a comment as part of the module
    merge process is independent of integration with VSS. These functions are
    related in that, when both are enabled, the comment is included as a VSS
    check-in comment (in addition to being recorded in the msf_merge_log file).
	Prompting for a module merge comment is enabled by the dbm command:

	/OPTION MMSF COMMENT

	This option setting is maintained in the ODS MSF file, and will apply
    to all successive instances of dbm until it is cleared. It may be cleared
    by the dbm command:

	/OPTION MMSF NO COMMENT



Module baseline:

	All ODS module updates are tracked while VSS integration is enabled,
    however, if the function is enabled on a system which already contains ODS
    modules, then their initial state would not be reflected in the VSS
    database.

	The dbm command

	/INIT SS

	will perform a baseline loading of all current ODS modules. That is: it
    will step through all modules in the ODS MSF and for each reset
    the version number to 1 and add the module to VSS.



Access to VSS module history:

	Module history, and side by side display of versions may be accessed
    through the VSS gui. In addition the following dbm commands have
    functionality enabled by the presence of VSS integration:

	DIFF
		    When Source Safe integration with module merge is in effect
		then the diff command will invoke source safe to display the
		differences between selected versions of modules.
		    Otherwise, only the latest change is available.

	EXTRACT
		    When Source Safe integration with module merge is in effect
		then the extract command will invoke source safe to extract
		a selected old version of the selected module.
		    Otherwise, only the current version is available.

	LMSF
		    When Source Safe integration with module merge is in effect
		then the 'H' (history) option of the LMSF command will invoke
		source safe to display version history for the selected
		module(s).
		    Otherwise, information from merge log is displayed.




Miscellaneous Notes:

    Avoiding the VSS login prompt

	    If the SSUSER environment variable does not match the dbm user then
	SS will perform a login prompt on each action. See VSS help pages.


    Coordination of revision numbers

	    The dbm program increments the module revision number in the MSF
	each time a module is merged, even if the source has not actually
	changed. VSS will, by default, not introduce a version number when a
	source is checked in without any changes. This will cause a failure
	for the MSF version numbers to match the VSS version numbers when module
	merges with no actual changes are performed. Users may choose to ignore
	this descrepancy (Doing so does not significantly reduce the utility of
	VSS tracking, but rather just requires appropriate understanding when
	viewing the results). Alternatively VSS may be configured to accept such
	updates by setting the "Update_No_Change" variable in the SS.ini or
	SRCSAFE.ini file.

   Operating systems

	    The use of VSS for tracking ODS module sources is implemented on
	the Windows versions of SimExec. Similiar functionality using "SCCS"
	or "RCS" is implemented on Unix or Linux instances of SimExec.


   Removal of ODS modules

	    When an ODS module is removed from the MSF, no VSS update or removal
	is performed. Should a new module with the same name be introduced
	later, then VSS history will show both.

   Checkout control

	    When a UDS version of ODS module is introduced through extract or
	otherwise no VSS check out is performed. SimExec does not normally
	place any restriction on the possibility of divergent module
	modifications in different UDSs. Such functionality can be enabled
	through the "/OPTION mmsf checkout" command.
</Text>
</Topic>
<Topic>if_diagnostic<Text>

    When ifort run-time checks are enabled (by options /C{ |B|A|U} or
their verbose equivalents /check:&lt;keyword&gt;) the compiler inserts a call to
a compiler defined routine which will issue diagnostic information and then
exit the program. This exit is not compatible with the behavior usually
desired of SimExec executive tasks. In order to replace it with a normal
"FAIL" status, from which developers can continue to work, it must be
intercepted. This interception is not included in the normally configured
executive libraries. It may be added to the libraries or configured outside of
them.

    An example of a routine to interception the ifort diagnostic routine, and
result in a "FAIL" status, instead of executive exit is provided below. One
way to use it would be to compile it outside outside of SimExec, and then either
add the object to the library, or configure its inclusion on any of the lld
environment settings or commands to include an external object in an executive
build (S3_LD_OPTS, S3_LINK, ldoption, linkoption). A Second way to use it would
be to include the module in the MSF, cscan the source, and configure it to
lld with a command of the form "load IF_DIAGNOSTIC, 0, 0". The interception
routine could be improved, but, the more it does, the more danger that it will
need changes to coodinate with successive ifort releases.



IF_DIAGNOSTIC.c file:

/*program IF_DIAGNOSTIC	*/
#include &lt;stdio.h&gt;
#include &lt;windows.h&gt;
#include "IF_DIAGNOSTIC.h"

void __stdcall IF_DIAGNOSTIC() {}

/************************************************************************
 *
 *	11/28/06
 *
	    This is to override the routine invoked by the intel ifort compiler 
	on recognition of reference to an array element outside the array's
	defined range. It works with 
	Intel(R) Fortran Compiler for 32-bit applications, Version 9.0
	As the routine's presence and interface is not publicly documented it
	must be considered to be a compiler internal and subject to change
	without notice on other compiler versions.
	The compiler supplied routine issues a message as below, followed by a
	stack trace and exit. That is not acceptable for code executing in the
	simulation executive. This version, instead, issues the message and
	then raises an exception to trigger the exception handling facilities
	built into the executive.
	The calling convention is surmised from inspection as no definition or
	other documentation of the function is found. The same routine will be
	invoked on other diagnostics.
	The first argument to the function looks like an exception code
	but, I currently don't have information to interpret it.

	    This routine is catches the array bound check only. If others
	are used or calls to TRACEBACKQQ are made they will be resolved by
	ifort libraries. When /MD is used this will work. When /MT is used
	the combination will produce linker errors. Current workaround is
	to delete if_diagnostic.obj from iexecmt.lib

 *
 ************************************************************************/

void	for_emit_diagnostic(DWORD a, char * b, int c, int d, int e, char *f, int g, int h, int i)
{
	printf(b, d,e,f,g,h,i);

	RaiseException(EXCEPTION_ARRAY_BOUNDS_EXCEEDED, 0, 0, 0);
}



IF_DIAGNOSTIC.h file for not cscaned case when S3_STDCALL=1:

#define IF_DIAGNOSTIC IF_DIAGNOSTIC
void __stdcall	IF_DIAGNOSTIC();
</Text>
</Topic>
<Topic>recordcsv<Text>
	recordcsv

	    Recordcsv provides a very light weight data recording facility
	to capture data with strict synchonization to execution frames.
	An instance may be easily configured to any SimExec executive. 

	    That is: an Executive hosted routine to record csv file(s)
	compatible with the s3if trend import/ export. 
	   It is designed to provide efficient data collection. Data is
	collected in binary form from the module execution thread of the
	executive and queued to be formatted and written to disk in an
	auxiliary service thread. Values which have not changed from the 
	previous pass will be suppressed from most records, periodically a
	refresh record including all values will be included.

	    The collection definition uses page files as created by isd or
	jdb. Point names will be resolved from the MDD and from any xpt
	routines configured.

	   For each data collection a file with name corresponding to 
	"&lt;Page name&gt;_&lt;start time&gt;.csv" will be created. The &lt;start time&gt; is
	encoded to a string of digits - year, month, day, hour, minute, second
	as: YYMMDD_HHMMSS. A new file is normally started on reset. If the
	call to "resetrecordcsv" is omitted (or is disabled) then
	data recording will continue across reset in the same file.

	    When recordcsv has been configured in an executive it may be
	controlled from the command line of an instance of isd or jdb connected
	to the executive. This is performed with the commands of the form
	CALL RECORD &lt;command string&gt;
	where the command string must be placed in quotes. The following
	control commands are recognized:

		"start page &lt;PageName&gt; [&lt;frame interval&gt;] [&lt;sync frame&gt;]"

			start recording based on an isd or jdb page file

		"start list &lt;ListName&gt; &lt;frame interval&gt; [&lt;sync frame&gt;]
			&lt;point list&gt;"

			start csv recording based on list

		"start monitor &lt;ListName&gt; &lt;frame interval&gt; [&lt;sync frame&gt;]
			&lt;point list&gt;"

			start recording with monitor, no csv file, based on list

		"append &lt;page or list name&gt; &lt;point list&gt;"

			add points to an active page or list recording


		"stop &lt;PageName&gt;"		(or list or monitor name)

		"active" - return comma separated list of active page, monitor
			or list names (if too many are active list will end
			with ",+")


		"state &lt;PageName&gt;"		(or list or monitor name)
		
				page &lt;PageName&gt;\n
					or
				page &lt;ListName&gt;\n

				currentfile=&lt;filepath&gt;\n
				nItems &lt;count&gt;\n
				LinesWriten &lt;count&gt;\n
				RecordsCollected &lt;count&gt;\n
				Interval &lt;frames&gt;\n
				SyncFrame &lt;frame&gt;\n
				Monitor &lt;0 or 1&gt;\n
				nResolved &lt;count&gt;\n
				Points &lt;point list&gt;\n
			   or
				page &lt;PageName&gt; not active.\n

		"state"
			i.e. state with no page name
			return:
				(various general parameters, 1 per line as
				 name space &lt;value&gt;)

		"flush"
			initiate flush on all files, no response

		"trace"
		"trace 0"
		"trace 1"
			enable or disable trace prints.


		&lt;other initialization file settings except ThreadPriority,
		either space or equal sign may be used to separate field name
		from value&gt;

		includes:

		"csvDir &lt;directory path&gt;"

			replace csvDir path - will apply to new file opens, will
			not affect files currently active. Is not checked - if
			not valid will result in succeeding open attempts to
			fail. space characters in the directory path are not
			supported.


		"DefaultFrameInterval &lt;nframes&gt;"

			replace default frame interval. New default will not
			apply to active pages, only to pages started after the
			change.

		"DefaultSyncFrame &lt;frame&gt;"

			replace default frame synchronization. New default
			will not apply to active pages, only to pages started
			after the change.


		"RefreshInterval &lt;integer&gt;"

			replace refresh interval. Will immediately apply to
			all pages.

		"Monitor &lt;PageName&gt;"		(or listname)

			Add monitor data collection for active page. Data
			collection for the specified page must already be
			active. Data updates for the page will be held for
			retrieval by the "update" command, subject to
			limitation on the queue length.

		"Update &lt;PageName&gt;"		(or listname)

			Return monitor data collection for the requested page.
			The page must be active in the monitor mode. Update
			data sets since the previous update will be returned.
			The number of data sets returned on one update is
			limited by the exec/isd transfer buffer size. The
			client is expected to request updates at sufficient
			frequency that the queue does not grow large. If not,
			then the retention of records will be suspended when
			500 records are in the queue (and resumed should they
			be consumed). The monitor lines are also subject to a
			limitation to approximately 4000 characters.

		"Cancel &lt;PageName&gt;"		(or listname)

			Remove the monitor data collection action on an
			active page or list.




To configure an instance of recordcsv in executive:

		dbm&gt;/include recordcsv,library,,s3
		dbm&gt;/include resetrecordcsv,library,,s3

		Add the following lines to your load file

		Load recordcsv,0,0,init,FrameEnd,term
		Load resetrecordcsv,0,0,resetc
			(resetrecordcsv may be omitted if and only if no
			 reset volatile points will be configered and a single
			 file per activation, rather than per reset, is
			 desired)
		LDOption %S3_BIN%\s3dll.lib

			s3dll.lib is available on Window, not on linux.
			On linux use instead:
		LDOption -D_MIT_POSIX_THREADS -lstdc++ -lpthread
		LDOption -L$(S3BASE)/lib OpS3.a dbs.a xx_dbm_printf.a misc.a


To override initialization defaults:

		A file with name corresponding to the executive name (or alias)
	    with ".RecordCSV.ini" appended my be provided to override initial
	    defaults. The following settings may be included there:


	DefaultFrameInterval=&lt;nframes&gt;

		    Where &lt;nframes&gt; is an integer frame count specifying the
		default data collection rate. When not provided a default
		corresponding to a 4 cps rate is used.

	csvDir=(directory path&gt;

		    Where &lt;directory path&gt; is a directory path entered as a
		quoted string. Will specify where to place the csv data
		collection files generated. When not provided the output
		data files will be placed in the executive's home directory.
		    The s3if trend facility will look for such files in a
		directory defaulting to "\home\s3home\&lt;user name&gt;\Trend".

	Pages=&lt;page list&gt;

		    Where &lt;page list&gt; is a semi-colon separated list of page
		names as a quoted string. Will specify a page or pages to
		be automatically started on executive initialization. Default
		is none.

	ThreadPriority=&lt;thread priority name&gt;
		Windows only
		    where &lt;thread priority name&gt; is one of the following:
			LOWEST
			BELOW_NORMAL
			NORMAL
			ABOVE_NORMAL
			HIGHEST
		    Will specify the thread priority of the io service thread.
		Default corresponds to BELOW_NORMAL.

	WarnQueueLen=&lt;integer&gt;
	MaxQueueLen=&lt;integer&gt;

		    Where &lt;integer&gt; is an integer count specifying how many
		data records may be queued for write before the routine will
		begin to print warnings, or skip data collection passes.
		Defaults of 80 and 100 are provided.

	RefreshInterval=&lt;integer&gt;

		    Where &lt;integer&gt; is an integer count specifying how many
		data collection records will be allowed for writing a refresh
		line including all unchanged values. This defaults to 100.


	HoldSimulation=&lt;integer&gt;

		    Where &lt;integer&gt; is 0 or 1. A zero value (default) indicates
		that the record function is not permitted to delay simulation
		execution; If the MaxQueueLen is reached recording passes will
		be dropped. A one value indicates that the record function is
		permitted to delay simulation execution; If the MaxQueueLen
		is reached model execution will be paused to allow the recording
		writes to catch up.
		    HoldSimulation=1 is not appropriate for real time
		simulation, but may be needed when executing fast time.


Frame sync:

	When the recording rate is less than the executive frame rate then
    which frames recording is performed on can become an issue. If the frame
    interval for a page is 4 then data may be collected on frames 0, 4, 8,
    etc. or on frames 1, 5, 9, etc., and so on. By default settings which of
    these patterns apply is somewhat arbitrary as the recording will start on
    an arbitrary frame and continue every 4th frame thereafter. This
    default corresponds to a sync frame setting of -1. If one sets
    DefaultSyncFrame to 0 or specifies an explicit value of 0 to the "start"
    command then the start will be forced to frames 0, 4, 8, etc.. A sync frame
    setting of 1 will force collection to frames 1, 5, 9, etc. and so on.


</Text>
</Topic>
<Topic>xpt<Text>
	Executive Point Definition - XPT

    XPT features allow data points to be defined in code executing in a SimExec
executive task, rather than in the MDD. This is necessary when the point
definitions do not correspond to static locations in Fortran common data blocks.
That is: their locations and / or definitions are dynamic, rather than
determined by compile and link. Instances include symbolic data defined in
common/fast/ by a relap5 input deck rather defined in the relap5 code, dynamic
symbology defined by a routine such as relap5's "scnreq" or "irequest", and
dynamic data shared through "module" program units as introduced in Fortran90.
XPT coding allows such symbols to be accessed by isd, jdb, and other programs
with no presence in the MDD. This system expects resolution information to be
valid at least until executive reset. 

    XPT requires specific code be loaded in each Executive which acts as a
server providing resolution for such symbols. The information is passed to
clients through the call dynamically registered service feature of the isd
message protocol. The implementation of the service protocol will usually be
the "exec_xpt" module provided in the executive library (see include/xpt.h).
This module will coordinate multiple specfic symbol resolution modules each
registered as an "XPT_Provider" with it. Symbol definition requests and
responses are exchanged as ascii strings. The data can be inspected using
the "call" command of isd and jdb as summarized below.

	&gt;call getxpt "xpt count"

		Returns a nominal count of the symbols defined the xpt servers
	    present in the executive. When it returns 0, clients will assume
	    that there are no xpt servers present, and in response wil
	    suppress attempting to resolve symbols though this function. One
	    should not assume that the count returned is precise as Xpt
	    servers are not required to support an accurate count. Some will
	    have no easily enumerated fixed list of points; Some may count
	    "inactive" potential symbols.

	&gt;call getxpt "&lt;symbol or member&gt;"

		Given a valid specific symbol name or symbol name with member
	   or element specification, returns an ascii string to define the
	   requested symbol or member (empty response for not available).

	&gt;call getxptlist "&lt;symbol spec&gt;[,&lt;start&gt;]"

		Given a wild card symbol name specification and optionally a
	    starting point, returns a comma separated list of available
	    symbols matching the specification. They will be in alphanumeric
	    order, and not less than the "start" point. This string is of
	    limited length. When the list returned exceeds the available
	    buffer size, the string returned will end with a "++" element to
	    indicate that more are available. The list may exclude points
	    available from servers which do not support enumeration of their
	    symbols. It may also include potential points which are not
	    currently available.





@@mvtab


	Executive module variable table XPT server


   The "module" program unit, introduced with Fortran90, may be used as an
alternate to common blocks to share data with other fortran procedures.
The "module" data sharing model is in many ways cleaner for typical Fortran
applications. Its use instead of common blocks is strongly encouraged by modern
Fortran instruction.  This is not consistent with the data sharing approach
behing the SimExec MDD and traditional SimExec usages.  The issues behind the
deprecation of Fortran common are largely eliminated by SimExec, and the use
of the "module"  approach makes implementation of required simulator functions
much more cumbersome. Therefore models implemented under SimExec will continue
to use the MDD and fortran common data blocks. However, it is desirable to
support integration of third party modeling software, such as Relap5 and
Melcor, which may use "module" data sharing and dynamic allocation. Therefore
functions to support such usage is provided in SimExec.
    When program units of type "module" are compiled by SimExec, fscan will
record information about the public data items defined by the module in a file
maintained with the object code.
    When program units of type "module" are included in an executive task
build by SimExec, lld will build a table in the executive collecting the
module public data definition information from the modules loaded.
    The "xptmvtab" routine is provided in the executive library. When it is
included on building an executive, it will integrate the "module" defined
data with isd, jdb, and other clients through the XPT facility.
    To include xptmvtab in an executive include its two entry points in the
MSF as library modules, then add corresponding lines to the lld script; s3dll
must also be configured.

    That is:

	dbm&gt;/include xptmvtab,library,,xpt
	dbm&gt;/include mvtab_report,library,,xpt

 	lld&gt;load xptmvtab,0,0,init
	lld&gt;load mvtab_report,0,0
	lld&gt;ldoption $(S3BIN)\s3dll.lib

    Addition tasks must be performed in order to resolve the members of
structured data types exposed by the "module" programs.

	- Fortran type definitions must include the "sequence" option so that
the member order is maintained. The fscan option "-Esequence" is recommended
to accomplish this.
	- Fortran type definitions are required to follow naturaly bounding
rules, whereas default may be packed. When using ifort this is accomplished by
including "/align sequence" on the S3_FORTRAN environment variable.
	- Type definitions as defined by the fscan "-a" output and dbm
"add type", "list type and related functions referenced by the module data
must be collected into a file named "mvtabtdb" for xptmvtab initialization.




@@scfgetput



		This subcoutine collection allows fscan modules to access
	variables by names passed in as character variables. It is intended to
	be used principally with dynamic names defined by execxpt configured
	routines. It will also resolve names defined by MDD, but beware of the
	real-time implications of such use. Resolution of variable names from
	the MDD requires disc access which can quickly become incompatible with
	real time framing. The resolution of names which have been previously
	accessed are remembered, thus if an initialization routine or other
	freeze routine pre-loads all names, continued use of those names is
	compatible with real time.

		Object code of these routines is provided in the executive
	library. In order to use them, they need to be added to the MSF as
	library modules. Additional SimExec library or libraries must also
	be included in the lld script (s3dll.lib on Windows).


	includes for entries for use by fscanned modules:

	/include scfgetputreset,library,,scf
	/include scfgetr,library,,scf
	.arg r8w, i8w, h*0
	/include scfgetr1,library,,scf
	.arg r8w, h*0
	/include scfgeti,library,,scf
	.arg i4w, i8w, h*0
	/include scfgetra,library,,r5
	.arg r8()w, i4, i8w, h*0
	/include scfputr,library,,scf
	.arg r8, i8w, h*0
	/include scfputi,library,,scf
	.arg i4, i8w, h*0
	/include scfputa,library,,scf
	.arg r8(), i4, i8w, h*0
	/include scfexpress,library,,scf
	.arg r8(), l1w, h*0

		Compatibility issue:

			The get/put routines require the caller provide a
		    reference pointer buffer which must be i*8 on 64 bit
		    environments, can be i*4 on 32 bit systems.


	    A call to an initialization and reset routine must also be
	configured with the executive. It should be omitted as redundant
	if recordcsv, hdxifs, or hdxifc are also configured in the specific
	executive.

	lld&gt;load scfgetputreset,0,0,init,resetc
	lld&gt;ldoption $(S3BIN)\s3dll.lib



	call scfgetr(Value, pp, Name)

	    where:
		real*8 Value		! output
		integer*X pp		! input and output
		character*?? Name	! input

		Provide ascii symbol name in name. This should include array
	    index and member selection components when appropriate.
		On first reference to a specific name the "pp" variable must
	    have a value of 0. A pointer will be placed in this location which
	    should be passed on subsequent calls for the same symbol, and will
	    make them more efficient. Passing in an erroneous value will
	    be treated as a serious exception and will STOP the simulation.
		This variable may be of type I*4 on 32 bit systems, but must be
	    of type I*8 on 64 bit systems.
		On successful resolution of the symbol name, the variable's
	    current value will be stored in "Value". Appropriate type conversion
	    will be performed if the variable is of numeric type other than R*8.
		When the symbol name resolution is not successful, the Value
	    variable is left unchanged.



	call scfgetr1(Value, Name)

	    where:
		real*8 Value		! output
		character*?? Name	! input


		Similar to scfgetr, except the bookkeeping variable to make
	    repeat use more efficient is omitted.



	call scfgeti(Value, pp, Name)

	    where:
		integer*4 Value		! output
		integer pp		! input and output
		character*?? Name	! input

		Similar to scfgetr, except the output variable is integer.



	call scfgetra(Value, n, pp, Name)

	    where:
		real*8 Value(*)		! output
		integer*4 n		! input
		integer pp		! input and output
		character*?? Name	! input


		Similar to scfgetr, but an additional count argument is added
	    to retrieve multiple members of an array.



	call scfputr(rValue, pp, Name)
	call scfputi(iValue, pp, Name)
	call scfputra(raValue, n, pp, Name)

		The three "put" routines are analogous with the corresponding
	    "get" routines, with the direction reversed. Values passed in by
	    the caller will be stored to symbols identified by ascii symbol
	    names.


	call scfexpress(Value, ok, Expression)

	    where:
		real*8 Value		! output
		logical*1 ok		! output
		character*?? Expression	! input


		The scfexpress routine will evaluate an expression which may
	    contain standard arithmetic operators and multiple variable or
	    literal constant references.  If expression evaluation is
	    successful the "ok" variable will be set .TRUE. and the expression
	    result will be stored in "Value". If any expression evaluation
	    errors occur the "ok" variable will be set .FALSE. and the "Value"
	    variable will remain unchanged.

</Text>
</Topic>
<Topic>readfile<Text>

	JDB Scripting


	Most JDB actions can be performed from the command line, and these
    commands can be taken from a script file. JDB can produce a log file of
    interactive actions in a form which may be then be used as a script to
    repeat the sequence of actions. The formats of these commands are more
    influenced by implementation simplicity rather than user friendliness, and
    they are not well documented but they are usually pretty transparent. If
    the jdb instance has a console command window, the logged actions are also
    printed to it. To see the command formats, simply turn logging on and
    review the results.

	At this time the logging and replay functions do not have a graphic
    point and click interface, but rather must be initiated from the command
    line.


	To start logging with a chosen file name enter the command:

	OpenLog &lt;filename or path&gt;

	at the command line.

	JDB logging can also be enabled from the Settings frame. It contains
    a field named "AutoLog". When this setting is true, JDB will automatically
    log sessions to a file named "jdb.log".



	The "ReadFile" command initiates reading commands from a script.

	ReadFile &lt;file path&gt;


	Lines are processes as JDB commands. When the line starts with an
    at-sign ("@") it is to be followed by an integer time in milliseconds.
    JDB will defer processing the command until the indicated elapsed time
    from the time the command file was opened.

	The following commands are specific to the command file:

	exit

		explicit termination of command file

	filetime &lt;milliseconds&gt;

		reset the command file reference time


	if ( &lt;expression&gt; )

		if the expression evaluates true then processing will continue
		with the next line. If the expression evaluates false, command
		processing will skip forward to a matching else or endif line.

	else

		skip forward to endif

	endif

		terminate if / else block

	pause	&lt;milliseconds&gt;

	wait step

		wait while status is STEP


</Text>
</Topic>
<Topic>hdx<Text>
	The HD Connection

    The HD connection supports integration of external modeling systems
with a SimExec load as a client - server system.

    Modeling systems selected for this approach each execute in separate
server tasks. Each exchanges data and performs actions or execution frames
under the direction of a client.

    The HD Connection modules are included in the SimExec executive library
(iexecmd.lib, iexecmt.lib, or iexec.a). They should be defined through dbm to
the SimExec MSF through include statements as follows:
/INCLUDE 'hdxifc',library,,'hdx',
.arg I4
/INCLUDE 'hdxifcreset',library,,'hdx',
/INCLUDE 'hdxifcsclient',library,,'hdx',
.arg I4
/INCLUDE 'hdxifcsnap',library,,'hdx',
/INCLUDE 'hdxifcssync',library,,'hdx',
.arg I4
/INCLUDE 'hdxifcwait4ready',library,,'hdx',

/INCLUDE 'hdxifs',library,,'hdx',




hdxifc - the Client Side -

	    The client can concurrently interface to an arbitrary
	number of server tasks. The following paragraphs describe
	how to configure the client side of the interface.


	    Include the interface client module "hdxifc" and the 2
	snapshot reset modules in the Module Specification File (MSF)
	of the client SimExec system (see above).


-	    Load the interface client module and the snapshot and reset
	routines into an executive. This would typically be a real
	time executive (rtexec) in the client system. This requires
	load commands in the lld script of the form:
 
		Load hdxifc,x,1,freeze,run,init,term
		Load hdxifcsnap,0,0,snapshot
		Load hdxifcreset,0,0,resetc

	    where x is appropriate cycle rate at which the interface
	is to run.

	    LLD commands for building this executive must also include
	libraries required for sockets and for mdd lookup. (That is:
	s3dll.lib, and WSock32.lib on Windows;
	"dbs.a, xx_dbm_printf.o misc.a" on linux).



	    The hdxifc module is compatible with either the
	interactive or real-time forms of the SimExec executive
	task. However it will wait when appropriate for client response,
	and is not compatible with the MST's overtime kickout should the
	system fail to keep up with real time. (SimExec implements
	several alternatives relating to how to deal with such problems,
	specific work may be needed with regard to how to deal with
	the server model failing to keep up with real-time).



	    An initialization file is expected to configure hdxifc
	server connections. The name of the configuration file is
	formed by appending "ifc.ini" to the name (or alias) of the
	executive in which it is loaded. (For example: if the executive
	including the client is named "rtexr5c", then the initialization
	file must be named "rtexr5cifc.ini").

	    The first line of the initialization file is to inform
	hdxifc how many servers are to be configured via a line of
	the form:

		ServerCount=&lt;int&gt;

	    Additional contents are required to configure a few
	parameters which apply for each server, and a few others which
	apply to the entire client.

	    Items for which a single instance apply to the client include:

    Activate commands
    ReportFileName &lt;path&gt;
    TimeStatistics &lt;symbol&gt;
    Wait0 &lt;symbol&gt;
    Wait1 &lt;symbol&gt;
    MaxWait &lt;integer&gt;
    local &lt;variable&gt;



Activate[,&lt;modifiers&gt;],&lt;program name&gt; [&lt;program options&gt;]

	The Activate command allows activation of a program on the client
    computer. The command supports program options to be passed to the
    program started, and modifiers relating to the activation action. 
 	The activation modifiers available are as follows:

	n=&lt;int&gt;		- To assign a priority to the activated task.
	c=&lt;int&gt;		- To assign a processor affinity to the activated task.
			(its main thread on Windows).
	d=&lt;path&gt;	- To assign an activation directory to the activated
			task.
	e"&lt;var&gt;=&lt;value&gt;" - to set an environment variable value for the task.


ReportFileName &lt;path&gt;

	The ReportFileName command allow override of the default file name
    for the point resolution report generated at the end of initialization
    to a file of the users choice.


TimeStatistics &lt;symbol&gt;

	The TimeStatistics command enables collection of timing statistics
    by the client and identifies a global array where the results will be
    posted for external monitoring. Space should be reserved in the global
    data base (MDD) for 9 double values for each server.

Wait0 &lt;symbol&gt;

	The Wait0 command identifies a global variable to be incremented each
    time the client waits for server outputs ready, zeroed at each frame start.

Wait1 &lt;symbol&gt;

	The Wait1 command identifies a global variable to be incremented each
    time the client waits for server outputs ready.


MaxWait &lt;integer&gt;

	The MaxWait parameter specifies a maximum number of wait periods for
    which the client will wait for client outputs ready before initiating
    a simulation STOP condition with message "server has failed to respond
    in time".


local &lt;variable&gt;[(&lt;dimensions&gt;)]

	The local command defines a local variable which may be used for
    interfaces between servers which may not need to be visible to the
    balance of plant simulation. (It is intended for use when the client
    is ported into other simulation systems when definition of such variables
    in the global database may be inconvenient). The variable is implicitly
    of type double (real*8). It may have one or two dimensions.

Term 0 or 1

	When Term is set to 1 the client will send terminate request to its
    servers when system performs normal termination processing.


		    Each server should be given a name by a line of the form:

ifc&lt;n&gt; Name &lt;specificname&gt;

			Where &lt;n&gt; is replaced with a server number from 0 to
		    ServerCount-1, and the specficname makes sense to the user.

			This should be followed by identification of the server
		    host computer (computers may be identified by name or by
		    ip address).

host &lt;computerid&gt;

			Next specify whether a tcp socket or a Windows pipe
		    connection is to be used. The tcp protocol is compatible
		    with many computer environments, the Windows pipe connection
		    is specific to Microsoft Windows instances and tends to be
		    somewhat more efficient when in an all Windows environment.

		        When tcp is used, define the server service port.
		    When pipe define the service name. (tcp ports my be
		    identified by number, or by service name).


tcp
port &lt;portid&gt;

		    or

pipe
service &lt;servicename&gt;


			Each server may be configured to execute multiple
		    server frames between each data exchange. This should be
		    specified with a line of the form:

stepfactor &lt;n&gt;


			Each server may be configured to at a slower rate,
		    that is multiple client frames between each data exchange.
		    This should be specified with a line of the form:
stepdown &lt;n&gt;


			A pair of files to define the inputs and outputs
		    to be exchanged is required for each server. The file
		    names are specified by lines of the form:


inputsfile &lt;path&gt;
outputsfile &lt;path&gt;



	-	Provide the input and output definition files. These are
	    each simple text files.


		       The inputs file defines the inputs to the server from the
		    balance of simulation in the form

			&lt;server symbol&gt; = &lt;client symbol&gt;


		        The outputs file defines the outputs from server model
		    to the balance of simulation in the form

			&lt;client symbol&gt; = &lt;server symbol&gt;

		    where

			&lt;server symbol&gt; identifies a single data item in
			the server code. These may be resolved by the mdd or by
			the "xpt" system for variables defined by code executing
			in the server executive. 

			&lt;client symbol&gt; identifies a single data item (scalar
			or array element) defined in the balance
			of simulation environment.

		    Comment lines may be included in these files with
		an asterisk as the first character of the line.
		    These files processed by the interface routines, not
		compiled.
		    Embedded spaces are not permitted within the terms.


atLeisure

	   Sets a flag to indicate that the corresponding server is not
	constrained to keep up with the configured real time rate.

WaitAnom &lt;integer&gt;

	   The client will initiate an anomylous interchange when it has not
	received a frame execution from the executive for a long interval
	( for example when the simulation status is STOP). The length of this
	interval may be controlled by the WaitAnom setting, where the walue is
	in 10 millisecond increments (default 250).

icredirect

	    When ic redirect is specified the server ic actions are redirected
	to the ic directories of the client. It can only be used when both are
	executing on the same computer. Appropriate use of if file name
	suffix (environment variable S3_IC_SUFFIX) must be used to avoid file
	name collisions.
	    When is this mode, when the client is an rtexec, server IC read and
	write will each be redirected to the client's ODS IC directory.
	    When is this mode, when the client is an iexec, server IC read
	operations will look first for an ic file in the client's UDS IC
	directory, and if none exists, look in the client's ODS IC directory.
	IC write operations will be directed to the client's UDS IC directory.


	    Some output and control variables for debug or development
	operation may be defined for each server interface. These are defined
	by mdd names to be resolved by the client routine during initialization.

force &lt;value&gt;

	    For each server with the force option selected, the client will
	wait for a connection to be established before returning from its
	initialization call. It will also initiate a simulation STOP status
	if simulation FREEZE, RUN, or STEP is attempted with the server not
	connected.
	    Values of t (true), y (yes) or 1 may be used to select this option
	for a server.  Values of f (false), n (no) or 0 may be used to
	explicitly  disable it (default).


OnlineVar &lt;symbol name&gt;
DisableInVar &lt;symbol name&gt;
DisableOutVar &lt;symbol name&gt;
IsolateVar &lt;symbol name&gt;
PassCount &lt;symbol name&gt;

	   The &lt;OnlineVar&gt; is updated by the client interface module to show
	true when the server is connected, false when it is not.
	   The &lt;DisableInVar&gt;, when set disables the inputs to server from the
	balance of simulation.
	   The &lt;DisableOutVar&gt;, when set disables the outputs from server to the
	balance of simulation.
	   The &lt;IsolateVar&gt;, when set disables the server connection.




	Environmental Overrides:

		set R5_HOST=&lt;host id&gt;

			where host id is a computer name or IP address

		set R5_TCP=1
		    or
		set R5_PIPE=1


		set R5_STEPFACTOR=&lt;n&gt;






	Execution of the interface, client side

	    On its first pass of execution the client routine will start
	a thread for each server to handle the interface IO. This thread will
	read the inputs and outputs definition files, resolve the symbol names
	found on the client side of the equates, and attempt to establish
	communication with the interface server. If the server has
	already been started this will happen immediately, otherwise the
	routine will periodically retry, and establish communication whenever
	the server becomes available.
	    At the end of initialization the client routine will produce a
	simple interface report in the file "&lt;execname&gt;ifcreport". This will
	show any unresolved symbols, any duplicated symbols, and any circular
	definitions, followed by a detailed report showing the point resolution
	for all client side points in the interface definition files.

	    On each later pass of execution the interface client routine
	will return with no action if no server communication has been
	established, exchange server data if it has. This includes the
	following:
		Distribute output values to global variables.
		Collect input values from global variables.
		Request simulation status change for the client simulation if
	    the server has posted a request. When a status STOP request is
	    received, an appropritate message is placed in the fail message
	    buffer.
		Detect snapshot or reset actions on the client side, pass
	    corresponding requests to the server.
		Pass simulation status and problem time clock to server.
		When status is run (or step), request server to run a frame
	    (or frames, per stepfactor setting).

	    Should communication be active, but outputs not yet ready when it
	is time for the client data exchange to be performed the client routine
	will wait for a limited time (currently set at 1 second, adjusted by
	an easily identified parameter (MAXWAIT) in the initialization file) for
	it to become ready. If this does not occur in time then a STOP state
	will be requested.

	    Data and status exchange with the server will also be
	performed by the service thread, at a lower rate, when the executive
	is not perfoming periodic calls to the client (such as when in STOP
	status).

	    Should communication, once established, be broken, the client
	will initiate a STOP state with appropriate message, and then return
	to periodically attempting to (re-)establish communicaion with the
	server.







hdsifs - the server side module

	    The hdxifs module is to implement executive control and
	communication in order to execute RELAP5 or other model codes
	in an iexec as a server under the control of a client executing as
	part of a larger simulation environment. The client is will be an
	instance of module hdxifc. Some of the naming uses "r5" reflecting
	origins in supporting RELAP5, but nothing specific to RELAP
	remains in this module.


	    Principal component tasks include the following:

	- Communicate input, output, and control information through
	an ethernet socket (TCP) or Windows named Pipe

	- Replace the frame start logic of iexec


	    In order to replace the frame start logic of iexec hdxifs
	must be loaded with the SYNC flag option.
	i.e.

	lld&gt;load hdxifs,0,0,SYNC

	    On first call hdxifs will attempt to read an initialization file
	( &lt;executive name or alias&gt;ifs.ini )
	to specify the TCP service port or Windows Pipe, and identify several
	optional global variables.

	    On completing initialization will establish a service thread to
	communicate with client. The thread will wait on either a TCP socket or
	a Windows named pipe.

	    For flexibility and to maintain compatibility with earlier
	incarnations the service port or pipe name may be selected by
	environmental variables instead of in the initialization file.

		set R5_TCP=port

			or

		set R5_PIPE=service

	    As there are frequently more than one instance of server
	executives in a system it is seldom appropriate to set this in the
	system or S3_ENV environment, rather it is typically set either in the
	server exec lld file (exoption -e...) or by the activation process.

	    When no client communication is active, (either initially or
	after one has terminated) the executive will behave nearly as is
	normal for an iexec.
	    When client communication is active the executive will execute
	frames only in response to client requests. Status change requests,
	except TERMINATE, will be passed to the client.

	    On establishing a client connection the client will send a copy
	of the input and output definition files. Symbols to be passed are
	to be defined in terms of the mdd and the xpt services configured
	with the execxpt routine.  This point resolution is re-processed
	on each reset.
	    - s3dll must be linked with executive
	    - SimExec license must be available for execution

	    IC actions, that is snapshot and reset will be received from the
	client. Local IC actions, that is posted directly to global99 rather
	than received from the client will cause the server iexec to snap or
	reset, but will not be passed to the client.

Initialization File name:

	&lt;executive name or alias&gt;ifs.ini

Initialization File items:

	TCP=&lt;port&gt;
			- TCP port, may be either integer port number or
			a service name to be resolved from the system services
			file.

	SERVICE=&lt;pipename&gt;
			- Windows Pipe Service name

		    Only one of TCP or SERVICE should be defined, both may be
		omitted to use environmental setting instead.

	DisableInVar=&lt;symbol&gt;

			- logical*1 global variable name to disable input
			transfers.

	DisableOutVar=&lt;symbol&gt;

			- logical*1 global variable name to disable output
			transfers.

	IsolateVar=&lt;symbol&gt;

			- logical*1 global variable name to client connection.

	OnlineVar=&lt;symbol&gt;

			- logical*1 global variable name to indicate whether
			connected to a client.


	    DisableInVar, DisableOutVar, and IsolateVar are input control
	variables for debug and development control.
	    OnlineVar is an output to show current state.

	    (Somewhat obsolete) defaults are provided as follows:
		DisableInVar=disabler5in
		DisableOutVar=disabler5out
		IsolateVar=isolater5
		OnlineVar=r5online


	TermOnDisco=0 or 1

		    When TermOnDisco is set the server will exit upon
		disconnection from client. When TermOnDisco is not set the
		server will continue to execute after disconnection. It will
		set its simulation status to "INAC" from which it will be
		ready to run indepenently or accept another client connection.




hxxifcsclient, hdxifcssync - The server as client to additional servers.

	A server iexec can be a client to additional servers. This requires:

	Load hdxifcssync,0,0,sync
	Load hdxifcsclient,&lt;rate&gt;,1,init,freeze,run,term
	Load hdxifcsnap,0,0,snapshot
	Load hdxifcreset,0,0,resetc

	Such a server requires both &lt;execname&gt;ifc.ini and &lt;execname&gt;ifs.ini
	files.






The hdxifcwait4ready routine

	The hdxifcready routine will wait until the client module is actually
    ready for the next frame.

</Text>
</Topic>
<Topic>poststop<Text>
/*********************************************************************
 *
	Subroutine to request simulation status to STOP in response to
	invalid conditions detected by model

	Include in MSF as follows

/INCLUDE 'poststop',subroutine,  ,'dbg',
.arg  H0, H0, H0


	Place this source in src directory, include poststop in the msf, then
	cscan poststop

	fscan'ed modules may then request simulation status STOP and
	provide a message which will be displayed on instructor station,
	isd and jdb to provide context for the condition with a statement
	of the form:

	CALL poststop("Simulation fail requested from mymodule",
     *		"Due to invalid condition",
     *		"such and such");

	beware:
		fscan does not include recognition of the Fortran syntax to 
	continue a character literal across lines, and could also have trouble
	with indentation causing literal value to exceed Fortran's 72 char per
	line limitation. One way aroud this would be to use concatenation (//)
	of multiple string literals.

		The variations of Fortran to C calling conventions regarding
	character variables present difficulties.
	    If gnu fortran, or ifort with option /Gm apply, the appropriate
	prototype is:
void STDCALL poststop(char *m1, int i1, char *m2, int i2, char *m3, int i3)
		When using ifort without the /Gm option:
void STDCALL poststop(char *m1, char *m2, char *m3, int i1, int i2, int i3)
	    Cscan will provide the first of these when environmental variable
	MIX_CHAR_LEN is undefined or zero. It will provide the later whn
	environmental variable MIX_CHAR_LEN is set to 1.

		Should the calls to this module be in external library modules
	it will be necessary to notify lld to load this object (as it will
	fail to appear in msf cross-reference data). This can be done by
	adding the following to the lld command file for the applicable
	executive:

	load poststop,0,0


 *
 *********************************************************************/

/*program poststop	*/
/*global statusreq	*/
/*global failmsg1	*/
/*global failmsg2	*/
/*global failmsg3	*/
#define cscan_c_style
#include "poststop.h"

#include "stdio.h"
#include "string.h"
#pragma warning (disable:4996)
#define X_STOP 5

void STDCALL poststop(char *m1, char *m2, char *m3, int i1, int i2, int i3)
{
	int	len;

	len = i1 &lt; _iDim0_failmsg1 - 1 ? i1 : _iDim0_failmsg1 - 1;
	strncpy(failmsg1, m1, len);
	failmsg1[len] = 0;

	len = i2 &lt; _iDim0_failmsg2 - 1 ? i2 : _iDim0_failmsg2 - 1;
	strncpy(failmsg2, m2, len);
	failmsg2[len] = 0;

	len = i3 &lt; _iDim0_failmsg3 - 1 ? i3 : _iDim0_failmsg3 - 1;
	strncpy(failmsg3, m3, len);
	failmsg3[len] = 0;

	statusreq = X_STOP;

	printf("poststop: %s\n", failmsg1);
	printf("poststop: %s\n", failmsg2);
	printf("poststop: %s\n", failmsg3);
}

</Text>
</Topic>
<Topic>stopx<Text>/*****************************************************************************
 *
	STOPX routine - 

		Simulation modules developed in the SimExec environment
	should never include the Fortran "STOP" statement, however they may
	be problematic to eliminate when code developed in other environments
	is imported.
		When a Fortran STOP statement is executed the program exits
	with little or no room for intervention. We do not want our simulation
	executives to do so. When modeling software hits an unacceptable
	condition, having it disappear from the system is considered an
	unacceptable response, instead we expect the system to enter status
	"STOP" from which one may inspect the condition and proceed.

		Therefore:

		When fscan encounters a Fortran STOP statement it translates
	it to "CALL STOPX(&lt;argument&gt;)" and prints a warning.

		In order to successfully link and run the resulting object one
	must add the STOPX routine to the system.

		To do so:

		Copy this source to src/stopx.c (one way to do so would be
		"cmd&gt; dbm help,stopx &gt; src/stopx.c")

		perform dbm include, i.e.
		dbm&gt;/include stopx,subroutine,,for
		.arg h0

		cscan stopx

		If and when execution of the model then execises the STOPX call
	the executive will enter STOP status, with an appropriate message in
	the failmsg buffers.

 *
 ****************************************************************************/

/*program stopx */
/*arglist h0	*/
/*global failmsg1	*/
/*global failmsg2	*/
/*global failmsg3	*/

#define cscan_c_style
#include "stopx.h"

#pragma warning (disable:4996)
#include &lt;stdio.h&gt;
#include &lt;string.h&gt;

extern int	xfail;

extern void STDCALL	stopx(char *t, int len) {
	int	*z = 0;
	int	x = 0;
	int	sl;
	int	ll = len &gt; 65 ? 65 : len;

	sl = sprintf(failmsg1, "STOP ");
	strncpy(failmsg1 + sl, t, ll);
	failmsg1[sl + ll] = 0;
	sprintf(failmsg2, "", t);
	sprintf(failmsg3, "", t);
	xfail = 1;
	x = *z;
	*z = x;
}
</Text>
</Topic>
<Topic>execincludes<Text>
*
*	This  demonstrates the include commands to define the user
*	entry points defined in the iexec library on windows.
*	(It can be used directly via &gt;dbm help,execincludes | dbm)
*
*	see also:
*		help ddesrv
*		help hdx
*		help xpt
*		help rpcservers
*		help exesrv
*
*	compatibility issue:
*		the scfget/put routines expect the caller to provide a 
*		reference pointer buffer which was i*4 for ia32, but must
*		be i*8 for 64 bit environment.
*	    They are declared i*8 here.


/INCLUDE DDESRV,library,,exe

/INCLUDE execast,library,,exe
/INCLUDE execjscr,library,,exe


/INCLUDE 'hdxifc',library,,exe,
.arg I4
/INCLUDE 'hdxifcreset',library,,exe,
/INCLUDE 'hdxifcsclient',library,,exe,
.arg I4
/INCLUDE 'hdxifcsnap',library,,exe,
/INCLUDE 'hdxifcssync',library,,exe,
.arg I4
/INCLUDE 'hdxifcwait4ready',library,,exe,
/INCLUDE 'hdxifs',library,,exe,

/INCLUDE recordcsv,library,,exe
/INCLUDE resetrecordcsv,library,,exe

/INCLUDE  scfgetputreset,library,,exe
/INCLUDE  scfgetr,library,,exe
.arg r8w, i8w, h*0
/INCLUDE  scfgetr1,library,,exe
.arg r8w, h*0
/INCLUDE  scfgeti,library,,exe
.arg i4w, i8w, h*0
/INCLUDE  scfgetra,library,,exe
.arg r8()w, i4, i8w, h*0
/INCLUDE  scfputr,library,,exe
.arg r8, i8w, h*0
/INCLUDE  scfputi,library,,exe
.arg i4, i8w, h*0
/INCLUDE  scfputa,library,,exe
.arg r8(), i4, i8w, h*0
/INCLUDE  scfexpress,library,,exe
.arg r8, l1w, h*0

/INCLUDE xptmvtab,library,,exe
/INCLUDE mvtab_report,library,,exe
/INCLUDE mvtab_report1,library,,exe


/INCLUDE EXECGDASERVER,library,,exe
/INCLUDE JISSERVER,library,,exe

/INCLUDE EXESRV,library,,exe

</Text>
</Topic>
<Topic>backtrack<Text>/*


	Backtrack is a feature normally provided in SimExec training
   simulations in which the instructor station software automatically
   writes a periodic initial condition set when running any model problem.
   These are numbered from zero to a set maximum, the number increments on each
   snapshot until reset to zero when the maximum is reached. Backtrack
   snapshots are usually treated as transitory. They are overwritten frequently
   and considered obsolete upon reset to a permanent initial condition.

	To the SimExec system, backtrack snapshots are in most respects the
   same as permanent initial condition snapshots. They are identified by the
   naming convention of the letter "b" followed by a 3 digit number. 

	The creation of Backtrack snapshots is usually performed by instructor
   station software rather than by code executing as part of the executive
   load. This means that they are usually not created when executing stand
   alone tests in an interactive executive.
	Should you wish to create backtrack snapshots in a stand-alone
   executive it is simple to accomplish by loading code do so through
   normal SimExec means. A simple sample is provided below. To use it:
	    1. add an mdd variable named "backtrackinterval" of numeric type to
	    your mdd datase.
	    2. copy the code to src\backtracksnap.c
	    3. perform dbm&gt;/include,backtracksnap,control,,bck
	    4. add "load backtracknsap,1,1" to you lld script.
	The sample will do nothing until the variable "backtrackinterval" is
    set to a positive value. It will then initiate a backtrack snapshot each
    "backtrackinterval" seconds, recycling after 100 records.
	It has not been added to the executive library because it is not
    sufficiently generic and because use of it is not compatibile with
    instructor station software usually present in a mature training simulator,
    and because you may want to modify it in to better fit your specific needs.
*/

/*program backtracksnap */
/*global backtrackinterval */
/*global icreq */
/*global icname */
#include "backtracksnap.h"
#define cscan_c_style
#include &lt;stdio.h&gt;
#pragma warning (disable:4996)


static int	counter;
static int 	backtracknumber;
#define maxbacktrack 100

void STDCALL backtracksnap()
{
	counter += 1;
	if (backtrackinterval &gt; 0 &amp;&amp; counter &gt;= backtrackinterval) {
		sprintf(icname, "b%3.3d", backtracknumber);
		icreq = 'W';
		backtracknumber += 1;
		if (backtracknumber &gt;= maxbacktrack)
			backtracknumber = 0;
		counter = 0;
	}
}
</Text>
</Topic>
<Topic>svn<Text>


	dbm supports integration of merge of module source files into a
   subversion repository.

    Preliminaries:

	Subversion must be installed. Subversion may be freely acquired from
    the internet sourceforge site. Testing for this integration has used
    Subversion release 8.5; The subversion functionality used is stable
    and common to a wide range of subversion releases.

	Subversion executables must be included on path.

	Subversion repository must be created and ODS directory established as
    a work area.





	In order to attach a SimExec system to subversion one must create
    a subversion repository and attach it. The following command file shows
    a method to do so with a local repository.

set SYSNAME=MyProject
set WHEREP=N:\svntest
set WHEREV=file:///N:/svntest

rmdir /S /Q %WHEREP%

svnadmin create --fs-type fsfs %WHEREP%
mkdir emptydir
svn import emptydir  %WHEREV%/trunk -m"create trunk"
svn import emptydir  %WHEREV%/trunk/%SYSNAME% -m"create %SYSNAME%"
svn import emptydir  %WHEREV%/trunk/%SYSNAME%/ods -m"create %SYSNAME%"

mkdir %S3_HOME%\ods\src
svn import %S3_HOME%\ods\src  %WHEREV%/trunk/%SYSNAME%/ods/src -m"import src"
mkdir %S3_HOME%\ods\bd
svn import %S3_HOME%\ods\bd  %WHEREV%/trunk/%SYSNAME%/ods/bd -m"import bd"
mkdir %S3_HOME%\ods\text
svn import %S3_HOME%\ods\text  %WHEREV%/trunk/%SYSNAME%/ods/text -m"import text"

mkdir %S3_HOME%\ods\generic
svn import %S3_HOME%\ods\generic  %WHEREV%/trunk/%SYSNAME%/ods/generic -m"import generic"
mkdir %S3_HOME%\ods\specific
svn import %S3_HOME%\ods\specific  %WHEREV%/trunk/%SYSNAME%/ods/specific -m"import specific"

svn checkout %WHEREV%/trunk/%SYSNAME% %S3_HOME% --force



	Subversion repositories may be server based rather than local.
    The merge integration can be performed such a server based repository.
    Consult subversion documentation for directions to configure one. When
    login permissions apply, one should allow them to be cached.




dbm&gt;option mmsf svn
	to enable mmsf svn integration

dbm&gt;option mmsf no svn
	to disable mmsf svn integration


When mmsf svn is enabled:

	dbm will assume that svn command line executable binaries are on PATH
    and that the ODS is corrected "attached" to an svn repository.

-  On merge of a module

	If it has a source then the source an svn import or update operation
    will be performed.

	If a specific component (has CDS record) then svn import or update
   will also be performed for the .cds file.
	If source name has changed from previous ods content (unusual) then
    svn delete will be performed for the obsolete file.
	Merge comments will be included on each subversion operation.

-  On remove of an ODS module
	If module has a source then svn delete will be performed for the
    obsolete file, and when applicable on the CDS record.

-  update svn on CDF,O, and MCDF

-  extract by rev
-  cdf extract by rev

-  On cds re-expansion as part of MCDF
	Each generated source will be compared to old instance, and if it shows
    change then svn update for the source will be performed. (It is possible,
    but unusual for the cds record to change on this operation, this potential
    is not addressed.)


- dsd h (history) list will get svn log

- CDF o delete

- diff listings
	Dbm diff command with 2 version numbers specified will wrap the svn
    diff listing.




</Text>
</Topic>
<Topic>jscr<Text>

	JadeScript is an interpreted language initially defined by the
    Automatic Scenario Testing (AST) program.
    	When the execjscr module is configured in a SimExec executive,
    JadeScript file execution in the executive may be invoked from isd or
    Jade-Dashboard.


	To enable this feature you must include the execjscr module in the
    MSF and load it in your lld script.

	For example:

	    dbm&gt;/include execjscr,library,,s3,Jade Script interpreter

	    lld&gt;load execjscr,20,1,init,freeze,run
	    lld&gt;ldo $(S3BIN)\s3dll.lib

	When execjscr has been loaded into an executive it may be controlled
    from the isd or J-Dashboard command prompt as follows:

	&gt;call jscr "load &lt;file path&gt;"
		will load a script file
	&gt;call jscr "run &lt;file path&gt;"
		will run a previously loaded script file
	&gt;call jscr "start &lt;file path&gt;"
		will load and run a script file
	&gt;call jscr "schedule &lt;file path&gt; &lt;integer&gt; run"
	&gt;call jscr "schedule &lt;file path&gt; &lt;integer&gt; freeze"
	&gt;call jscr "schedule &lt;file path&gt; &lt;integer&gt; run freez"
		will load a script file and schedule its repeated execution
		at the designated frame interval and simulation state
	&gt;call jscr "trace &lt;integer 0 to 2&gt;"
		will set trace level for the Jade Script routine
	&gt;call jscr "unload &lt;file path&gt;"
		will unload a Jade Script file



	The Executive implementation of the JadeScript language includes
    additional operators and is "looser" about file locations than the
    original implementation.

	Consult the "SimExec AST User Guide" for description and explanation
    of the JadeScript language. A condensed summary of its syntax is
    provided below.

    - case sensitivity

	JadeScript is case sensitive for keywords and local names. JadeScript
	programs may also reference symbols defined by SimExec databases
	which are usually configured as case insensitive.

   - global symbols may be referenced by symbol name, array offsets follow
	Fortran style, that is (&lt;indices&gt;) where indices typically start at
	one. Structure member separator is '.'.

   - local variables have no explicit type; they may take implicit type as
	numeric, boolean, or string on assignment. 


comments:

	/* &lt;text&gt; */		comment block
	// &lt;text&gt;		end of line comment


statements:

    assignment:
	&lt;variable&gt; = &lt;expression&gt;;
    block:
	{ &lt;statements&gt; }
    for:
	for (&lt;initializer statment&gt;; &lt;condition&gt;; &lt;iterator&gt;) &lt;statement&gt;
    function call:
	&lt;function name&gt;(&lt;argument list&gt;) &lt;statement&gt;;
    function definition:
	function &lt;name&gt;(&lt;argument list&gt;) &lt;block&gt;
    if:
	if (&lt;expression&gt;) &lt;statement&gt; [else &lt;statement&gt;]
    import:
	import &lt;file identifier&gt;
    return:
	return [&lt;expression&gt;];
    variable definition:
	var &lt;var list&gt;;
    while (&lt;condition&gt;) &lt;statement&gt;


expression:
	&lt;term&gt;
	&lt;term&gt; &lt;binary operator&gt; &lt;term&gt;
	&lt;unary operator&gt; &lt;term&gt;
	&lt;term&gt; ? &lt;expression&gt; : &lt;expression&gt;

term:
	&lt;digit[s]&gt;[.&lt;digits&gt;][e[&lt;sign&gt;]&lt;digit[s]&gt;]
	0x&lt;hex digit[s]&gt;
	"&lt;ascii string&gt;"
	'&lt;ascii string&gt;'
	null
	true
	false

binary operators:
	+		addition
	-		subtraction
	*		multiplication
	/		division
	**		exponentiation
	&amp;&amp;		boolean and
	||		boolean or
	&amp;		binary and
	/|		binary or
	^		binary exclusive or
	&lt;&lt;		shift left
	&gt;&gt;		shift right
	==		equal
	!=		not equal
	&lt;		less than
	&lt;=		less than or equal
	&gt;		greater than
	&gt;=		greater than or equal

unary operators:
	-		numeric inverse
	!		boolean not
	~		binary not

var list:
	&lt;symbol&gt;[=&lt;value&gt;][,&lt;var list&gt;;



built in functions:
	print	println
	abs	acos	asin	atan
	ceil	cos
	exp
	floor
	log	log10
	max	min
	pow
	random	round
	sign	sin	sqrt
	tan


</Text>
</Topic>
</DbmHelp>
